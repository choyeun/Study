/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var uc=Object.create;var Lr=Object.defineProperty;var pc=Object.getOwnPropertyDescriptor;var dc=Object.getOwnPropertyNames;var mc=Object.getPrototypeOf,hc=Object.prototype.hasOwnProperty;var fs=e=>{throw TypeError(e)};var _c=(e,t,r)=>t in e?Lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),vc=(e,t)=>{for(var r in t)Lr(e,r,{get:t[r],enumerable:!0})},us=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dc(t))!hc.call(e,o)&&o!==r&&Lr(e,o,{get:()=>t[o],enumerable:!(n=pc(t,o))||n.enumerable});return e};var ps=(e,t,r)=>(r=e!=null?uc(mc(e)):{},us(t||!e||!e.__esModule?Lr(r,"default",{value:e,enumerable:!0}):r,e)),bc=e=>us(Lr({},"__esModule",{value:!0}),e);var Re=(e,t,r)=>_c(e,typeof t!="symbol"?t+"":t,r),ds=(e,t,r)=>t.has(e)||fs("Cannot "+r);var me=(e,t,r)=>(ds(e,t,"read from private field"),r?r.call(e):t.get(e)),$n=(e,t,r)=>t.has(e)?fs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Sn=(e,t,r,n)=>(ds(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Vo=gc(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var Z=require("obsidian"),Mo="YYYY-MM-DD",Bo="gggg-[W]ww",ms="YYYY-MM",hs="YYYY-[Q]Q",_s="YYYY";function Mr(e){let t=window.app.plugins.getPlugin("periodic-notes");return t&&t.settings?.[e]?.enabled}function Br(){try{let{internalPlugins:e,plugins:t}=window.app;if(Mr("daily")){let{format:i,folder:s,template:a}=t.getPlugin("periodic-notes")?.settings?.daily||{};return{format:i||Mo,folder:s?.trim()||"",template:a?.trim()||""}}let{folder:r,format:n,template:o}=e.getPluginById("daily-notes")?.instance?.options||{};return{format:n||Mo,folder:r?.trim()||"",template:o?.trim()||""}}catch(e){console.info("No custom daily note settings found!",e)}}function Or(){try{let e=window.app.plugins,t=e.getPlugin("calendar")?.options,r=e.getPlugin("periodic-notes")?.settings?.weekly;if(Mr("weekly"))return{format:r.format||Bo,folder:r.folder?.trim()||"",template:r.template?.trim()||""};let n=t||{};return{format:n.weeklyNoteFormat||Bo,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(e){console.info("No custom weekly note settings found!",e)}}function Fr(){let e=window.app.plugins;try{let t=Mr("monthly")&&e.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:t.format||ms,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom monthly note settings found!",t)}}function Yr(){let e=window.app.plugins;try{let t=Mr("quarterly")&&e.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:t.format||hs,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom quarterly note settings found!",t)}}function Wr(){let e=window.app.plugins;try{let t=Mr("yearly")&&e.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:t.format||_s,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom yearly note settings found!",t)}}function gs(...e){let t=[];for(let n=0,o=e.length;n<o;n++)t=t.concat(e[n].split("/"));let r=[];for(let n=0,o=t.length;n<o;n++){let i=t[n];!i||i==="."||r.push(i)}return t[0]===""&&r.unshift(""),r.join("/")}function Ac(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function wc(e){let t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){let r=gs(...t);window.app.vault.getAbstractFileByPath(r)||await window.app.vault.createFolder(r)}}async function Hr(e,t){t.endsWith(".md")||(t+=".md");let r=Z.normalizePath(gs(e,t));return await wc(r),r}async function tr(e){let{metadataCache:t,vault:r}=window.app,n=Z.normalizePath(e);if(n==="/")return Promise.resolve(["",null]);try{let o=t.getFirstLinkpathDest(n,""),i=await r.cachedRead(o),s=window.app.foldManager.load(o);return[i,s]}catch(o){return console.error(`Failed to read the daily note template '${n}'`,o),new Z.Notice("Failed to read the daily note template"),["",null]}}function Ge(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}function vs(e){return e.replace(/\[[^\]]*\]/g,"")}function yc(e,t){if(t==="week"){let r=vs(e);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function rr(e,t){return bs(e.basename,t)}function xc(e,t){return bs(Ac(e),t)}function bs(e,t){let n={day:Br,week:Or,month:Fr,quarter:Yr,year:Wr}[t]().format.split("/").pop(),o=window.moment(e,n,!0);if(!o.isValid())return null;if(yc(n,t)&&t==="week"){let i=vs(n);if(/w{1,2}/i.test(i))return window.moment(e,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}var Oo=class extends Error{};async function As(e){let t=window.app,{vault:r}=t,n=window.moment,{template:o,format:i,folder:s}=Br(),[a,l]=await tr(o),c=e.format(i),u=await Hr(s,c);try{let p=await r.create(u,a.replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,d,_,v,g,b)=>{let R=n(),S=e.clone().set({hour:R.get("hour"),minute:R.get("minute"),second:R.get("second")});return _&&S.add(parseInt(v,10),g),b?S.format(b.substring(1).trim()):S.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(p,l),p}catch(p){console.error(`Failed to create file: '${u}'`,p),new Z.Notice("Unable to create new file.")}}function Ec(e,t){return t[Ge(e,"day")]??null}function Cc(){let{vault:e}=window.app,{folder:t}=Br(),r=e.getAbstractFileByPath(Z.normalizePath(t));if(!r)throw new Oo("Failed to find daily notes folder");let n={};return Z.Vault.recurseChildren(r,o=>{if(o instanceof Z.TFile){let i=rr(o,"day");if(i){let s=Ge(i,"day");n[s]=o}}}),n}var Fo=class extends Error{};function kc(){let{moment:e}=window,t=e.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)r.push(r.shift()),t--;return r}function Tc(e){return kc().indexOf(e.toLowerCase())}async function ws(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Or(),[i,s]=await tr(r),a=e.format(n),l=await Hr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,p,f,d,_,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return f&&b.add(parseInt(d,10),_),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*title\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(u,p,f)=>{let d=Tc(p);return e.weekday(d).format(f.trim())}));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new Z.Notice("Unable to create new file.")}}function Ic(e,t){return t[Ge(e,"week")]??null}function Nc(){let e={};if(!xs())return e;let{vault:t}=window.app,{folder:r}=Or(),n=t.getAbstractFileByPath(Z.normalizePath(r));if(!n)throw new Fo("Failed to find weekly notes folder");return Z.Vault.recurseChildren(n,o=>{if(o instanceof Z.TFile){let i=rr(o,"week");if(i){let s=Ge(i,"week");e[s]=o}}}),e}var Yo=class extends Error{};async function ys(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Fr(),[i,s]=await tr(r),a=e.format(n),l=await Hr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,p,f,d,_,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return f&&b.add(parseInt(d,10),_),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new Z.Notice("Unable to create new file.")}}function Pc(e,t){return t[Ge(e,"month")]??null}function Dc(){let e={};if(!Es())return e;let{vault:t}=window.app,{folder:r}=Fr(),n=t.getAbstractFileByPath(Z.normalizePath(r));if(!n)throw new Yo("Failed to find monthly notes folder");return Z.Vault.recurseChildren(n,o=>{if(o instanceof Z.TFile){let i=rr(o,"month");if(i){let s=Ge(i,"month");e[s]=o}}}),e}var Wo=class extends Error{};async function $c(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Yr(),[i,s]=await tr(r),a=e.format(n),l=await Hr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,p,f,d,_,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return f&&b.add(parseInt(d,10),_),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new Z.Notice("Unable to create new file.")}}function Sc(e,t){return t[Ge(e,"quarter")]??null}function Rc(){let e={};if(!Cs())return e;let{vault:t}=window.app,{folder:r}=Yr(),n=t.getAbstractFileByPath(Z.normalizePath(r));if(!n)throw new Wo("Failed to find quarterly notes folder");return Z.Vault.recurseChildren(n,o=>{if(o instanceof Z.TFile){let i=rr(o,"quarter");if(i){let s=Ge(i,"quarter");e[s]=o}}}),e}var Ho=class extends Error{};async function Lc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Wr(),[i,s]=await tr(r),a=e.format(n),l=await Hr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,p,f,d,_,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return f&&b.add(parseInt(d,10),_),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new Z.Notice("Unable to create new file.")}}function Mc(e,t){return t[Ge(e,"year")]??null}function Bc(){let e={};if(!ks())return e;let{vault:t}=window.app,{folder:r}=Wr(),n=t.getAbstractFileByPath(Z.normalizePath(r));if(!n)throw new Ho("Failed to find yearly notes folder");return Z.Vault.recurseChildren(n,o=>{if(o instanceof Z.TFile){let i=rr(o,"year");if(i){let s=Ge(i,"year");e[s]=o}}}),e}function Oc(){let{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;let r=e.plugins.getPlugin("periodic-notes");return r&&r.settings?.daily?.enabled}function xs(){let{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;let t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.weekly?.enabled}function Es(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.monthly?.enabled}function Cs(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.quarterly?.enabled}function ks(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.yearly?.enabled}function Fc(e){let t={day:Br,week:Or,month:Fr,quarter:Yr,year:Wr}[e];return t()}function Yc(e,t){return{day:As,month:ys,week:ws}[e](t)}H.DEFAULT_DAILY_NOTE_FORMAT=Mo;H.DEFAULT_MONTHLY_NOTE_FORMAT=ms;H.DEFAULT_QUARTERLY_NOTE_FORMAT=hs;H.DEFAULT_WEEKLY_NOTE_FORMAT=Bo;H.DEFAULT_YEARLY_NOTE_FORMAT=_s;H.appHasDailyNotesPluginLoaded=Oc;H.appHasMonthlyNotesPluginLoaded=Es;H.appHasQuarterlyNotesPluginLoaded=Cs;H.appHasWeeklyNotesPluginLoaded=xs;H.appHasYearlyNotesPluginLoaded=ks;H.createDailyNote=As;H.createMonthlyNote=ys;H.createPeriodicNote=Yc;H.createQuarterlyNote=$c;H.createWeeklyNote=ws;H.createYearlyNote=Lc;H.getAllDailyNotes=Cc;H.getAllMonthlyNotes=Dc;H.getAllQuarterlyNotes=Rc;H.getAllWeeklyNotes=Nc;H.getAllYearlyNotes=Bc;H.getDailyNote=Ec;H.getDailyNoteSettings=Br;H.getDateFromFile=rr;H.getDateFromPath=xc;H.getDateUID=Ge;H.getMonthlyNote=Pc;H.getMonthlyNoteSettings=Fr;H.getPeriodicNoteSettings=Fc;H.getQuarterlyNote=Sc;H.getQuarterlyNoteSettings=Yr;H.getTemplateInfo=tr;H.getWeeklyNote=Ic;H.getWeeklyNoteSettings=Or;H.getYearlyNote=Mc;H.getYearlyNoteSettings=Wr});var cd={};vc(cd,{default:()=>So});module.exports=bc(cd);var Ro=require("obsidian"),sc=ps(Vo());var Ts="YYYYMMDD",Is=/(?<target>{{date:?(?<date>[^}]*)}})/g,Ns="Day Planner-{{date}}.md",Rn=`## Day Planner
- [ ] `,nr="timeline";var j={lineColor:"#CAD5CA",timelineColorBegin:"#008183",timelineColorEnd:"#4d194d",timelineHoverColorBegin:"#83003f",timelineHoverColorEnd:"#5d0e2e"},Ps=["any-key","audio-file","blocks","broken-link","bullet-list","calendar-with-checkmark","checkmark","create-new","cross","cross-in-box","crossed-star","dice","document","documents","dot-network","enter","expand-vertically","filled-pin","folder","gear","go-to-file","hashtag","help","horizontal-split","image-file","info","install","languages","left-arrow","left-arrow-with-tail","lines-of-text","link","logo-crystal","magnifying-glass","microphone","microphone-filled","open-vault","pane-layout","paper-plane","pdf-file","pencil","pin","popup-open","presentation","reset","right-arrow","right-arrow-with-tail","right-triangle","search","sheets-in-box","star","star-list","switch","three-horizontal-bars","trash","two-columns","up-and-down-arrows","uppercase-lowercase-a","vault","vertical-split","vertical-three-dots"];var Mn=require("obsidian"),Bn=ps(Vo());var V=class e{static getInstance(){return e.instance||(e.instance=new e),e.instance}updateSettings(t){this.settings=t}logDebug(t,...r){(!this.settings||this.settings.debug)&&console.debug("(DP)",t,...r)}logInfo(t,...r){console.info("(DP)",t,...r)}logError(t,...r){console.error("(DP)",t,...r)}};var Ft=class{replace(t){let r=t,n=[...r.matchAll(Is)];if(n.length===0)return t;let o=new Date,i=n.map(a=>{let l=a.groups.date===""?Ts:a.groups.date;return[a.groups.target,this.getMoment(o,l)]}),s=r;for(let a of i)s=s.replace(a[0],a[1]);return s}getMoment(t,r){return window.moment(t).format(r)}};var Ln=class{constructor(){this.customFolder="Day Planners";this.debug=!1;this.mode="File";this.mermaid=!1;this.notesToDates=[];this.completePastItems=!0;this.circularProgress=!1;this.nowAndNextInStatusBar=!1;this.showTaskNotification=!1;this.timelineZoomLevel=4;this.timelineIcon="calendar-with-checkmark";this.plannerLabel="Day Planner";this.breakLabel="BREAK";this.endLabel="END";this.markCurrent=!1;this.correctLabels=!0;this.writer=void 0;this.preserveValues="-";this.hideTimelineValues=""}},or=class{constructor(t,r){this.notePath=t,this.date=r}},xt=class{exists(t){return t&&this.active(t)!==void 0}active(t){let r=new Date().toDateString();return t?.filter(n=>n.date===r)[0]}},ut=(n=>(n.File="File",n.Command="Command",n.Daily="Daily",n))(ut||{});var Vr=class{constructor(t,r){this.vault=t,this.settings=r,this.momentDateRegex=new Ft,this.noteForDateQuery=new xt}async hasTodayNote(){if(this.settings.mode==="Daily"&&(0,Bn.appHasDailyNotesPluginLoaded)()){let t=new Date,{folder:r,format:n}=(0,Bn.getDailyNoteSettings)(),o=`${this.momentDateRegex.getMoment(t,n)}.md`,i=(0,Mn.normalizePath)(`${r}/${o}`);if(await this.vault.adapter.exists(i)){let s=new or(i,t.toDateString());return this.settings.notesToDates=[s],!0}return!1}return this.settings.mode==="File"||this.noteForDateQuery.exists(this.settings.notesToDates)}todayPlannerFilePath(){if(this.settings.mode==="Command"||this.settings.mode==="Daily")return this.noteForDateQuery.active(this.settings.notesToDates)?.notePath;let t=this.todayPlannerFileName();return`${this.settings.customFolder??"Day Planners"}/${t}`}todayPlannerFileName(){return this.momentDateRegex.replace(Ns)}async prepareFile(){try{this.settings.mode==="File"&&(await this.createFolderIfNotExists(this.settings.customFolder),await this.createFileIfNotExists(this.todayPlannerFilePath()))}catch(t){V.getInstance().logError("error updating file settings",t)}}async createFolderIfNotExists(t){try{let r=(0,Mn.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.createFolder(r)}catch(r){V.getInstance().logError("error creating folder",t,r)}}async createFileIfNotExists(t){try{let r=(0,Mn.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.create(r,Rn)}catch(r){V.getInstance().logError("file does not exist",t,r)}}async processFile(t,r){try{return await this.vault.adapter.process(t,r)}catch(n){V.getInstance().logError("error processing file",t,n)}}};var nt=class{constructor(t,r){this.iAmWriter=r,this.empty=t.length<1,this.invalid=!1,this.items=t,this.past=[]}addItem(t){this.items.push(t),this.empty=!1}calculate(t){try{if(this.items.sort((r,n)=>r.time.getTime()-n.time.getTime()),this.items.length===0){this.empty=!0;return}this.items.forEach((r,n)=>{let o=this.items[n+1];if(r.time<t&&(r.isEnd||o&&t<o.time)?(this.current=r,r.isEnd&&(r.isPast=!0,this.past.push(r)),this.next=r.isEnd?null:o):r.time<t&&(r.isPast=!0,this.past.push(r)),o){let i=window.moment,s=i.duration(i(o.time).diff(i(r.time))).asMinutes();r.durationMins=s}})}catch(r){V.getInstance().logError("error updating item status",r)}}isCurrent(t){return t===this.current}activeItems(){return this.items.filter(t=>!t.hidden)}},Go=class{constructor(t,r,n,o,i,s,a,l,c,u){this.line=t,this.charIndex=r,this.status=n,this.isBreak=o,this.isEnd=i,this.time=s,this.rawTime=a,this.text=l,this.raw=c,this.hidden=u}},On=class{constructor(t){this.settings=t}getPlanItem(t,r,n,o,i,s,a,l,c){let u=this.getDisplayText(o,i,l),p=n&&this.settings.hideTimelineValues.includes(n);return new Go(t,r,n,o,i,s,a,u,c,p)}getDisplayText(t,r,n){return t&&this.settings.correctLabels?this.settings.breakLabel:r&&this.settings.correctLabels?this.settings.endLabel:n}};var Gr=class{constructor(t){this.updateSettings(t),this.PLAN_PARSER_REGEX=/^(-?[\s]*\[?(?<completion>.)\]\s*?(?<hours>\d{1,2}):(?<minutes>\d{2})\s(?<text>.*?))$/i}updateSettings(t){this.settings=t,this.planItemFactory=new On(t),this.PLAN_START=`# ${this.settings.plannerLabel}`;let r=this.sanitize(t.breakLabel),n=this.sanitize(t.endLabel);this.PLAN_BREAK=new RegExp(`^${r}(?=\\b|$)`,"i"),this.PLAN_END=new RegExp(`^${n}(?=\\b|$)`,"i")}sanitize(t){return t.replace(/\./g,"\\.").replace(/\*/g,"\\*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]")}parseContent(t,r,n){let o=!1,i=t.split(`
`);if(i.forEach((s,a)=>{if(s.length!==0)if(o){if(s==="---"){o=!1;return}let l=this.parseLine(a,s);l&&(r.addItem(l),o=!l.isEnd)}else s.trim().endsWith(this.PLAN_START)&&(o=!0)}),r.calculate(n),!r.empty&&r.iAmWriter)for(let s of r.items){let a=this.updateItemCompletion(s,r);i[s.line]=a}return i.join(`
`)}parseLine(t,r){try{let n=this.PLAN_PARSER_REGEX.exec(r);if(n){let o=n,i=o.groups.text,s=this.matches(i,this.PLAN_BREAK),a=this.matches(i,this.PLAN_END),l=new Date;return l.setHours(Number.parseInt(o.groups.hours)),l.setMinutes(Number.parseInt(o.groups.minutes)),l.setSeconds(0),this.planItemFactory.getPlanItem(t,o.index,o.groups.completion,s,a,l,`${o.groups.hours.padStart(2,"0")}:${o.groups.minutes}`,i,o[0])}}catch(n){V.getInstance().logError("error parsing line",r,n)}}updateItemCompletion(t,r){let n=t.status;return this.settings.completePastItems&&(this.settings.preserveValues.includes(n)||(t.isPast?n="x":this.settings.markCurrent&&r.isCurrent(t)?n="/":n=" ")),`- [${n}] ${t.rawTime} ${t.text}`}matches(t,r){return r.test(t.trim())}};var Uo=require("obsidian");var ir=class{constructor(t,r,n,o,i){this.workspace=t,this.settings=r,this.file=n,this.parser=o,this.progress=i,this.noteForDateQuery=new xt}async insertPlanner(){let t=this.file.todayPlannerFilePath(),n=this.workspace.getActiveViewOfType(Uo.MarkdownView).editor.getCursor().line;await this.file.processFile(t,o=>{let i=o.split(`
`);return[...i.slice(0,n),...Rn.split(`
`),...i.slice(n)].join(`
`)})}async processDayPlanner(t){try{await this.file.prepareFile();let r=this.file.todayPlannerFilePath(),n=new nt([],t),o=new Date;return await this.file.processFile(r,i=>this.parser.parseContent(i,n,o)),n}catch(r){V.getInstance().logError("error processing file",t,this.file,r)}}checkIsDayPlannerEditing(){let t=this.workspace.getActiveViewOfType(Uo.MarkdownView);if(t==null)return;let r=t.getState(),n=this.file.todayPlannerFilePath();n&&r.file===n&&(this.dayPlannerLastEdit=new Date().getTime())}};var sr=window.moment,Ur=class{getProgress(t,r){try{let o=sr(new Date),i=sr(t.time),s=sr(r.time),a=sr.duration(s.diff(i)),l=sr.duration(o.diff(i)),c=sr.duration(s.diff(o)),u=l.asMinutes()/a.asMinutes()*100,p=c.asMinutes().toFixed(0);return{percentageComplete:u,minsUntilNext:p}}catch(n){V.getInstance().logError("error updating progress",t,r,n)}}progressMarkdown(t,r){try{let{percentageComplete:n}=this.getProgress(t,r),o=Math.floor(20*(n/100));return new Array(o).join("->")+new Array(20-o).join("_ ")}catch(n){V.getInstance().logError("error updating markdown",t,r,n)}}};var ee=require("obsidian");var Fn=class extends ee.PluginSettingTab{constructor(r,n){super(r,n);this.momentDateRegex=new Ft;this.plugin=n}async save(){await this.plugin.saveData(this.plugin.settings),V.getInstance().logDebug("Settings saved")}hide(){this.save()}display(){let{containerEl:r}=this;r.empty(),new ee.Setting(r).setName("Day Planner mode").setDesc(this.modeDescriptionContent()).addDropdown(o=>o.addOption(ut.File,"File mode").addOption(ut.Command,"Command mode").addOption(ut.Daily,"Daily mode").setValue(ut[this.plugin.settings.mode]||"File".toString()).onChange(i=>{this.plugin.settings.mode=ut[i]})),new ee.Setting(r).setName("Complete past planner items").setDesc("The plugin will automatically mark checkboxes for tasks and breaks in the past as complete (x)").addToggle(o=>o.setValue(this.plugin.settings.completePastItems).onChange(i=>{this.plugin.settings.completePastItems=i})),new ee.Setting(r).setName("Mark in progress planner item").setDesc("The plugin will automatically mark the textbox for the current item as in progress (/)").addToggle(o=>o.setValue(this.plugin.settings.markCurrent).onChange(i=>{this.plugin.settings.markCurrent=i})),new ee.Setting(r).setName("Status bar - circular progress").setDesc("Display a circular progress bar in the status bar").addToggle(o=>o.setValue(this.plugin.settings.circularProgress).onChange(i=>{this.plugin.settings.circularProgress=i})),new ee.Setting(r).setName("Status bar - now and next").setDesc("Display now and next tasks in the status bar").addToggle(o=>o.setValue(this.plugin.settings.nowAndNextInStatusBar).onChange(i=>{this.plugin.settings.nowAndNextInStatusBar=i})),new ee.Setting(r).setName("Task notification").setDesc("Display a notification when a new task is started").addToggle(o=>o.setValue(this.plugin.settings.showTaskNotification).onChange(i=>{this.plugin.settings.showTaskNotification=i})),new ee.Setting(r).setName("Timeline zoom level").setDesc("The zoom level to display the timeline. The higher the number, the more vertical space each task will take up.").addSlider(o=>o.setLimits(1,5,1).setValue(this.plugin.settings.timelineZoomLevel??4).setDynamicTooltip().onChange(i=>{this.plugin.settings.timelineZoomLevel=i})),new ee.Setting(r).setName("Timeline icon").setDesc("The icon of the timeline pane. Reopen timeline pane or restart obsidian to see the change.").addDropdown(o=>{for(let i of Ps)o.addOption(i,i);return o.setValue(this.plugin.settings.timelineIcon??"calendar-with-checkmark").onChange(i=>{this.plugin.settings.timelineIcon=i})});let n={};new ee.Setting(r).setName("Timeline colors").setDesc("Gradient colors for the timeline (line, begin, end, hover begin, hover end, reset).").addColorPicker(o=>{o.setValue(this.plugin.settings.lineColor??j.lineColor).onChange(i=>{this.plugin.settings.lineColor=i}),n.lineColor=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorBegin??j.timelineColorBegin).onChange(i=>{this.plugin.settings.timelineColorBegin=i}),n.timelineColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorEnd??j.timelineColorEnd).onChange(i=>{this.plugin.settings.timelineColorEnd=i}),n.timelineColorEnd=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorBegin??j.timelineHoverColorBegin).onChange(i=>{this.plugin.settings.timelineHoverColorBegin=i}),n.timelineHoverColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorEnd??j.timelineHoverColorEnd).onChange(i=>{this.plugin.settings.timelineHoverColorEnd=i}),n.timelineHoverColorEnd=o}).addExtraButton(o=>{o.setTooltip("Reset to default colors").setIcon("reset").onClick(()=>{this.plugin.settings.lineColor=j.lineColor,n.lineColor.setValue(j.lineColor),this.plugin.settings.timelineColorBegin=j.timelineColorBegin,n.timelineColorBegin.setValue(j.timelineColorBegin),this.plugin.settings.timelineColorEnd=j.timelineColorEnd,n.timelineColorEnd.setValue(j.timelineColorEnd),this.plugin.settings.timelineHoverColorBegin=j.timelineHoverColorBegin,n.timelineHoverColorBegin.setValue(j.timelineHoverColorBegin),this.plugin.settings.timelineHoverColorEnd=j.timelineHoverColorEnd,n.timelineHoverColorEnd.setValue(j.timelineHoverColorEnd)})}),new ee.Setting(r).setName("Day Planner heading").setDesc("Use this heading text to mark the beginning of the Day Planner.").addText(o=>o.setValue(this.plugin.settings.plannerLabel??"Day Planner").onChange(i=>{let s=i.trim();s.length>0&&(this.plugin.settings.plannerLabel=s)})),new ee.Setting(r).setName("BREAK task label").setDesc("Use this label to mark break between tasks.").addText(o=>o.setValue(this.plugin.settings.breakLabel??"BREAK").onChange(i=>{this.plugin.settings.breakLabel=i})),new ee.Setting(r).setName("END task label").setDesc("Use this label to mark the end of all tasks.").addText(o=>o.setValue(this.plugin.settings.endLabel??"END").onChange(i=>{this.plugin.settings.endLabel=i})),new ee.Setting(r).setName("Consistent BREAK and END labels").setDesc("Replace BREAK and END task text in your planner with the configured label text (consistency)").addToggle(o=>o.setValue(this.plugin.settings.correctLabels).onChange(i=>{this.plugin.settings.correctLabels=i})),new ee.Setting(r).setName("Preserve task values").setDesc("Preserve these values in the schedule, for example '-' for canceled, or '>' for rescheduled.").addText(o=>o.setValue(this.plugin.settings.preserveValues||"-").onChange(i=>{let s=i;s.length>0&&(s=[...new Set(s)].join("").replace("x","")),this.plugin.settings.preserveValues=s})),new ee.Setting(r).setName("Hide tasks from the timeline").setDesc("Hide tasks with these values from the timeline view, for example '-' for canceled, or '>' for rescheduled.").addText(o=>o.setValue(this.plugin.settings.hideTimelineValues||"-").onChange(i=>{let s=i;s.length>0&&(s=[...new Set(s)].join("").replace("x","")),this.plugin.settings.hideTimelineValues=s})),new ee.Setting(r).setName("Debug").setDesc("Enable debug messages").addToggle(o=>o.setValue(this.plugin.settings.debug).onChange(i=>{this.plugin.settings.debug=i}))}modeDescriptionContent(){let r=document.createDocumentFragment();return r.appendText("Choose between 3 modes to use the Day Planner plugin:"),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("File mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically generates day planner notes for each day within a Day Planners folder."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Command mode"),r.appendChild(document.createElement("br")),r.appendText("Command used to insert a Day Planner for today within the current note."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Daily mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically links to the current daily note. Daily notes plugin must be enabled."),r.appendChild(document.createElement("br")),this.addDocsLink(r),r}addDocsLink(r){let n=document.createElement("a");n.href="https://github.com/ebullient/obsidian-day-planner-og/blob/main/README.md",n.text="plugin README",n.target="_blank",r.appendChild(n),r.appendChild(document.createElement("br"))}};var zr=class{constructor(t,r,n,o,i,s){this.settings=t,this.statusBar=r,this.workspace=n,this.progress=o,this.plannerMD=i,this.file=s}initStatusBar(){if(this.statusBarAdded)return;let t=this.statusBar.createEl("div",{cls:"day-planner",title:"View the Day Planner",prepend:!0});this.setupCard(t),this.statusBarText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupCircularProgressBar(t),this.setupHorizontalProgressBar(t),this.nextText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupStatusBarEvents(t),this.statusBarAdded=!0}setupStatusBarEvents(t){t.onClickEvent(async()=>{try{let r=this.file.todayPlannerFilePath();this.workspace.openLinkText(r,"",!1)}catch(r){V.getInstance().logError("error opening file from status bar",this.file,r)}}),t.on("mouseenter",".day-planner",()=>{this.show(this.card)}),t.on("mouseleave",".day-planner",()=>{this.hide(this.card)})}async refreshStatusBar(t){return!t.empty&&!t.invalid?(this.updateProgress(t.current,t.next),this.show(this.statusBar)):this.hide(this.statusBar),t}hide(t){t&&(t.style.display="none")}show(t){t&&(t.style.display="block")}hideProgress(){this.hide(this.statusBarProgress),this.hide(this.circle),this.hide(this.nextText)}updateProgress(t,r){if(!t||!r||t.isEnd){this.hideProgress(),this.statusBarText.innerText=this.settings.endLabel;return}let{percentageComplete:n,minsUntilNext:o}=this.progress.getProgress(t,r);this.settings.circularProgress?(this.hide(this.statusBarProgress),this.progressCircle(n,t)):(this.hide(this.circle),this.progressBar(n,t)),this.statusText(o,t,r,n)}progressBar(t,r){r.isBreak?this.statusBarCurrentProgress.addClass("green"):this.statusBarCurrentProgress.removeClass("green"),this.statusBarCurrentProgress.style.width=`${t}%`,this.show(this.statusBarProgress)}progressCircle(t,r){r.isBreak?this.circle.addClass("green"):this.circle.removeClass("green"),this.circle.setAttr("data-value",t.toFixed(0)),this.show(this.circle)}statusText(t,r,n,o){let i=t==="0"?"1":t,s=`${i} min${i==="1"?"":"s"}`;if(this.settings.nowAndNextInStatusBar)this.statusBarText.innerHTML=`<strong>Now</strong> ${r.rawTime} ${this.ellipsis(r.text,10)}`,this.nextText.innerHTML=`<strong>Next</strong> ${n.rawTime} ${this.ellipsis(n.text,10)}`,this.show(this.nextText);else{this.hide(this.nextText);let p=r.isBreak?`${this.settings.breakLabel} for ${s}`:`${s} left`;this.statusBarText.innerText=p}let a=`Current Task (${o.toFixed(0)}% complete)`,l=`${r.rawTime} ${r.text}`,c=`Next Task (in ${s})`,u=`${n.rawTime} ${n.text}`;this.cardCurrent.innerHTML=`<strong>${a}</strong><br> ${l}`,this.cardNext.innerHTML=`<strong>${c}</strong><br> ${u}`,this.taskNotification(r,l,c,u)}taskNotification(t,r,n,o){this.settings.showTaskNotification&&this.currentTime!==void 0&&this.currentTime!==t.time.toUTCString()&&new Notification(`Task started, ${r}`,{body:`${n}: ${o}`,requireInteraction:!0}),this.currentTime=t.time.toUTCString()}ellipsis(t,r){return t.length<=r?t:`${t.substring(0,r)}...`}setupHorizontalProgressBar(t){this.statusBarProgress=t.createEl("div",{cls:["status-bar-item-segment","day-planner-progress-bar"]}),this.statusBarProgress.style.display="none",this.statusBarCurrentProgress=this.statusBarProgress.createEl("div",{cls:"day-planner-progress-value"})}setupCircularProgressBar(t){this.circle=t.createEl("div",{cls:["status-bar-item-segment","progress-pie day-planner"]})}setupCard(t){this.card=t.createEl("div",{cls:"day-planner-status-card"}),this.cardCurrent=this.card.createEl("span"),this.card.createEl("br"),this.card.createEl("br"),this.cardNext=this.card.createEl("span"),this.card.createEl("div",{cls:"arrow-down"})}};var{min:Wc,max:Hc}=Math,Le=(e,t=0,r=1)=>Wc(Hc(t,e),r);var Yt=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=Le(e[t],0,255)):t===3&&(e[t]=Le(e[t],0,1));return e};var Ds={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Ds[`[object ${e}]`]=e.toLowerCase();function x(e){return Ds[Object.prototype.toString.call(e)]||"object"}var A=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):x(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0].slice(0);var Te=e=>{if(e.length<2)return null;let t=e.length-1;return x(e[t])=="string"?e[t].toLowerCase():null};var{PI:Yn,min:Wn,max:Hn}=Math,se=e=>Math.round(e*100)/100,Zr=e=>Math.round(e*100)/100,Me=Yn*2,Vn=Yn/3,$s=Yn/180,Ss=180/Yn;function Gn(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}var C={format:{},autodetect:[]};var zo=class{constructor(...t){let r=this;if(x(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=Te(t),o=!1;if(!n){o=!0,C.sorted||(C.autodetect=C.autodetect.sort((i,s)=>s.p-i.p),C.sorted=!0);for(let i of C.autodetect)if(n=i.test(...t),n)break}if(C.format[n]){let i=C.format[n].apply(null,o?t:t.slice(0,-1));r._rgb=Yt(i)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return x(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}},m=zo;var Rs="3.1.2";var Ls=(...e)=>new m(...e);Ls.version=Rs;var T=Ls;var Vc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Et=Vc;var Gc=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Uc=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,zc=e=>{if(e.match(Gc)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16),r=t>>16,n=t>>8&255,o=t&255;return[r,n,o,1]}if(e.match(Uc)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),r=t>>24&255,n=t>>16&255,o=t>>8&255,i=Math.round((t&255)/255*100)/100;return[r,n,o,i]}throw new Error(`unknown hex color: ${e}`)},Un=zc;var{round:zn}=Math,Zc=(...e)=>{let[t,r,n,o]=A(e,"rgba"),i=Te(e)||"auto";o===void 0&&(o=1),i==="auto"&&(i=o<1?"rgba":"rgb"),t=zn(t),r=zn(r),n=zn(n);let a="000000"+(t<<16|r<<8|n).toString(16);a=a.substr(a.length-6);let l="0"+zn(o*255).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}},Zn=Zc;m.prototype.name=function(){let e=Zn(this._rgb,"rgb");for(let t of Object.keys(Et))if(Et[t]===e)return t.toLowerCase();return e};C.format.named=e=>{if(e=e.toLowerCase(),Et[e])return Un(Et[e]);throw new Error("unknown color name: "+e)};C.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&x(e)==="string"&&Et[e.toLowerCase()])return"named"}});m.prototype.alpha=function(e,t=!1){return e!==void 0&&x(e)==="number"?t?(this._rgb[3]=e,this):new m([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};m.prototype.clipped=function(){return this._rgb._clipped||!1};var jr={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:.008856451679035631,kKE:8,kK:903.2962962962963,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},ot=jr,jc=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Be(e){let t=jc.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);jr.labWhitePoint=e,jr.Xn=t[0],jr.Zn=t[1]}function Ct(){return jr.labWhitePoint}var qc=(...e)=>{e=A(e,"lab");let[t,r,n]=e,[o,i,s]=Qc(t,r,n),[a,l,c]=jo(o,i,s);return[a,l,c,e.length>3?e[3]:1]},Qc=(e,t,r)=>{let{kE:n,kK:o,kKE:i,Xn:s,Yn:a,Zn:l}=ot,c=(e+16)/116,u=.002*t+c,p=c-.005*r,f=u*u*u,d=p*p*p,_=f>n?f:(116*u-16)/o,v=e>i?Math.pow((e+16)/116,3):e/o,g=d>n?d:(116*p-16)/o,b=_*s,R=v*a,S=g*l;return[b,R,S]},Zo=e=>{let t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},jo=(e,t,r)=>{let{MtxAdaptMa:n,MtxAdaptMaI:o,MtxXYZ2RGB:i,RefWhiteRGB:s,Xn:a,Yn:l,Zn:c}=ot,u=a*n.m00+l*n.m10+c*n.m20,p=a*n.m01+l*n.m11+c*n.m21,f=a*n.m02+l*n.m12+c*n.m22,d=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,_=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,v=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,g=(e*n.m00+t*n.m10+r*n.m20)*(d/u),b=(e*n.m01+t*n.m11+r*n.m21)*(_/p),R=(e*n.m02+t*n.m12+r*n.m22)*(v/f),S=g*o.m00+b*o.m10+R*o.m20,E=g*o.m01+b*o.m11+R*o.m21,$=g*o.m02+b*o.m12+R*o.m22,N=Zo(S*i.m00+E*i.m10+$*i.m20),h=Zo(S*i.m01+E*i.m11+$*i.m21),y=Zo(S*i.m02+E*i.m12+$*i.m22);return[N*255,h*255,y*255]},ar=qc;var Xc=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=Qo(t,r,n),[l,c,u]=Kc(i,s,a);return[l,c,u,...o.length>0&&o[0]<1?[o[0]]:[]]};function Kc(e,t,r){let{Xn:n,Yn:o,Zn:i,kE:s,kK:a}=ot,l=e/n,c=t/o,u=r/i,p=l>s?Math.pow(l,1/3):(a*l+16)/116,f=c>s?Math.pow(c,1/3):(a*c+16)/116,d=u>s?Math.pow(u,1/3):(a*u+16)/116;return[116*f-16,500*(p-f),200*(f-d)]}function qo(e){let t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}var Qo=(e,t,r)=>{e=qo(e/255),t=qo(t/255),r=qo(r/255);let{MtxRGB2XYZ:n,MtxAdaptMa:o,MtxAdaptMaI:i,Xn:s,Yn:a,Zn:l,As:c,Bs:u,Cs:p}=ot,f=e*n.m00+t*n.m10+r*n.m20,d=e*n.m01+t*n.m11+r*n.m21,_=e*n.m02+t*n.m12+r*n.m22,v=s*o.m00+a*o.m10+l*o.m20,g=s*o.m01+a*o.m11+l*o.m21,b=s*o.m02+a*o.m12+l*o.m22,R=f*o.m00+d*o.m10+_*o.m20,S=f*o.m01+d*o.m11+_*o.m21,E=f*o.m02+d*o.m12+_*o.m22;return R*=v/c,S*=g/u,E*=b/p,f=R*i.m00+S*i.m10+E*i.m20,d=R*i.m01+S*i.m11+E*i.m21,_=R*i.m02+S*i.m12+E*i.m22,[f,d,_]},lr=Xc;m.prototype.lab=function(){return lr(this._rgb)};var Jc=(...e)=>new m(...e,"lab");Object.assign(T,{lab:Jc,getLabWhitePoint:Ct,setLabWhitePoint:Be});C.format.lab=ar;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"lab"),x(e)==="array"&&e.length===3)return"lab"}});m.prototype.darken=function(e=1){let t=this,r=t.lab();return r[0]-=ot.Kn*e,new m(r,"lab").alpha(t.alpha(),!0)};m.prototype.brighten=function(e=1){return this.darken(-e)};m.prototype.darker=m.prototype.darken;m.prototype.brighter=m.prototype.brighten;m.prototype.get=function(e){let[t,r]=e.split("."),n=this[t]();if(r){let o=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(o>-1)return n[o];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};var{pow:ef}=Math,tf=1e-7,rf=20;m.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&x(e)==="number"){if(e===0)return new m([0,0,0,this._rgb[3]],"rgb");if(e===1)return new m([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=rf,o=(s,a)=>{let l=s.interpolate(a,.5,t),c=l.luminance();return Math.abs(e-c)<tf||!n--?l:c>e?o(s,l):o(l,a)},i=(r>e?o(new m([0,0,0]),this):o(this,new m([255,255,255]))).rgb();return new m([...i,this._rgb[3]])}return nf(...this._rgb.slice(0,3))};var nf=(e,t,r)=>(e=Xo(e),t=Xo(t),r=Xo(r),.2126*e+.7152*t+.0722*r),Xo=e=>(e/=255,e<=.03928?e/12.92:ef((e+.055)/1.055,2.4));var G={};var it=(e,t,r=.5,...n)=>{let o=n[0]||"lrgb";if(!G[o]&&!n.length&&(o=Object.keys(G)[0]),!G[o])throw new Error(`interpolation mode ${o} is not defined`);return x(e)!=="object"&&(e=new m(e)),x(t)!=="object"&&(t=new m(t)),G[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};m.prototype.mix=m.prototype.interpolate=function(e,t=.5,...r){return it(this,e,t,...r)};m.prototype.premultiply=function(e=!1){let t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new m([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var{sin:of,cos:sf}=Math,af=(...e)=>{let[t,r,n]=A(e,"lch");return isNaN(n)&&(n=0),n=n*$s,[t,sf(n)*r,of(n)*r]},jn=af;var lf=(...e)=>{e=A(e,"lch");let[t,r,n]=e,[o,i,s]=jn(t,r,n),[a,l,c]=ar(o,i,s);return[a,l,c,e.length>3?e[3]:1]},cr=lf;var cf=(...e)=>{let t=Gn(A(e,"hcl"));return cr(...t)},Ms=cf;var{sqrt:ff,atan2:uf,round:pf}=Math,df=(...e)=>{let[t,r,n]=A(e,"lab"),o=ff(r*r+n*n),i=(uf(n,r)*Ss+360)%360;return pf(o*1e4)===0&&(i=Number.NaN),[t,o,i]},qn=df;var mf=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=lr(t,r,n),[l,c,u]=qn(i,s,a);return[l,c,u,...o.length>0&&o[0]<1?[o[0]]:[]]},qr=mf;m.prototype.lch=function(){return qr(this._rgb)};m.prototype.hcl=function(){return Gn(qr(this._rgb))};var hf=(...e)=>new m(...e,"lch"),_f=(...e)=>new m(...e,"hcl");Object.assign(T,{lch:hf,hcl:_f});C.format.lch=cr;C.format.hcl=Ms;["lch","hcl"].forEach(e=>C.autodetect.push({p:2,test:(...t)=>{if(t=A(t,e),x(t)==="array"&&t.length===3)return e}}));m.prototype.saturate=function(e=1){let t=this,r=t.lch();return r[1]+=ot.Kn*e,r[1]<0&&(r[1]=0),new m(r,"lch").alpha(t.alpha(),!0)};m.prototype.desaturate=function(e=1){return this.saturate(-e)};m.prototype.set=function(e,t,r=!1){let[n,o]=e.split("."),i=this[n]();if(o){let s=n.indexOf(o)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(x(t)=="string")switch(t.charAt(0)){case"+":i[s]+=+t;break;case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else if(x(t)==="number")i[s]=t;else throw new Error("unsupported value for Color.set");let a=new m(i,n);return r?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${o} in mode ${n}`)}else return i};m.prototype.tint=function(e=.5,...t){return it(this,"white",e,...t)};m.prototype.shade=function(e=.5,...t){return it(this,"black",e,...t)};var gf=(e,t,r)=>{let n=e._rgb,o=t._rgb;return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"rgb")};G.rgb=gf;var{sqrt:Ko,pow:fr}=Math,vf=(e,t,r)=>{let[n,o,i]=e._rgb,[s,a,l]=t._rgb;return new m(Ko(fr(n,2)*(1-r)+fr(s,2)*r),Ko(fr(o,2)*(1-r)+fr(a,2)*r),Ko(fr(i,2)*(1-r)+fr(l,2)*r),"rgb")};G.lrgb=vf;var bf=(e,t,r)=>{let n=e.lab(),o=t.lab();return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"lab")};G.lab=bf;var Oe=(e,t,r,n)=>{let o,i;n==="hsl"?(o=e.hsl(),i=t.hsl()):n==="hsv"?(o=e.hsv(),i=t.hsv()):n==="hcg"?(o=e.hcg(),i=t.hcg()):n==="hsi"?(o=e.hsi(),i=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",o=e.hcl(),i=t.hcl()):n==="oklch"&&(o=e.oklch().reverse(),i=t.oklch().reverse());let s,a,l,c,u,p;(n.substr(0,1)==="h"||n==="oklch")&&([s,l,u]=o,[a,c,p]=i);let f,d,_,v;return!isNaN(s)&&!isNaN(a)?(a>s&&a-s>180?v=a-(s+360):a<s&&s-a>180?v=a+360-s:v=a-s,d=s+r*v):isNaN(s)?isNaN(a)?d=Number.NaN:(d=a,(u==1||u==0)&&n!="hsv"&&(f=c)):(d=s,(p==1||p==0)&&n!="hsv"&&(f=l)),f===void 0&&(f=l+r*(c-l)),_=u+r*(p-u),n==="oklch"?new m([_,f,d],n):new m([d,f,_],n)};var Bs=(e,t,r)=>Oe(e,t,r,"lch");G.lch=Bs;G.hcl=Bs;var Af=e=>{if(x(e)=="number"&&e>=0&&e<=16777215){let t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},Os=Af;var wf=(...e)=>{let[t,r,n]=A(e,"rgb");return(t<<16)+(r<<8)+n},Fs=wf;m.prototype.num=function(){return Fs(this._rgb)};var yf=(...e)=>new m(...e,"num");Object.assign(T,{num:yf});C.format.num=Os;C.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&x(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var xf=(e,t,r)=>{let n=e.num(),o=t.num();return new m(n+r*(o-n),"num")};G.num=xf;var{floor:Ef}=Math,Cf=(...e)=>{e=A(e,"hcg");let[t,r,n]=e,o,i,s;n=n*255;let a=r*255;if(r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let l=Ef(t),c=t-l,u=n*(1-r),p=u+a*(1-c),f=u+a*c,d=u+a;switch(l){case 0:[o,i,s]=[d,f,u];break;case 1:[o,i,s]=[p,d,u];break;case 2:[o,i,s]=[u,d,f];break;case 3:[o,i,s]=[u,p,d];break;case 4:[o,i,s]=[f,u,d];break;case 5:[o,i,s]=[d,u,p];break}}return[o,i,s,e.length>3?e[3]:1]},Ys=Cf;var kf=(...e)=>{let[t,r,n]=A(e,"rgb"),o=Wn(t,r,n),i=Hn(t,r,n),s=i-o,a=s*100/255,l=o/(255-s)*100,c;return s===0?c=Number.NaN:(t===i&&(c=(r-n)/s),r===i&&(c=2+(n-t)/s),n===i&&(c=4+(t-r)/s),c*=60,c<0&&(c+=360)),[c,a,l]},Ws=kf;m.prototype.hcg=function(){return Ws(this._rgb)};var Tf=(...e)=>new m(...e,"hcg");T.hcg=Tf;C.format.hcg=Ys;C.autodetect.push({p:1,test:(...e)=>{if(e=A(e,"hcg"),x(e)==="array"&&e.length===3)return"hcg"}});var If=(e,t,r)=>Oe(e,t,r,"hcg");G.hcg=If;var{cos:ur}=Math,Nf=(...e)=>{e=A(e,"hsi");let[t,r,n]=e,o,i,s;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-r)/3,o=(1+r*ur(Me*t)/ur(Vn-Me*t))/3,i=1-(s+o)):t<2/3?(t-=1/3,o=(1-r)/3,i=(1+r*ur(Me*t)/ur(Vn-Me*t))/3,s=1-(o+i)):(t-=2/3,i=(1-r)/3,s=(1+r*ur(Me*t)/ur(Vn-Me*t))/3,o=1-(i+s)),o=Le(n*o*3),i=Le(n*i*3),s=Le(n*s*3),[o*255,i*255,s*255,e.length>3?e[3]:1]},Hs=Nf;var{min:Pf,sqrt:Df,acos:$f}=Math,Sf=(...e)=>{let[t,r,n]=A(e,"rgb");t/=255,r/=255,n/=255;let o,i=Pf(t,r,n),s=(t+r+n)/3,a=s>0?1-i/s:0;return a===0?o=NaN:(o=(t-r+(t-n))/2,o/=Df((t-r)*(t-r)+(t-n)*(r-n)),o=$f(o),n>r&&(o=Me-o),o/=Me),[o*360,a,s]},Vs=Sf;m.prototype.hsi=function(){return Vs(this._rgb)};var Rf=(...e)=>new m(...e,"hsi");T.hsi=Rf;C.format.hsi=Hs;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsi"),x(e)==="array"&&e.length===3)return"hsi"}});var Lf=(e,t,r)=>Oe(e,t,r,"hsi");G.hsi=Lf;var Mf=(...e)=>{e=A(e,"hsl");let[t,r,n]=e,o,i,s;if(r===0)o=i=s=n*255;else{let a=[0,0,0],l=[0,0,0],c=n<.5?n*(1+r):n+r-n*r,u=2*n-c,p=t/360;a[0]=p+1/3,a[1]=p,a[2]=p-1/3;for(let f=0;f<3;f++)a[f]<0&&(a[f]+=1),a[f]>1&&(a[f]-=1),6*a[f]<1?l[f]=u+(c-u)*6*a[f]:2*a[f]<1?l[f]=c:3*a[f]<2?l[f]=u+(c-u)*(2/3-a[f])*6:l[f]=u;[o,i,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[o,i,s,e[3]]:[o,i,s,1]},Qr=Mf;var Bf=(...e)=>{e=A(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;let o=Wn(t,r,n),i=Hn(t,r,n),s=(i+o)/2,a,l;return i===o?(a=0,l=Number.NaN):a=s<.5?(i-o)/(i+o):(i-o)/(2-i-o),t==i?l=(r-n)/(i-o):r==i?l=2+(n-t)/(i-o):n==i&&(l=4+(t-r)/(i-o)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,a,s,e[3]]:[l,a,s]},Qn=Bf;m.prototype.hsl=function(){return Qn(this._rgb)};var Of=(...e)=>new m(...e,"hsl");T.hsl=Of;C.format.hsl=Qr;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsl"),x(e)==="array"&&e.length===3)return"hsl"}});var Ff=(e,t,r)=>Oe(e,t,r,"hsl");G.hsl=Ff;var{floor:Yf}=Math,Wf=(...e)=>{e=A(e,"hsv");let[t,r,n]=e,o,i,s;if(n*=255,r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let a=Yf(t),l=t-a,c=n*(1-r),u=n*(1-r*l),p=n*(1-r*(1-l));switch(a){case 0:[o,i,s]=[n,p,c];break;case 1:[o,i,s]=[u,n,c];break;case 2:[o,i,s]=[c,n,p];break;case 3:[o,i,s]=[c,u,n];break;case 4:[o,i,s]=[p,c,n];break;case 5:[o,i,s]=[n,c,u];break}}return[o,i,s,e.length>3?e[3]:1]},Gs=Wf;var{min:Hf,max:Vf}=Math,Gf=(...e)=>{e=A(e,"rgb");let[t,r,n]=e,o=Hf(t,r,n),i=Vf(t,r,n),s=i-o,a,l,c;return c=i/255,i===0?(a=Number.NaN,l=0):(l=s/i,t===i&&(a=(r-n)/s),r===i&&(a=2+(n-t)/s),n===i&&(a=4+(t-r)/s),a*=60,a<0&&(a+=360)),[a,l,c]},Us=Gf;m.prototype.hsv=function(){return Us(this._rgb)};var Uf=(...e)=>new m(...e,"hsv");T.hsv=Uf;C.format.hsv=Gs;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsv"),x(e)==="array"&&e.length===3)return"hsv"}});var zf=(e,t,r)=>Oe(e,t,r,"hsv");G.hsv=zf;function Wt(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let n=t[0].length,o=t[0].map((s,a)=>t.map(l=>l[a])),i=e.map(s=>o.map(a=>Array.isArray(s)?s.reduce((l,c,u)=>l+c*(a[u]||0),0):a.reduce((l,c)=>l+c*s,0)));return r===1&&(i=i[0]),n===1?i.map(s=>s[0]):i}var Zf=(...e)=>{e=A(e,"lab");let[t,r,n,...o]=e,[i,s,a]=jf([t,r,n]),[l,c,u]=jo(i,s,a);return[l,c,u,...o.length>0&&o[0]<1?[o[0]]:[]]};function jf(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Wt(r,e);return Wt(t,n.map(o=>o**3))}var pr=Zf;var qf=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),i=Qo(t,r,n);return[...Qf(i),...o.length>0&&o[0]<1?[o[0]]:[]]};function Qf(e){let t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Wt(t,e);return Wt(r,n.map(o=>Math.cbrt(o)))}var dr=qf;m.prototype.oklab=function(){return dr(this._rgb)};var Xf=(...e)=>new m(...e,"oklab");Object.assign(T,{oklab:Xf});C.format.oklab=pr;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"oklab"),x(e)==="array"&&e.length===3)return"oklab"}});var Kf=(e,t,r)=>{let n=e.oklab(),o=t.oklab();return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"oklab")};G.oklab=Kf;var Jf=(e,t,r)=>Oe(e,t,r,"oklch");G.oklch=Jf;var{pow:Jo,sqrt:ei,PI:ti,cos:zs,sin:Zs,atan2:eu}=Math,js=(e,t="lrgb",r=null)=>{let n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));let o=n/r.reduce(function(p,f){return p+f});if(r.forEach((p,f)=>{r[f]*=o}),e=e.map(p=>new m(p)),t==="lrgb")return tu(e,r);let i=e.shift(),s=i.get(t),a=[],l=0,c=0;for(let p=0;p<s.length;p++)if(s[p]=(s[p]||0)*r[0],a.push(isNaN(s[p])?0:r[0]),t.charAt(p)==="h"&&!isNaN(s[p])){let f=s[p]/180*ti;l+=zs(f)*r[0],c+=Zs(f)*r[0]}let u=i.alpha()*r[0];e.forEach((p,f)=>{let d=p.get(t);u+=p.alpha()*r[f+1];for(let _=0;_<s.length;_++)if(!isNaN(d[_]))if(a[_]+=r[f+1],t.charAt(_)==="h"){let v=d[_]/180*ti;l+=zs(v)*r[f+1],c+=Zs(v)*r[f+1]}else s[_]+=d[_]*r[f+1]});for(let p=0;p<s.length;p++)if(t.charAt(p)==="h"){let f=eu(c/a[p],l/a[p])/ti*180;for(;f<0;)f+=360;for(;f>=360;)f-=360;s[p]=f}else s[p]=s[p]/a[p];return u/=n,new m(s,t).alpha(u>.99999?1:u,!0)},tu=(e,t)=>{let r=e.length,n=[0,0,0,0];for(let o=0;o<e.length;o++){let i=e[o],s=t[o]/r,a=i._rgb;n[0]+=Jo(a[0],2)*s,n[1]+=Jo(a[1],2)*s,n[2]+=Jo(a[2],2)*s,n[3]+=a[3]*s}return n[0]=ei(n[0]),n[1]=ei(n[1]),n[2]=ei(n[2]),n[3]>.9999999&&(n[3]=1),new m(Yt(n))};var{pow:ru}=Math;function Ht(e){let t="rgb",r=T("#ccc"),n=0,o=[0,1],i=[],s=[0,0],a=!1,l=[],c=!1,u=0,p=1,f=!1,d={},_=!0,v=1,g=function(h){if(h=h||["#fff","#000"],h&&x(h)==="string"&&T.brewer&&T.brewer[h.toLowerCase()]&&(h=T.brewer[h.toLowerCase()]),x(h)==="array"){h.length===1&&(h=[h[0],h[0]]),h=h.slice(0);for(let y=0;y<h.length;y++)h[y]=T(h[y]);i.length=0;for(let y=0;y<h.length;y++)i.push(y/(h.length-1))}return $(),l=h},b=function(h){if(a!=null){let y=a.length-1,D=0;for(;D<y&&h>=a[D];)D++;return D-1}return 0},R=h=>h,S=h=>h,E=function(h,y){let D,I;if(y==null&&(y=!1),isNaN(h)||h===null)return r;y?I=h:a&&a.length>2?I=b(h)/(a.length-2):p!==u?I=(h-u)/(p-u):I=1,I=S(I),y||(I=R(I)),v!==1&&(I=ru(I,v)),I=s[0]+I*(1-s[0]-s[1]),I=Le(I,0,1);let F=Math.floor(I*1e4);if(_&&d[F])D=d[F];else{if(x(l)==="array")for(let k=0;k<i.length;k++){let M=i[k];if(I<=M){D=l[k];break}if(I>=M&&k===i.length-1){D=l[k];break}if(I>M&&I<i[k+1]){I=(I-M)/(i[k+1]-M),D=T.interpolate(l[k],l[k+1],I,t);break}}else x(l)==="function"&&(D=l(I));_&&(d[F]=D)}return D};var $=()=>d={};g(e);let N=function(h){let y=T(E(h));return c&&y[c]?y[c]():y};return N.classes=function(h){if(h!=null){if(x(h)==="array")a=h,o=[h[0],h[h.length-1]];else{let y=T.analyze(o);h===0?a=[y.min,y.max]:a=T.limits(y,"e",h)}return N}return a},N.domain=function(h){if(!arguments.length)return o;u=h[0],p=h[h.length-1],i=[];let y=l.length;if(h.length===y&&u!==p)for(let D of Array.from(h))i.push((D-u)/(p-u));else{for(let D=0;D<y;D++)i.push(D/(y-1));if(h.length>2){let D=h.map((F,k)=>k/(h.length-1)),I=h.map(F=>(F-u)/(p-u));I.every((F,k)=>D[k]===F)||(S=F=>{if(F<=0||F>=1)return F;let k=0;for(;F>=I[k+1];)k++;let M=(F-I[k])/(I[k+1]-I[k]);return D[k]+M*(D[k+1]-D[k])})}}return o=[u,p],N},N.mode=function(h){return arguments.length?(t=h,$(),N):t},N.range=function(h,y){return g(h,y),N},N.out=function(h){return c=h,N},N.spread=function(h){return arguments.length?(n=h,N):n},N.correctLightness=function(h){return h==null&&(h=!0),f=h,$(),f?R=function(y){let D=E(0,!0).lab()[0],I=E(1,!0).lab()[0],F=D>I,k=E(y,!0).lab()[0],M=D+(I-D)*y,ne=k-M,Se=0,wt=1,rt=20;for(;Math.abs(ne)>.01&&rt-- >0;)(function(){return F&&(ne*=-1),ne<0?(Se=y,y+=(wt-y)*.5):(wt=y,y+=(Se-y)*.5),k=E(y,!0).lab()[0],ne=k-M})();return y}:R=y=>y,N},N.padding=function(h){return h!=null?(x(h)==="number"&&(h=[h,h]),s=h,N):s},N.colors=function(h,y){arguments.length<2&&(y="hex");let D=[];if(arguments.length===0)D=l.slice(0);else if(h===1)D=[N(.5)];else if(h>1){let I=o[0],F=o[1]-I;D=nu(0,h,!1).map(k=>N(I+k/(h-1)*F))}else{e=[];let I=[];if(a&&a.length>2)for(let F=1,k=a.length,M=1<=k;M?F<k:F>k;M?F++:F--)I.push((a[F-1]+a[F])*.5);else I=o;D=I.map(F=>N(F))}return T[y]&&(D=D.map(I=>I[y]())),D},N.cache=function(h){return h!=null?(_=h,N):_},N.gamma=function(h){return h!=null?(v=h,N):v},N.nodata=function(h){return h!=null?(r=T(h),N):r},N}function nu(e,t,r){let n=[],o=e<t,i=r?o?t+1:t-1:t;for(let s=e;o?s<i:s>i;o?s++:s--)n.push(s);return n}var ou=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let o=1;o<=t.length;o++)n[o]=(t[o]||0)+t[o-1];t=n}return t},iu=function(e){let t,r,n,o;if(e=e.map(i=>new m(i)),e.length===2)[r,n]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>r[a]+i*(n[a]-r[a]));return new m(s,"lab")};else if(e.length===3)[r,n,o]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>(1-i)*(1-i)*r[a]+2*(1-i)*i*n[a]+i*i*o[a]);return new m(s,"lab")};else if(e.length===4){let i;[r,n,o,i]=e.map(s=>s.lab()),t=function(s){let a=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*r[l]+3*(1-s)*(1-s)*s*n[l]+3*(1-s)*s*s*o[l]+s*s*s*i[l]);return new m(a,"lab")}}else if(e.length>=5){let i,s,a;i=e.map(l=>l.lab()),a=e.length-1,s=ou(a),t=function(l){let c=1-l,u=[0,1,2].map(p=>i.reduce((f,d,_)=>f+s[_]*c**(a-_)*l**_*d[p],0));return new m(u,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},qs=e=>{let t=iu(e);return t.scale=()=>Ht(t),t};var{round:Qs}=Math;m.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Qs)};m.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:Qs(t):t)};var su=(...e)=>new m(...e,"rgb");Object.assign(T,{rgb:su});C.format.rgb=(...e)=>{let t=A(e,"rgba");return t[3]===void 0&&(t[3]=1),t};C.autodetect.push({p:3,test:(...e)=>{if(e=A(e,"rgba"),x(e)==="array"&&(e.length===3||e.length===4&&x(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Ue=(e,t,r)=>{if(!Ue[r])throw new Error("unknown blend mode "+r);return Ue[r](e,t)},kt=e=>(t,r)=>{let n=T(r).rgb(),o=T(t).rgb();return T.rgb(e(n,o))},Tt=e=>(t,r)=>{let n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},au=e=>e,lu=(e,t)=>e*t/255,cu=(e,t)=>e>t?t:e,fu=(e,t)=>e>t?e:t,uu=(e,t)=>255*(1-(1-e/255)*(1-t/255)),pu=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),du=(e,t)=>255*(1-(1-t/255)/(e/255)),mu=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);Ue.normal=kt(Tt(au));Ue.multiply=kt(Tt(lu));Ue.screen=kt(Tt(uu));Ue.overlay=kt(Tt(pu));Ue.darken=kt(Tt(cu));Ue.lighten=kt(Tt(fu));Ue.dodge=kt(Tt(mu));Ue.burn=kt(Tt(du));var Xs=Ue;var{pow:hu,sin:_u,cos:gu}=Math;function Ks(e=300,t=-1.5,r=1,n=1,o=[0,1]){let i=0,s;x(o)==="array"?s=o[1]-o[0]:(s=0,o=[o,o]);let a=function(l){let c=Me*((e+120)/360+t*l),u=hu(o[0]+s*l,n),f=(i!==0?r[0]+l*i:r)*u*(1-u)/2,d=gu(c),_=_u(c),v=u+f*(-.14861*d+1.78277*_),g=u+f*(-.29227*d-.90649*_),b=u+f*(1.97294*d);return T(Yt([v*255,g*255,b*255,1]))};return a.start=function(l){return l==null?e:(e=l,a)},a.rotations=function(l){return l==null?t:(t=l,a)},a.gamma=function(l){return l==null?n:(n=l,a)},a.hue=function(l){return l==null?r:(r=l,x(r)==="array"?(i=r[1]-r[0],i===0&&(r=r[1])):i=0,a)},a.lightness=function(l){return l==null?o:(x(l)==="array"?(o=l,s=l[1]-l[0]):(o=[l,l],s=0),a)},a.scale=()=>T.scale(a),a.hue(r),a}var vu="0123456789abcdef",{floor:bu,random:Au}=Math,Js=()=>{let e="#";for(let t=0;t<6;t++)e+=vu.charAt(bu(Au()*16));return new m(e,"hex")};var{log:ea,pow:wu,floor:yu,abs:xu}=Math;function ri(e,t=null){let r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return x(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&x(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,o)=>ni(r,n,o),r}function ni(e,t="equal",r=7){x(e)=="array"&&(e=ri(e));let{min:n,max:o}=e,i=e.values.sort((a,l)=>a-l);if(r===1)return[n,o];let s=[];if(t.substr(0,1)==="c"&&(s.push(n),s.push(o)),t.substr(0,1)==="e"){s.push(n);for(let a=1;a<r;a++)s.push(n+a/r*(o-n));s.push(o)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");let a=Math.LOG10E*ea(n),l=Math.LOG10E*ea(o);s.push(n);for(let c=1;c<r;c++)s.push(wu(10,a+c/r*(l-a)));s.push(o)}else if(t.substr(0,1)==="q"){s.push(n);for(let a=1;a<r;a++){let l=(i.length-1)*a/r,c=yu(l);if(c===l)s.push(i[c]);else{let u=l-c;s.push(i[c]*(1-u)+i[c+1]*u)}}s.push(o)}else if(t.substr(0,1)==="k"){let a,l=i.length,c=new Array(l),u=new Array(r),p=!0,f=0,d=null;d=[],d.push(n);for(let g=1;g<r;g++)d.push(n+g/r*(o-n));for(d.push(o);p;){for(let b=0;b<r;b++)u[b]=0;for(let b=0;b<l;b++){let R=i[b],S=Number.MAX_VALUE,E;for(let $=0;$<r;$++){let N=xu(d[$]-R);N<S&&(S=N,E=$),u[E]++,c[b]=E}}let g=new Array(r);for(let b=0;b<r;b++)g[b]=null;for(let b=0;b<l;b++)a=c[b],g[a]===null?g[a]=i[b]:g[a]+=i[b];for(let b=0;b<r;b++)g[b]*=1/u[b];p=!1;for(let b=0;b<r;b++)if(g[b]!==d[b]){p=!0;break}d=g,f++,f>200&&(p=!1)}let _={};for(let g=0;g<r;g++)_[g]=[];for(let g=0;g<l;g++)a=c[g],_[a].push(i[g]);let v=[];for(let g=0;g<r;g++)v.push(_[g][0]),v.push(_[g][_[g].length-1]);v=v.sort((g,b)=>g-b),s.push(v[0]);for(let g=1;g<v.length;g+=2){let b=v[g];!isNaN(b)&&s.indexOf(b)===-1&&s.push(b)}}return s}var ta=(e,t)=>{e=new m(e),t=new m(t);let r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};var ra=.027,Eu=5e-4,Cu=.1,na=1.14,Xn=.022,oa=1.414,sa=(e,t)=>{e=new m(e),t=new m(t),e.alpha()<1&&(e=it(t,e,e.alpha(),"rgb"));let r=ia(...e.rgb()),n=ia(...t.rgb()),o=r>=Xn?r:r+Math.pow(Xn-r,oa),i=n>=Xn?n:n+Math.pow(Xn-n,oa),s=Math.pow(i,.56)-Math.pow(o,.57),a=Math.pow(i,.65)-Math.pow(o,.62),l=Math.abs(i-o)<Eu?0:o<i?s*na:a*na;return(Math.abs(l)<Cu?0:l>0?l-ra:l+ra)*100};function ia(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}var{sqrt:pt,pow:X,min:ku,max:Tu,atan2:aa,abs:la,cos:Kn,sin:ca,exp:Iu,PI:fa}=Math;function ua(e,t,r=1,n=1,o=1){var i=function(ft){return 360*ft/(2*fa)},s=function(ft){return 2*fa*ft/360};e=new m(e),t=new m(t);let[a,l,c]=Array.from(e.lab()),[u,p,f]=Array.from(t.lab()),d=(a+u)/2,_=pt(X(l,2)+X(c,2)),v=pt(X(p,2)+X(f,2)),g=(_+v)/2,b=.5*(1-pt(X(g,7)/(X(g,7)+X(25,7)))),R=l*(1+b),S=p*(1+b),E=pt(X(R,2)+X(c,2)),$=pt(X(S,2)+X(f,2)),N=(E+$)/2,h=i(aa(c,R)),y=i(aa(f,S)),D=h>=0?h:h+360,I=y>=0?y:y+360,F=la(D-I)>180?(D+I+360)/2:(D+I)/2,k=1-.17*Kn(s(F-30))+.24*Kn(s(2*F))+.32*Kn(s(3*F+6))-.2*Kn(s(4*F-63)),M=I-D;M=la(M)<=180?M:I<=D?M+360:M-360,M=2*pt(E*$)*ca(s(M)/2);let ne=u-a,Se=$-E,wt=1+.015*X(d-50,2)/pt(20+X(d-50,2)),rt=1+.045*N,yt=1+.015*N*k,Nn=30*Iu(-X((F-275)/25,2)),Pn=-(2*pt(X(N,7)/(X(N,7)+X(25,7))))*ca(2*s(Nn)),Dn=pt(X(ne/(r*wt),2)+X(Se/(n*rt),2)+X(M/(o*yt),2)+Pn*(Se/(n*rt))*(M/(o*yt)));return Tu(0,ku(100,Dn))}function pa(e,t,r="lab"){e=new m(e),t=new m(t);let n=e.get(r),o=t.get(r),i=0;for(let s in n){let a=(n[s]||0)-(o[s]||0);i+=a*a}return Math.sqrt(i)}var da=(...e)=>{try{return new m(...e),!0}catch{return!1}};var ma={cool(){return Ht([T.hsl(180,1,.9),T.hsl(250,.7,.4)])},hot(){return Ht(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}};var oi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},_a=Object.keys(oi),ha=new Map(_a.map(e=>[e.toLowerCase(),e])),Nu=typeof Proxy=="function"?new Proxy(oi,{get(e,t){let r=t.toLowerCase();if(ha.has(r))return e[ha.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(_a)}}):oi,ga=Nu;var Pu=(...e)=>{e=A(e,"cmyk");let[t,r,n,o]=e,i=e.length>4?e[4]:1;return o===1?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-o),r>=1?0:255*(1-r)*(1-o),n>=1?0:255*(1-n)*(1-o),i]},va=Pu;var{max:ba}=Math,Du=(...e)=>{let[t,r,n]=A(e,"rgb");t=t/255,r=r/255,n=n/255;let o=1-ba(t,ba(r,n)),i=o<1?1/(1-o):0,s=(1-t-o)*i,a=(1-r-o)*i,l=(1-n-o)*i;return[s,a,l,o]},Aa=Du;m.prototype.cmyk=function(){return Aa(this._rgb)};var $u=(...e)=>new m(...e,"cmyk");Object.assign(T,{cmyk:$u});C.format.cmyk=va;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"cmyk"),x(e)==="array"&&e.length===4)return"cmyk"}});var Su=(...e)=>{let t=A(e,"hsla"),r=Te(e)||"lsa";return t[0]=se(t[0]||0)+"deg",t[1]=se(t[1]*100)+"%",t[2]=se(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`},wa=Su;var Ru=(...e)=>{let t=A(e,"lab"),r=Te(e)||"lab";return t[0]=se(t[0])+"%",t[1]=se(t[1]),t[2]=se(t[2]),r==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},ya=Ru;var Lu=(...e)=>{let t=A(e,"lch"),r=Te(e)||"lab";return t[0]=se(t[0])+"%",t[1]=se(t[1]),t[2]=isNaN(t[2])?"none":se(t[2])+"deg",r==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},xa=Lu;var Mu=(...e)=>{let t=A(e,"lab");return t[0]=se(t[0]*100)+"%",t[1]=Zr(t[1]),t[2]=Zr(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},Ea=Mu;var Bu=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=dr(t,r,n),[l,c,u]=qn(i,s,a);return[l,c,u,...o.length>0&&o[0]<1?[o[0]]:[]]},Jn=Bu;var Ou=(...e)=>{let t=A(e,"lch");return t[0]=se(t[0]*100)+"%",t[1]=Zr(t[1]),t[2]=isNaN(t[2])?"none":se(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},Ca=Ou;var{round:ii}=Math,Fu=(...e)=>{let t=A(e,"rgba"),r=Te(e)||"rgb";if(r.substr(0,3)==="hsl")return wa(Qn(t),r);if(r.substr(0,3)==="lab"){let n=Ct();Be("d50");let o=ya(lr(t),r);return Be(n),o}if(r.substr(0,3)==="lch"){let n=Ct();Be("d50");let o=xa(qr(t),r);return Be(n),o}return r.substr(0,5)==="oklab"?Ea(dr(t)):r.substr(0,5)==="oklch"?Ca(Jn(t)):(t[0]=ii(t[0]),t[1]=ii(t[1]),t[2]=ii(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,r==="rgb"?3:4).join(" ")})`)},ka=Fu;var Yu=(...e)=>{e=A(e,"lch");let[t,r,n,...o]=e,[i,s,a]=jn(t,r,n),[l,c,u]=pr(i,s,a);return[l,c,u,...o.length>0&&o[0]<1?[o[0]]:[]]},eo=Yu;var dt=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,ze=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,to=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Fe=/\s*/.source,hr=/\s+/.source,si=/\s*,\s*/.source,ro=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,_r=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Ta=new RegExp("^rgba?\\("+Fe+[dt,dt,dt].join(hr)+_r+"\\)$"),Ia=new RegExp("^rgb\\("+Fe+[dt,dt,dt].join(si)+Fe+"\\)$"),Na=new RegExp("^rgba\\("+Fe+[dt,dt,dt,ze].join(si)+Fe+"\\)$"),Pa=new RegExp("^hsla?\\("+Fe+[ro,to,to].join(hr)+_r+"\\)$"),Da=new RegExp("^hsl?\\("+Fe+[ro,to,to].join(si)+Fe+"\\)$"),$a=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Sa=new RegExp("^lab\\("+Fe+[ze,ze,ze].join(hr)+_r+"\\)$"),Ra=new RegExp("^lch\\("+Fe+[ze,ze,ro].join(hr)+_r+"\\)$"),La=new RegExp("^oklab\\("+Fe+[ze,ze,ze].join(hr)+_r+"\\)$"),Ma=new RegExp("^oklch\\("+Fe+[ze,ze,ro].join(hr)+_r+"\\)$"),{round:Ba}=Math,mr=e=>e.map((t,r)=>r<=2?Le(Ba(t),0,255):t),K=(e,t=0,r=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=t+(e+1)*.5*(r-t):e=t+e*(r-t)),+e),he=(e,t)=>e==="none"?t:e,Oa=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(C.format.named)try{return C.format.named(e)}catch{}if((t=e.match(Ta))||(t=e.match(Ia))){let r=t.slice(1,4);for(let o=0;o<3;o++)r[o]=+K(he(r[o],0),0,255);r=mr(r);let n=t[4]!==void 0?+K(t[4],0,1):1;return r[3]=n,r}if(t=e.match(Na)){let r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+K(r[n],0,255);return r}if((t=e.match(Pa))||(t=e.match(Da))){let r=t.slice(1,4);r[0]=+he(r[0].replace("deg",""),0),r[1]=+K(he(r[1],0),0,100)*.01,r[2]=+K(he(r[2],0),0,100)*.01;let n=mr(Qr(r)),o=t[4]!==void 0?+K(t[4],0,1):1;return n[3]=o,n}if(t=e.match($a)){let r=t.slice(1,4);r[1]*=.01,r[2]*=.01;let n=Qr(r);for(let o=0;o<3;o++)n[o]=Ba(n[o]);return n[3]=+t[4],n}if(t=e.match(Sa)){let r=t.slice(1,4);r[0]=K(he(r[0],0),0,100),r[1]=K(he(r[1],0),-125,125,!0),r[2]=K(he(r[2],0),-125,125,!0);let n=Ct();Be("d50");let o=mr(ar(r));Be(n);let i=t[4]!==void 0?+K(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Ra)){let r=t.slice(1,4);r[0]=K(r[0],0,100),r[1]=K(he(r[1],0),0,150,!1),r[2]=+he(r[2].replace("deg",""),0);let n=Ct();Be("d50");let o=mr(cr(r));Be(n);let i=t[4]!==void 0?+K(t[4],0,1):1;return o[3]=i,o}if(t=e.match(La)){let r=t.slice(1,4);r[0]=K(he(r[0],0),0,1),r[1]=K(he(r[1],0),-.4,.4,!0),r[2]=K(he(r[2],0),-.4,.4,!0);let n=mr(pr(r)),o=t[4]!==void 0?+K(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Ma)){let r=t.slice(1,4);r[0]=K(he(r[0],0),0,1),r[1]=K(he(r[1],0),0,.4,!1),r[2]=+he(r[2].replace("deg",""),0);let n=mr(eo(r)),o=t[4]!==void 0?+K(t[4],0,1):1;return n[3]=o,n}};Oa.test=e=>Ta.test(e)||Pa.test(e)||Sa.test(e)||Ra.test(e)||La.test(e)||Ma.test(e)||Ia.test(e)||Na.test(e)||Da.test(e)||$a.test(e)||e==="transparent";var ai=Oa;m.prototype.css=function(e){return ka(this._rgb,e)};var Wu=(...e)=>new m(...e,"css");T.css=Wu;C.format.css=ai;C.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&x(e)==="string"&&ai.test(e))return"css"}});C.format.gl=(...e)=>{let t=A(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};var Hu=(...e)=>new m(...e,"gl");T.gl=Hu;m.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};m.prototype.hex=function(e){return Zn(this._rgb,e)};var Vu=(...e)=>new m(...e,"hex");T.hex=Vu;C.format.hex=Un;C.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&x(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var{log:no}=Math,Gu=e=>{let t=e/100,r,n,o;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*no(n),o=t<20?0:-254.76935184120902+.8274096064007395*(o=t-10)+115.67994401066147*no(o)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*no(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*no(n),o=255),[r,n,o,1]},oo=Gu;var{round:Uu}=Math,zu=(...e)=>{let t=A(e,"rgb"),r=t[0],n=t[2],o=1e3,i=4e4,s=.4,a;for(;i-o>s;){a=(i+o)*.5;let l=oo(a);l[2]/l[0]>=n/r?i=a:o=a}return Uu(a)},Fa=zu;m.prototype.temp=m.prototype.kelvin=m.prototype.temperature=function(){return Fa(this._rgb)};var li=(...e)=>new m(...e,"temp");Object.assign(T,{temp:li,kelvin:li,temperature:li});C.format.temp=C.format.kelvin=C.format.temperature=oo;m.prototype.oklch=function(){return Jn(this._rgb)};var Zu=(...e)=>new m(...e,"oklch");Object.assign(T,{oklch:Zu});C.format.oklch=eo;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"oklch"),x(e)==="array"&&e.length===3)return"oklch"}});Object.assign(T,{analyze:ri,average:js,bezier:qs,blend:Xs,brewer:ga,Color:m,colors:Et,contrast:ta,contrastAPCA:sa,cubehelix:Ks,deltaE:ua,distance:pa,input:C,interpolate:it,limits:ni,mix:it,random:Js,scale:Ht,scales:ma,valid:da});var ci=T;var ic=require("obsidian");var Ya=globalThis.process?.env?.NODE_ENV,w=Ya&&!Ya.toLowerCase().startsWith("prod");var Ze=Array.isArray,Wa=Array.prototype.indexOf,Xr=Array.from,fi=Object.keys,te=Object.defineProperty,je=Object.getOwnPropertyDescriptor,io=Object.getOwnPropertyDescriptors,ui=Object.prototype,Ha=Array.prototype,It=Object.getPrototypeOf;var we=()=>{};function Va(e){return e()}function Vt(e){for(var t=0;t<e.length;t++)e[t]()}var ye=Symbol("$state"),Gt=Symbol("$state metadata"),so=Symbol("legacy props"),Ga=Symbol("");function ao(e){return e===this.v}function Kr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function gr(e){return!Kr(e,this.v)}function Ua(){if(w){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function za(e){if(w){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Za(){if(w){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ja(e){if(w){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function qa(){if(w){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Qa(){if(w){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function Xa(e){if(w){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function Ka(e){if(w){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Ja(){if(w){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function el(){if(w){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function tl(){if(w){let e=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\nhttps://svelte.dev/e/state_unsafe_local_read");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function rl(){if(w){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var st=!1,at=!1;function nl(){st=!0}var Nt="[",Ut="[!",zt="]",Pt={};var Q=Symbol(),oe=Symbol("filename"),ol=Symbol("hmr"),il="http://www.w3.org/1999/xhtml";var Jr=null;function mt(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),o=[`
`];for(let i=0;i<n.length;i++){let s=n[i];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||o.push(s)}}if(o.length===1)return null;te(t,"stack",{value:o.join(`
`)}),te(t,"name",{value:`${e}Error`})}return t}var tn="font-weight: bold",rn="font-weight: normal";function al(e,t,r){w?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,tn,rn):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function vr(e){w?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,tn,rn):console.warn("https://svelte.dev/e/hydration_mismatch")}function ll(){w?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,tn,rn):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function mi(e,t){w?console.warn(`%c[svelte] ownership_invalid_mutation
%c${e?`${e} mutated a value owned by ${t}. This is strongly discouraged. Consider passing values to child components with \`bind:\`, or use a callback instead`:"Mutating a value outside the component that created it is strongly discouraged. Consider passing values to child components with `bind:`, or use a callback instead"}
https://svelte.dev/e/ownership_invalid_mutation`,tn,rn):console.warn("https://svelte.dev/e/ownership_invalid_mutation")}function lo(e){w?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,tn,rn):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var qu={},Qu=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,Xu=/@(.+):(\d+):(\d+)$/;function Ku(){let e=new Error().stack;if(!e)return null;let t=[];for(let r of e.split(`
`)){let n=Qu.exec(r)??Xu.exec(r);n&&t.push({file:n[1],line:+n[2],column:+n[3]})}return t}function cl(){let e=Ku()?.slice(4);if(!e)return null;for(let t=0;t<e.length;t++){let r=e[t],n=qu[r.file];if(!n){if(t===0)return null;continue}for(let o of n){if(o.end==null)return null;if(o.start.line<r.line&&o.end.line>r.line)return o.component}}return null}var Ju=Symbol("ADD_OWNER");function hi(e,t){if(t.owners!==null)for(;e;){if(e.owners===null){t.owners=null;break}for(let r of e.owners)t.owners.add(r);e=e.parent}}function fl(e,t){return e.owners===null?!0:e.owners.has(t)||oe in t&&[...e.owners].some(r=>r[oe]===t[oe])||e.parent!==null&&fl(e.parent,t)}function ul(e){return e?.owners?.values().next().value??ul(e.parent)}var ep=!1;function pl(e){if(ep)return;let t=cl();if(t&&!fl(e,t)){let r=ul(e);r[oe]!==t[oe]?mi(t[oe],r[oe]):mi()}}function nn(e){if(w){let t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var O=null;function on(e){O=e}var He=null;function sn(e){He=e}function an(e,t=!1,r){var n=O={p:O,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};st&&!t&&(O.l={s:null,u:null,r1:[],r2:J(!1)}),xe(()=>{n.d=!0}),w&&(O.function=r,He=r)}function ln(e){let t=O;if(t!==null){e!==void 0&&(t.x=e);let s=t.e;if(s!==null){var r=B,n=Y;t.e=null;try{for(var o=0;o<s.length;o++){var i=s[o];ae(i.effect),le(i.reaction),qe(i.fn)}}finally{ae(r),le(n)}}O=t.p,w&&(He=t.p?.function??null),t.m=!0}return e||{}}function ht(){return!st||O!==null&&O.l===null}var Zt=new Set,Ar=new Map;function gi(e){Zt=e}function J(e,t){var r={f:0,v:e,reactions:null,equals:ao,rv:0,wv:0};return w&&at&&(r.created=t??mt("CreatedAt"),r.debug=null),r}function lt(e,t=!1){var n;let r=J(e);return t||(r.equals=gr),st&&O!==null&&O.l!==null&&((n=O.l).s??(n.s=[])).push(r),r}function cn(e,t=!1){return np(lt(e,t))}function np(e){return Y!==null&&!Pe&&(Y.f&2)!==0&&(Qe===null?ml([e]):Qe.push(e)),e}function z(e,t){return Y!==null&&!Pe&&ht()&&(Y.f&18)!==0&&(Qe===null||!Qe.includes(e))&&rl(),yr(e,t)}function yr(e,t){if(!e.equals(t)){var r=e.v;if(jt?Ar.set(e,t):Ar.set(e,r),e.v=t,e.wv=fn(),w&&at&&(e.updated=mt("UpdatedAt"),B!=null&&(e.trace_need_increase=!0,e.trace_v??(e.trace_v=r))),dl(e,2048),ht()&&B!==null&&(B.f&1024)!==0&&(B.f&96)===0&&(Ie===null?hl([e]):Ie.push(e)),w&&Zt.size>0){let n=Array.from(Zt);for(let o of n)(o.f&1024)!==0&&ce(o,4096),gt(o)&&qt(o);Zt.clear()}}return t}function dl(e,t){var r=e.reactions;if(r!==null)for(var n=ht(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if((a&2048)===0&&!(!n&&s===B)){if(w&&(a&262144)!==0){Zt.add(s);continue}ce(s,t),(a&1280)!==0&&((a&2)!==0?dl(s,4096):xr(s))}}}var P=!1;function ve(e){P=e}var W;function q(e){if(e===null)throw vr(),Pt;return W=e}function fe(){return q(be(W))}function Ce(e){if(P){if(be(W)!==null)throw vr(),Pt;W=e}}function Er(){for(var e=0,t=W;;){if(t.nodeType===8){var r=t.data;if(r===zt){if(e===0)return t;e-=1}else(r===Nt||r===Ut)&&(e+=1)}var n=be(t);t.remove(),t=n}}function Dt(e,t=null,r){var n=null;if(w&&at&&(n=mt("CreatedAt")),typeof e!="object"||e===null||ye in e)return e;let o=It(e);if(o!==ui&&o!==Ha)return e;var i=new Map,s=Ze(e),a=J(0);s&&i.set("length",J(e.length,n));var l;if(w)if(l={parent:t,owners:null},r){let c=r.v?.[Gt]?.owners;l.owners=c?new Set(c):null}else l.owners=t===null?O!==null?new Set([O.function]):null:new Set;return new Proxy(e,{defineProperty(c,u,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&Ja();var f=i.get(u);return f===void 0?(f=J(p.value,n),i.set(u,f)):z(f,Dt(p.value,l)),!0},deleteProperty(c,u){var p=i.get(u);if(p===void 0)u in c&&i.set(u,J(Q,n));else{if(s&&typeof u=="string"){var f=i.get("length"),d=Number(u);Number.isInteger(d)&&d<f.v&&z(f,d)}z(p,Q),_l(a)}return!0},get(c,u,p){if(w&&u===Gt)return l;if(u===ye)return e;var f=i.get(u),d=u in c;if(f===void 0&&(!d||je(c,u)?.writable)&&(f=J(Dt(d?c[u]:Q,l),n),i.set(u,f)),f!==void 0){var _=L(f);if(w){var v=_?.[Gt];v&&v?.parent!==l&&hi(l,v)}return _===Q?void 0:_}return Reflect.get(c,u,p)},getOwnPropertyDescriptor(c,u){var p=Reflect.getOwnPropertyDescriptor(c,u);if(p&&"value"in p){var f=i.get(u);f&&(p.value=L(f))}else if(p===void 0){var d=i.get(u),_=d?.v;if(d!==void 0&&_!==Q)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return p},has(c,u){if(w&&u===Gt||u===ye)return!0;var p=i.get(u),f=p!==void 0&&p.v!==Q||Reflect.has(c,u);if(p!==void 0||B!==null&&(!f||je(c,u)?.writable)){p===void 0&&(p=J(f?Dt(c[u],l):Q,n),i.set(u,p));var d=L(p);if(d===Q)return!1}return f},set(c,u,p,f){var d=i.get(u),_=u in c;if(s&&u==="length")for(var v=p;v<d.v;v+=1){var g=i.get(v+"");g!==void 0?z(g,Q):v in c&&(g=J(Q,n),i.set(v+"",g))}if(d===void 0?(!_||je(c,u)?.writable)&&(d=J(void 0,n),z(d,Dt(p,l)),i.set(u,d)):(_=d.v!==Q,z(d,Dt(p,l))),w){var b=p?.[Gt];b&&b?.parent!==l&&hi(l,b),pl(l)}var R=Reflect.getOwnPropertyDescriptor(c,u);if(R?.set&&R.set.call(f,p),!_){if(s&&typeof u=="string"){var S=i.get("length"),E=Number(u);Number.isInteger(E)&&E>=S.v&&z(S,E+1)}_l(a)}return!0},ownKeys(c){L(a);var u=Reflect.ownKeys(c).filter(d=>{var _=i.get(d);return _===void 0||_.v!==Q});for(var[p,f]of i)f.v!==Q&&!(p in c)&&u.push(p);return u},setPrototypeOf(){el()}})}function _l(e,t=1){z(e,e.v+t)}function co(e){return e!==null&&typeof e=="object"&&ye in e?e[ye]:e}function gl(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);if(a===-1){for(let l=s??0;l<this.length;l+=1)if(co(this[l])===i){lo("array.indexOf(...)");break}}return a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s??this.length-1);if(a===-1){for(let l=0;l<=(s??this.length-1);l+=1)if(co(this[l])===i){lo("array.lastIndexOf(...)");break}}return a},e.includes=function(i,s){let a=o.call(this,i,s);if(!a){for(let l=0;l<this.length;l+=1)if(co(this[l])===i){lo("array.includes(...)");break}}return a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var vi,vl,un,bl,Al;function fo(){if(vi===void 0){vi=window,vl=document,un=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;bl=je(t,"firstChild").get,Al=je(t,"nextSibling").get,e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0,Text.prototype.__t=void 0,w&&(e.__svelte_meta=null,gl())}}function Ke(e=""){return document.createTextNode(e)}function ue(e){return bl.call(e)}function be(e){return Al.call(e)}function De(e,t){if(!P)return ue(e);var r=ue(W);if(r===null)r=W.appendChild(Ke());else if(t&&r.nodeType!==3){var n=Ke();return r?.before(n),q(n),n}return q(r),r}function bi(e,t){if(!P){var r=ue(e);return r instanceof Comment&&r.data===""?be(r):r}if(t&&W?.nodeType!==3){var n=Ke();return W?.before(n),q(n),n}return W}function $t(e,t=1,r=!1){let n=P?W:e;for(var o;t--;)o=n,n=be(n);if(!P)return n;var i=n?.nodeType;if(r&&i!==3){var s=Ke();return n===null?o?.after(s):n.before(s),q(s),s}return q(n),n}function pn(e){e.textContent=""}function vt(e){var t=2050,r=Y!==null&&(Y.f&2)!==0?Y:null;B===null||r!==null&&(r.f&256)!==0?t|=256:B.f|=1048576;let n={ctx:O,deps:null,effects:null,equals:ao,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??B};return w&&at&&(n.created=mt("CreatedAt")),n}function St(e){let t=vt(e);return t.equals=gr,t}function uo(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)pe(t[r])}}var Ai=[];function op(e){for(var t=e.parent;t!==null;){if((t.f&2)===0)return t;t=t.parent}return null}function ip(e){var t,r=B;if(ae(op(e)),w){let n=Zt;gi(new Set);try{Ai.includes(e)&&Ua(),Ai.push(e),uo(e),t=po(e)}finally{ae(r),gi(n),Ai.pop()}}else try{uo(e),t=po(e)}finally{ae(r)}return t}function yi(e){var t=ip(e),r=(bt||(e.f&256)!==0)&&e.deps!==null?4096:1024;ce(e,r),e.equals(t)||(e.v=t,e.wv=fn())}function Ci(e){B===null&&Y===null&&ja(e),Y!==null&&(Y.f&256)!==0&&B===null&&Za(),jt&&za(e)}function sp(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Qt(e,t,r,n=!0){var o=B;if(w)for(;o!==null&&(o.f&262144)!==0;)o=o.parent;var i={ctx:O,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(w&&(i.component_function=He),r)try{qt(i),i.f|=32768}catch(l){throw pe(i),l}else t!==null&&xr(i);var s=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&1048704)===0;if(!s&&n&&(o!==null&&sp(i,o),Y!==null&&(Y.f&2)!==0)){var a=Y;(a.effects??(a.effects=[])).push(i)}return i}function xe(e){let t=Qt(8,null,!1);return ce(t,1024),t.teardown=e,t}function kr(e){Ci("$effect");var t=B!==null&&(B.f&32)!==0&&O!==null&&!O.m;if(w&&te(e,"name",{value:"$effect"}),t){var r=O;(r.e??(r.e=[])).push({fn:e,effect:B,reaction:Y})}else{var n=qe(e);return n}}function br(e){return Ci("$effect.pre"),w&&te(e,"name",{value:"$effect.pre"}),ie(e)}function ho(e){let t=Qt(64,e,!0);return()=>{pe(t)}}function xl(e){let t=Qt(64,e,!0);return(r={})=>new Promise(n=>{r.outro?et(t,()=>{pe(t),n(void 0)}):(pe(t),n(void 0))})}function qe(e){return Qt(4,e,!1)}function ki(e,t){var r=O,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=ie(()=>{e(),!n.ran&&(n.ran=!0,z(r.l.r2,!0),U(t))})}function Ti(){var e=O;ie(()=>{if(L(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&1024)!==0&&ce(r,4096),gt(r)&&qt(r),t.ran=!1}e.l.r2.v=!1}})}function ie(e){return Qt(8,e,!0)}function mn(e,t=[],r=vt){let n=t.map(r),o=()=>e(...n.map(L));return w&&te(o,"name",{value:"{expression}"}),ke(o)}function ke(e,t=0){return Qt(24|t,e,!0)}function de(e,t=!0){return Qt(40,e,!0,t)}function Ii(e){var t=e.teardown;if(t!==null){let r=jt,n=Y;xi(!0),le(null);try{t.call(null)}finally{xi(r),le(n)}}}function Ni(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&64)!==0?r.parent=null:pe(r,t),r=n}}function El(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&32)===0&&pe(t),t=r}}function pe(e,t=!0){var r=!1;if((t||(e.f&524288)!==0)&&e.nodes_start!==null){for(var n=e.nodes_start,o=e.nodes_end;n!==null;){var i=n===o?null:be(n);n.remove(),n=i}r=!0}Ni(e,t&&!r),hn(e,0),ce(e,16384);var s=e.transitions;if(s!==null)for(let l of s)l.stop();Ii(e);var a=e.parent;a!==null&&a.first!==null&&Pi(e),w&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Pi(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function et(e,t){var r=[];_o(e,r,!0),Di(r,()=>{pe(e),t&&t()})}function Di(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function _o(e,t,r){if((e.f&8192)===0){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&65536)!==0||(n.f&32)!==0;_o(n,t,i?r:!1),n=o}}}function Rt(e){Cl(e,!0)}function Cl(e,t){if((e.f&8192)!==0){e.f^=8192,(e.f&1024)===0&&(e.f^=1024),gt(e)&&(ce(e,2048),xr(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;Cl(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var ap=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback,_n=[],gn=[];function kl(){var e=_n;_n=[],Vt(e)}function Tl(){var e=gn;gn=[],Vt(e)}function tt(e){_n.length===0&&queueMicrotask(kl),_n.push(e)}function Il(e){gn.length===0&&ap(Tl),gn.push(e)}function $i(){_n.length>0&&kl(),gn.length>0&&Tl()}var Nl=new WeakSet,go=!1,An=!1,vn=null,Xt=!1,jt=!1;function xi(e){jt=e}var bn=[],bo=[],Y=null,Pe=!1;function le(e){Y=e}var B=null;function ae(e){B=e}var Qe=null;function ml(e){Qe=e}var Ae=null,$e=0,Ie=null;function hl(e){Ie=e}var Rl=1,Ao=0,bt=!1,en=null;function fn(){return++Rl}function gt(e){var t=e.f;if((t&2048)!==0)return!0;if((t&4096)!==0){var r=e.deps,n=(t&256)!==0;if(r!==null){var o,i,s=(t&512)!==0,a=n&&B!==null&&!bt,l=r.length;if(s||a){var c=e,u=c.parent;for(o=0;o<l;o++)i=r[o],(s||!i?.reactions?.includes(c))&&(i.reactions??(i.reactions=[])).push(c);s&&(c.f^=512),a&&u!==null&&(u.f&256)===0&&(c.f^=256)}for(o=0;o<l;o++)if(i=r[o],gt(i)&&yi(i),i.wv>e.wv)return!0}(!n||B!==null&&!bt)&&ce(e,1024)}return!1}function Pl(e,t){for(var r=t;r!==null;){if((r.f&128)!==0)try{r.fn(e);return}catch{r.f^=128}r=r.parent}throw go=!1,e}function Dl(e){return(e.f&16384)===0&&(e.parent===null||(e.parent.f&128)===0)}function Tr(e,t,r,n){if(go){if(r===null&&(go=!1),Dl(t))throw e;return}if(r!==null&&(go=!0),!w||n===null||!(e instanceof Error)||Nl.has(e)){Pl(e,t);return}Nl.add(e);let o=[],i=t.fn?.name;i&&o.push(i);let s=n;for(;s!==null;){if(w){var a=s.function?.[oe];if(a){let u=a.split("/").pop();o.push(u)}}s=s.p}let l=un?"  ":"	";te(e,"message",{value:e.message+`
${o.map(u=>`
${l}in ${u}`).join("")}
`}),te(e,"component_stack",{value:o});let c=e.stack;if(c){let u=c.split(`
`),p=[];for(let f=0;f<u.length;f++){let d=u[f];d.includes("svelte/src/internal")||p.push(d)}te(e,"stack",{value:p.join(`
`)})}if(Pl(e,t),Dl(t))throw e}function Ll(e,t,r=!0){var n=e.reactions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];(i.f&2)!==0?Ll(i,t,!1):t===i&&(r?ce(i,2048):(i.f&1024)!==0&&ce(i,4096),xr(i))}}function po(e){var d;var t=Ae,r=$e,n=Ie,o=Y,i=bt,s=Qe,a=O,l=Pe,c=e.f;Ae=null,$e=0,Ie=null,bt=(c&256)!==0&&(Pe||!Xt||Y===null),Y=(c&96)===0?e:null,Qe=null,on(e.ctx),Pe=!1,Ao++;try{var u=(0,e.fn)(),p=e.deps;if(Ae!==null){var f;if(hn(e,$e),p!==null&&$e>0)for(p.length=$e+Ae.length,f=0;f<Ae.length;f++)p[$e+f]=Ae[f];else e.deps=p=Ae;if(!bt)for(f=$e;f<p.length;f++)((d=p[f]).reactions??(d.reactions=[])).push(e)}else p!==null&&$e<p.length&&(hn(e,$e),p.length=$e);if(ht()&&Ie!==null&&!Pe&&p!==null&&(e.f&6146)===0)for(f=0;f<Ie.length;f++)Ll(Ie[f],e);return o!==null&&(Ao++,Ie!==null&&(n===null?n=Ie:n.push(...Ie))),u}finally{Ae=t,$e=r,Ie=n,Y=o,bt=i,Qe=s,on(a),Pe=l}}function lp(e,t){let r=t.reactions;if(r!==null){var n=Wa.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&(t.f&2)!==0&&(Ae===null||!Ae.includes(t))&&(ce(t,4096),(t.f&768)===0&&(t.f^=512),uo(t),hn(t,0))}function hn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)lp(e,r[n])}function qt(e){var t=e.f;if((t&16384)===0){ce(e,1024);var r=B,n=O,o=Xt;if(B=e,Xt=!0,w){var i=He;sn(e.component_function)}try{(t&16)!==0?El(e):Ni(e),Ii(e);var s=po(e);e.teardown=typeof s=="function"?s:null,e.wv=Rl;var a=e.deps;if(w&&at&&(e.f&2048)!==0&&a!==null)for(let c=0;c<a.length;c++){var l=a[c];l.trace_need_increase&&(l.wv=fn(),l.trace_need_increase=void 0,l.trace_v=void 0)}w&&bo.push(e)}catch(c){Tr(c,e,r,n||e.ctx)}finally{Xt=o,B=r,w&&sn(i)}}}function $l(){console.error("Last ten effects were: ",bo.slice(-10).map(e=>e.fn)),bo=[]}function cp(){try{qa()}catch(e){if(w&&te(e,"stack",{value:""}),vn!==null)if(w)try{Tr(e,vn,null,null)}catch(t){throw $l(),t}else Tr(e,vn,null,null);else throw w&&$l(),e}}function Si(){var e=Xt;try{var t=0;for(Xt=!0;bn.length>0;){t++>1e3&&cp();var r=bn,n=r.length;bn=[];for(var o=0;o<n;o++){var i=up(r[o]);fp(i)}}}finally{An=!1,Xt=e,vn=null,w&&(bo=[]),Ar.clear()}}function fp(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&24576)===0)try{gt(n)&&(qt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Pi(n):n.fn=null))}catch(o){Tr(o,n,null,n.ctx)}}}function xr(e){An||(An=!0,queueMicrotask(Si));for(var t=vn=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&96)!==0){if((r&1024)===0)return;t.f^=1024}}bn.push(t)}function up(e){for(var t=[],r=e;r!==null;){var n=r.f,o=(n&96)!==0,i=o&&(n&1024)!==0;if(!i&&(n&8192)===0){if((n&4)!==0)t.push(r);else if(o)r.f^=1024;else{var s=Y;try{Y=r,gt(r)&&qt(r)}catch(c){Tr(c,r,null,r.ctx)}finally{Y=s}}var a=r.first;if(a!==null){r=a;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return t}function wn(e){var t;for(e&&(An=!0,Si(),t=e()),$i();bn.length>0;)An=!0,Si(),$i();return t}function L(e){var t=e.f,r=(t&2)!==0;if(en!==null&&en.add(e),Y!==null&&!Pe){Qe!==null&&Qe.includes(e)&&tl();var n=Y.deps;e.rv<Ao&&(e.rv=Ao,Ae===null&&n!==null&&n[$e]===e?$e++:Ae===null?Ae=[e]:(!bt||!Ae.includes(e))&&Ae.push(e))}else if(r&&e.deps===null&&e.effects===null){var o=e,i=o.parent;i!==null&&(i.f&256)===0&&(o.f^=256)}if(r&&(o=e,gt(o)&&yi(o)),w&&at&&Jr!==null&&Y!==null&&Jr.reaction===Y){if(e.debug)e.debug();else if(e.created){var s=Jr.entries.get(e);s===void 0&&(s={read:[]},Jr.entries.set(e,s)),s.read.push(mt("TracedAt"))}}return jt&&Ar.has(e)?Ar.get(e):e.v}function U(e){var t=Pe;try{return Pe=!0,e()}finally{Pe=t}}var pp=-7169;function ce(e,t){e.f=e.f&pp|t}function Ir(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ye in e)wo(e);else if(!Array.isArray(e))for(let t in e){let r=e[t];typeof r=="object"&&r&&ye in r&&wo(r)}}}function wo(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{wo(e[n],t)}catch{}let r=It(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=io(r);for(let o in n){let i=n[o].get;if(i)try{i.call(e)}catch{}}}}}var dp=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var iy=[...dp,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var mp=["touchstart","touchmove"];function Ml(e){return mp.includes(e)}var Bl=new Map;function Ol(e,t){var r=Bl.get(e);r||(r=new Set,Bl.set(e,r)),r.add(t)}var Fl=!1;function yo(){Fl||(Fl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function xo(e){var t=Y,r=B;le(null),ae(null);try{return e()}finally{le(t),ae(r)}}function Ri(e,t,r,n=r){e.addEventListener(t,()=>xo(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),yo()}var Yl=new Set,Li=new Set;function yn(e){var t=this,r=t.ownerDocument,n=e.type,o=e.composedPath?.()||[],i=o[0]||e.target,s=0,a=e.__root;if(a){var l=o.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=o.indexOf(t);if(c===-1)return;l<=c&&(s=l)}if(i=o[s]||e.target,i!==t){te(e,"currentTarget",{configurable:!0,get(){return i||r}});var u=Y,p=B;le(null),ae(null);try{for(var f,d=[];i!==null;){var _=i.assignedSlot||i.parentNode||i.host||null;try{var v=i["__"+n];if(v!=null&&(!i.disabled||e.target===i))if(Ze(v)){var[g,...b]=v;g.apply(i,[e,...b])}else v.call(i,e)}catch(R){f?d.push(R):f=R}if(e.cancelBubble||_===t||_===null)break;i=_}if(f){for(let R of d)queueMicrotask(()=>{throw R});throw f}}finally{e.__root=t,delete e.currentTarget,le(u),ae(p)}}}var _p;function Wl(){_p=void 0}function Eo(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Lt(e,t){var r=B;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function Nr(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if(P)return Lt(W,null),W;o===void 0&&(o=Eo(i?e:"<!>"+e),r||(o=ue(o)));var s=n||un?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=ue(s),l=s.lastChild;Lt(a,l)}else Lt(s,s);return s}}function Mt(e,t){if(P){B.nodes_end=W,fe();return}e!==null&&e.before(t)}var Mi=!0;function xn(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Dr(e,t){return Hl(e,t)}function Oi(e,t){fo(),t.intro=t.intro??!1;let r=t.target,n=P,o=W;try{for(var i=ue(r);i&&(i.nodeType!==8||i.data!==Nt);)i=be(i);if(!i)throw Pt;ve(!0),q(i),fe();let s=Hl(e,{...t,anchor:i});if(W===null||W.nodeType!==8||W.data!==zt)throw vr(),Pt;return ve(!1),s}catch(s){if(s===Pt)return t.recover===!1&&Qa(),fo(),pn(r),ve(!1),Dr(e,t);throw s}finally{ve(n),q(o),Wl()}}var Pr=new Map;function Hl(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){fo();var a=new Set,l=p=>{for(var f=0;f<p.length;f++){var d=p[f];if(!a.has(d)){a.add(d);var _=Ml(d);t.addEventListener(d,yn,{passive:_});var v=Pr.get(d);v===void 0?(document.addEventListener(d,yn,{passive:_}),Pr.set(d,1)):Pr.set(d,v+1)}}};l(Xr(Yl)),Li.add(l);var c=void 0,u=xl(()=>{var p=r??t.appendChild(Ke());return de(()=>{if(i){an({});var f=O;f.c=i}o&&(n.$$events=o),P&&Lt(p,null),Mi=s,c=e(p,n)||{},Mi=!0,P&&(B.nodes_end=W),i&&ln()}),()=>{for(var f of a){t.removeEventListener(f,yn);var d=Pr.get(f);--d===0?(document.removeEventListener(f,yn),Pr.delete(f)):Pr.set(f,d)}Li.delete(l),p!==r&&p.parentNode?.removeChild(p)}});return Bi.set(c,u),c}var Bi=new WeakMap;function En(e,t){let r=Bi.get(e);return r?(Bi.delete(e),r(t)):(w&&ll(),Promise.resolve())}function Fi(e,t,[r,n]=[0,0]){P&&r===0&&fe();var o=e,i=null,s=null,a=Q,l=r>0?65536:0,c=!1;let u=(f,d=!0)=>{c=!0,p(d,f)},p=(f,d)=>{if(a===(a=f))return;let _=!1;if(P&&n!==-1){if(r===0){let g=o.data;g===Nt?n=0:g===Ut?n=1/0:(n=parseInt(g.substring(1)),n!==n&&(n=a?1/0:-1))}let v=n>r;!!a===v&&(o=Er(),q(o),ve(!1),_=!0,n=-1)}a?(i?Rt(i):d&&(i=de(()=>d(o))),s&&et(s,()=>{s=null})):(s?Rt(s):d&&(s=de(()=>d(o,[r+1,n]))),i&&et(i,()=>{i=null})),_&&ve(!0)};ke(()=>{c=!1,t(u),c||p(null,null)},l),P&&(o=W)}var Cn=null;function Hi(e,t){return t}function yp(e,t,r,n){for(var o=[],i=t.length,s=0;s<i;s++)_o(t[s].e,o,!0);var a=i>0&&o.length===0&&r!==null;if(a){var l=r.parentNode;pn(l),l.append(r),n.clear(),Bt(e,t[0].prev,t[i-1].next)}Di(o,()=>{for(var c=0;c<i;c++){var u=t[c];a||(n.delete(u.k),Bt(e,u.prev,u.next)),pe(u.e,!a)}})}function Vi(e,t,r,n,o,i=null){var s=e,a={flags:t,items:new Map,first:null},l=(t&4)!==0;if(l){var c=e;s=P?q(ue(c)):c.appendChild(Ke())}P&&fe();var u=null,p=!1,f=St(()=>{var d=r();return Ze(d)?d:d==null?[]:Xr(d)});ke(()=>{var d=L(f),_=d.length;if(p&&_===0)return;p=_===0;let v=!1;if(P){var g=s.data===Ut;g!==(_===0)&&(s=Er(),q(s),ve(!1),v=!0)}if(P){for(var b=null,R,S=0;S<_;S++){if(W.nodeType===8&&W.data===zt){s=W,v=!0,ve(!1);break}var E=d[S],$=n(E,S);R=Ul(W,a,b,null,E,$,S,o,t,r),a.items.set($,R),b=R}_>0&&q(Er())}P||xp(d,a,s,o,t,n,r),i!==null&&(_===0?u?Rt(u):u=de(()=>i(s)):u!==null&&et(u,()=>{u=null})),v&&ve(!0),L(f)}),P&&(s=W)}function xp(e,t,r,n,o,i,s){var a=(o&8)!==0,l=(o&3)!==0,c=e.length,u=t.items,p=t.first,f=p,d,_=null,v,g=[],b=[],R,S,E,$;if(a)for($=0;$<c;$+=1)R=e[$],S=i(R,$),E=u.get(S),E!==void 0&&(E.a?.measure(),(v??(v=new Set)).add(E));for($=0;$<c;$+=1){if(R=e[$],S=i(R,$),E=u.get(S),E===void 0){var N=f?f.e.nodes_start:r;_=Ul(N,t,_,_===null?t.first:_.next,R,S,$,n,o,s),u.set(S,_),g=[],b=[],f=_.next;continue}if(l&&Ep(E,R,$,o),(E.e.f&8192)!==0&&(Rt(E.e),a&&(E.a?.unfix(),(v??(v=new Set)).delete(E))),E!==f){if(d!==void 0&&d.has(E)){if(g.length<b.length){var h=b[0],y;_=h.prev;var D=g[0],I=g[g.length-1];for(y=0;y<g.length;y+=1)Vl(g[y],h,r);for(y=0;y<b.length;y+=1)d.delete(b[y]);Bt(t,D.prev,I.next),Bt(t,_,D),Bt(t,I,h),f=h,_=I,$-=1,g=[],b=[]}else d.delete(E),Vl(E,f,r),Bt(t,E.prev,E.next),Bt(t,E,_===null?t.first:_.next),Bt(t,_,E),_=E;continue}for(g=[],b=[];f!==null&&f.k!==S;)(f.e.f&8192)===0&&(d??(d=new Set)).add(f),b.push(f),f=f.next;if(f===null)continue;E=f}g.push(E),_=E,f=E.next}if(f!==null||d!==void 0){for(var F=d===void 0?[]:Xr(d);f!==null;)(f.e.f&8192)===0&&F.push(f),f=f.next;var k=F.length;if(k>0){var M=(o&4)!==0&&c===0?r:null;if(a){for($=0;$<k;$+=1)F[$].a?.measure();for($=0;$<k;$+=1)F[$].a?.fix()}yp(t,F,M,u)}}a&&tt(()=>{if(v!==void 0)for(E of v)E.a?.apply()}),B.first=t.first&&t.first.e,B.last=_&&_.e}function Ep(e,t,r,n){(n&1)!==0&&yr(e.v,t),(n&2)!==0?yr(e.i,r):e.i=r}function Ul(e,t,r,n,o,i,s,a,l,c){var u=Cn,p=(l&1)!==0,f=(l&16)===0,d=p?f?lt(o):J(o):o,_=(l&2)===0?s:J(s);w&&p&&(d.debug=()=>{var g=typeof _=="number"?s:_.v;c()[g]});var v={i:_,v:d,k:i,a:null,e:null,prev:r,next:n};Cn=v;try{return v.e=de(()=>a(e,d,_,c),P),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?t.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{Cn=u}}function Vl(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=be(i);o.before(i),i=s}}function Bt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Gi(e,t){tt(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let o=document.createElement("style");o.id=t.hash,o.textContent=t.code,n.appendChild(o),w&&Ol(t.hash,o)}})}var zl=[...` 	
\r\f\xA0\v\uFEFF`];function jl(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var o in r)if(r[o])n=n?n+" "+o:o;else if(n.length)for(var i=o.length,s=0;(s=n.indexOf(o,s))>=0;){var a=s+i;(s===0||zl.includes(n[s-1]))&&(a===n.length||zl.includes(n[a]))?n=(s===0?"":n.substring(0,s))+n.substring(a+1):s=a}}return n===""?null:n}function Zl(e,t=!1){var r=t?" !important;":";",n="";for(var o in e){var i=e[o];i!=null&&i!==""&&(n+=" "+o+": "+i+r)}return n}function Ui(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function ql(e,t){if(t){var r="",n,o;if(Array.isArray(t)?(n=t[0],o=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,a=!1,l=[];n&&l.push(...Object.keys(n).map(Ui)),o&&l.push(...Object.keys(o).map(Ui));var c=0,u=-1;let v=e.length;for(var p=0;p<v;p++){var f=e[p];if(a?f==="/"&&e[p-1]==="*"&&(a=!1):i?i===f&&(i=!1):f==="/"&&e[p+1]==="*"?a=!0:f==='"'||f==="'"?i=f:f==="("?s++:f===")"&&s--,!a&&i===!1&&s===0){if(f===":"&&u===-1)u=p;else if(f===";"||p===v-1){if(u!==-1){var d=Ui(e.substring(c,u).trim());if(!l.includes(d)){f!==";"&&p++;var _=e.substring(c,p).trim();r+=" "+_+";"}}c=p+1,u=-1}}}}return n&&(r+=Zl(n)),o&&(r+=Zl(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function $r(e,t,r,n,o,i){var s=e.__className;if(P||s!==r){var a=jl(r,n,i);(!P||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a)),e.__className=r}else if(i&&o!==i)for(var l in i){var c=!!i[l];(o==null||c!==!!o[l])&&e.classList.toggle(l,c)}return i}function zi(e,t={},r,n){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,n))}}function Ot(e,t,r,n){var o=e.__style;if(P||o!==t){var i=ql(t,n);(!P||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(zi(e,r?.[0],n[0]),zi(e,r?.[1],n[1],"important")):zi(e,r,n));return n}var Np=Symbol("class"),Pp=Symbol("style"),Dp=Symbol("is custom element"),$p=Symbol("is html");function ji(e){if(P){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;kn(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;kn(e,"checked",null),e.checked=o}}};e.__on_r=r,Il(r),yo()}}function kn(e,t,r,n){var o=Sp(e);if(P&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||Lp(e,t,r??"");return}o[t]!==(o[t]=r)&&(t==="loading"&&(e[Ga]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Rp(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Sp(e){return e.__attributes??(e.__attributes={[Dp]:e.nodeName.includes("-"),[$p]:e.namespaceURI===il})}var Ql=new Map;function Rp(e){var t=Ql.get(e.nodeName);if(t)return t;Ql.set(e.nodeName,t=[]);for(var r,n=e,o=Element.prototype;o!==n;){r=io(n);for(var i in r)r[i].set&&t.push(i);n=It(n)}return t}function Lp(e,t,r){w&&(t==="srcset"&&Mp(e,r)||Zi(e.getAttribute(t)??"",r)||al(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Zi(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function Xl(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function Mp(e,t){var r=Xl(e.srcset),n=Xl(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Zi(r[s][0],o)||Zi(o,r[s][0])))}function qi(e,t,r=t){Ri(e,"change",n=>{var o=n?e.defaultChecked:e.checked;r(o)}),(P&&e.defaultChecked!==e.checked||U(t)==null)&&r(e.checked),ie(()=>{var n=t();e.checked=!!n})}function Qi(e=!1){let t=O,r=t.l.u;if(!r)return;let n=()=>Ir(t.s);if(e){let o=0,i={},s=vt(()=>{let a=!1,l=t.s;for(let c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&o++,o});n=()=>L(s)}r.b.length&&br(()=>{Kl(t,n),Vt(r.b)}),kr(()=>{let o=U(()=>r.m.map(Va));return()=>{for(let i of o)typeof i=="function"&&i()}}),r.a.length&&kr(()=>{Kl(t,n),Vt(r.a)})}function Kl(e,t){if(e.l.s)for(let r of e.l.s)L(r);t()}function ko(e,t,r){if(e==null)return t(void 0),r&&r(void 0),we;let n=U(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var Sr=[];function Kt(e,t=we){let r=null,n=new Set;function o(a){if(Kr(e,a)&&(e=a,r)){let l=!Sr.length;for(let c of n)c[1](),Sr.push(c,e);if(l){for(let c=0;c<Sr.length;c+=2)Sr[c][0](Sr[c+1]);Sr.length=0}}}function i(a){o(a(e))}function s(a,l=we){let c=[a,l];return n.add(c),n.size===1&&(r=t(o,i)||we),a(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}function To(e){let t;return ko(e,r=>t=r)(),t}var Io=!1,Xi=Symbol();function Rr(e,t,r){let n=r[t]??(r[t]={store:null,source:lt(void 0),unsubscribe:we});if(n.store!==e&&!(Xi in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=we;else{var o=!0;n.unsubscribe=ko(e,i=>{o?n.source.v=i:z(n.source,i)}),o=!1}return e&&Xi in r?To(e):L(n.source)}function Ki(){let e={};function t(){xe(()=>{for(var r in e)e[r].unsubscribe();te(e,Xi,{enumerable:!1,value:!0})})}return[e,t]}function Ji(e){var t=Io;try{return Io=!1,[e(),Io]}finally{Io=t}}function Jl(e){return e.ctx?.d??!1}function Tn(e,t,r,n){var o=(r&1)!==0,i=!st||(r&2)!==0,s=(r&8)!==0,a=(r&16)!==0,l=!1,c;s?[c,l]=Ji(()=>e[t]):c=e[t];var u=ye in e||so in e,p=s&&(je(e,t)?.set??(u&&t in e&&(h=>e[t]=h)))||void 0,f=n,d=!0,_=!1,v=()=>(_=!0,d&&(d=!1,a?f=U(n):f=n),f);c===void 0&&n!==void 0&&(p&&i&&Xa(t),c=v(),p&&p(c));var g;if(i)g=()=>{var h=e[t];return h===void 0?v():(d=!0,_=!1,h)};else{var b=(o?vt:St)(()=>e[t]);b.f|=131072,g=()=>{var h=L(b);return h!==void 0&&(f=void 0),h===void 0?f:h}}if((r&4)===0)return g;if(p){var R=e.$$legacy;return function(h,y){return arguments.length>0?((!i||!y||R||l)&&p(y?g():h),h):g()}}var S=!1,E=!1,$=lt(c),N=vt(()=>{var h=g(),y=L($);return S?(S=!1,E=!0,y):(E=!1,$.v=h)});return s&&L(N),o||(N.equals=gr),function(h,y){if(en!==null&&(S=E,g(),L($)),arguments.length>0){let D=y?L(N):i&&s?Dt(h):h;if(!N.equals(D)){if(S=!0,z($,D),_&&f!==void 0&&(f=D),Jl(N))return h;U(()=>L(N))}return h}return Jl(N)?N.v:L(N)}}function ec(e){return new es(e)}var At,Ve,es=class{constructor(t){$n(this,At);$n(this,Ve);var r=new Map,n=(i,s)=>{var a=lt(s);return r.set(i,a),a};let o=new Proxy({...t.props||{},$$events:{}},{get(i,s){return L(r.get(s)??n(s,Reflect.get(i,s)))},has(i,s){return s===so?!0:(L(r.get(s)??n(s,Reflect.get(i,s))),Reflect.has(i,s))},set(i,s,a){return z(r.get(s)??n(s,a),a),Reflect.set(i,s,a)}});Sn(this,Ve,(t.hydrate?Oi:Dr)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!t?.props?.$$host||t.sync===!1)&&wn(),Sn(this,At,o.$$events);for(let i of Object.keys(me(this,Ve)))i==="$set"||i==="$destroy"||i==="$on"||te(this,i,{get(){return me(this,Ve)[i]},set(s){me(this,Ve)[i]=s},enumerable:!0});me(this,Ve).$set=i=>{Object.assign(o,i)},me(this,Ve).$destroy=()=>{En(me(this,Ve))}}$set(t){me(this,Ve).$set(t)}$on(t,r){me(this,At)[t]=me(this,At)[t]||[];let n=(...o)=>r.call(this,...o);return me(this,At)[t].push(n),()=>{me(this,At)[t]=me(this,At)[t].filter(o=>o!==n)}}$destroy(){me(this,Ve).$destroy()}};At=new WeakMap,Ve=new WeakMap;var Jp;typeof HTMLElement=="function"&&(Jp=class extends HTMLElement{constructor(t,r,n){super();Re(this,"$$ctor");Re(this,"$$s");Re(this,"$$c");Re(this,"$$cn",!1);Re(this,"$$d",{});Re(this,"$$r",!1);Re(this,"$$p_d",{});Re(this,"$$l",{});Re(this,"$$l_u",new Map);Re(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),Mt(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=ed(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=ts(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=ec({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=ho(()=>{ie(()=>{this.$$r=!0;for(let o of fi(this.$$c)){if(!this.$$p_d[o]?.reflect)continue;this.$$d[o]=this.$$c[o];let i=ts(o,this.$$d[o],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,i)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){this.$$r||(t=this.$$g_p(t),this.$$d[t]=ts(t,n,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return fi(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function ts(e,t,r,n){let o=r[e]?.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function ed(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(w){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;Ka(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function rs(e){O===null&&nn("onMount"),st&&O.l!==null?nd(O).m.push(e):kr(()=>{let t=U(e);if(typeof t=="function")return t})}function rc(e){O===null&&nn("onDestroy"),rs(()=>()=>U(e))}function nd(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var No=Kt(new nt([],!1)),Po=Kt(new Date),Do=Kt([]),$o=Kt([]);var nc="5";var oc;typeof window<"u"&&((oc=window.__svelte??(window.__svelte={})).v??(oc.v=new Set)).add(nc);nl();var od=Nr('<div><div class="event_item_contents svelte-1w1uwcg"><div></div> <div class="ei_Item svelte-1w1uwcg"><span class="ei_Title svelte-1w1uwcg"> </span> <span class="ei_Copy svelte-1w1uwcg"> </span></div></div></div>'),id=Nr('<div><div class="aside__line filled__line svelte-1w1uwcg"><div class="filled__line__completed svelte-1w1uwcg"></div></div></div> <div class="events svelte-1w1uwcg"></div> <div id="now-line" class="svelte-1w1uwcg"><span class="timeline-time svelte-1w1uwcg"> </span></div> <div id="scroll-controls" class="svelte-1w1uwcg"><label for="auto-scroll" class="svelte-1w1uwcg">Track time</label> <input id="auto-scroll" type="checkbox" class="toggle svelte-1w1uwcg"></div>',1),sd=Nr('<div class="empty-timeline svelte-1w1uwcg">No Planner Data</div>'),ad=Nr('<div id="day-planner-timeline-container" class="svelte-1w1uwcg"><!></div>'),ld={hash:"svelte-1w1uwcg",code:`#day-planner-timeline-container.svelte-1w1uwcg {position:relative;}.aside.svelte-1w1uwcg {position:absolute;top:-1px;left:0;width:65px;height:100%;background-repeat:repeat-y;opacity:80%;}.aside-x5.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAEsCAYAAADHIkNEAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAABLAAAAAAuMW7GAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAsElEQVR4Ae3ZMQoAIAgFUL3/ocsO0GBLFE9wESJ8jj8jYlQrAgQIECBAgAABAgQIECBAgAABAgQIECBAgACBbwWyNutGQuuNIkCAAAECBAgQIECAAAECBAgQIECAAAECBAgQeEbgJBLaLScq2smYEyBAgAABAgQIECBAgAABAgQIECBAgAABAgSuCpxEQqKfqyfzOQECBAgQIECAAAECBAgQIECAAAECBAgQIECgKzABwWUEBHBCyqYAAAAASUVORK5CYII=);}.aside-x4.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAADwCAYAAAAEqZSkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAA8AAAAABUK6+SAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA2klEQVR4Ae3bMQqEMBBA0QT2Bh7G+5d2e5G9wRZruliM6CCBsE8QQghxeOUHaynlvb/zPHUf9TXPuCYlQIAAAQIECBAgQIAAAQIECBAg8N8CLegtNwk+V863i7crB7sza7cev8y0ze/4MX2RAAECBAgQIECAAAECBAgQIECAAIEmkGmbkdyheWbaZnTxmOaZaZvRxJpnJGOfAAECBAgQIECAAAECBAgQIECAwEMCmbZ5aJjRHJm2OaZhnk189590DTPStE+AAAECBAgQIECAAAECBAgQIEBgVoEfgLcJ4JWKwMAAAAAASUVORK5CYII=);}.aside-x3.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAC0CAYAAACQYNzeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAtAAAAAD5WFEbAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA6UlEQVRoBe3XQQrCQAwF0Bb0Hr2heB4v14MIOtmli8GmlFHhBQbimA7h7f48TdOjnf+pua16/Z91bUqAAAECBAgQIECAAAECHwQi58Wp1KsyfPpsbLsUX133zF/a0G3PYJq5p358GxSxdaWelWGzBAgQIECAAAECBAgQIDBUIHJenDNqTHiPbZcz1m1vrPmdIyE9f5/7MeE9KKohPW+Ze+E9a+gJECBAgAABAgQIECDwHYHIeXEqNSaM9zaKbZfen537tXO/uT4S0seE8c2a6UdQVEO6MJ4AtQQIECBAgAABAgQIECDwqwJv9lMMWDcoNMAAAAAASUVORK5CYII=);}.aside-x2.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAB4CAYAAAD2SgIRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAeAAAAADVvVTBAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAAt0lEQVRoBe3YMQqAMAyF4VYUD+Ii7p7JK7t4EkVsnOoSEtql+AuC2GdIPxxCYwhhS3c7V0ytju20S6cIIIAAAggg8EcBGVh658YvZ75uXDqenSV3S14YFkswy5gKZ3keEUAAAQQQQACBnwnI7NZV2vNdqY5eRjqe9Ih59ciTMm2u+YuC50/hgjr6p0Ix6BHz6mlOEkQAAQQQQAABBBwCMrBwtvmCcbbp+G+IIoAAAggggAACCDgFHqn/Cpqy3VM1AAAAAElFTkSuQmCC);}.aside-x1.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAA8CAYAAABig0prAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAPAAAAAB4zqpIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAArElEQVRYCe2VSwqAMAxEW3WjK3eCHsT7H0bBQ/jp7LqokIQirUyhUMIkJA8y9c65Ndx6jg+tdvW0y05J4CcEsHmtcpZTqc8rR8eLsuQm0cOAeomwGA1Q4GrOrRFTSwIkkCCArWsScUvosiSpc9DxrM5KJ+xxGLY5xIHi3xbbfBuKdvpGhnESqJ8AvGJSjnFI9LDNUSKMNKLCkT7v0/LnffO35Z2T1UiABAol8ACZ6QleECm8BQAAAABJRU5ErkJggg==);}.aside__line.svelte-1w1uwcg {position:absolute;left:65px;transform:translateX(-50%);width:4px;height:100%;background:var(--aside-line);}.filled.svelte-1w1uwcg {transform-origin:top center;z-index:1;
        animation: scaleDown 1s ease-in-out;animation-fill-mode:forwards;}.filled__line__completed.svelte-1w1uwcg {position:absolute;top:0;left:0;width:100%;}.events.svelte-1w1uwcg {position:relative;padding-bottom:50px;}.event_item.svelte-1w1uwcg {background-color:var(--event-color);border-bottom:2px solid var(--background-primary);margin:0;cursor:pointer;padding:5px 10px 10px 0;width:100%;overflow:hidden;}.event_item.short.svelte-1w1uwcg {padding:0;}.event_item.svelte-1w1uwcg:hover {background-color:var(--event-hover);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);}.event_item_contents.svelte-1w1uwcg {padding-left:58px;}.ei_Copy.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg {color:var(--text-on-accent);}.ei_Dot.svelte-1w1uwcg {display:inline-block;position:absolute;border-radius:50%;width:14px;height:14px;margin-top:5px;background-color:var(--aside-dot);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);z-index:2;}.dot_active.svelte-1w1uwcg {background-color:var(--active-dot);}.ei_Item.svelte-1w1uwcg {padding-left:40px;text-indent:-20px;}.ei_Title.svelte-1w1uwcg {padding-right:10px;}.ei_Copy.svelte-1w1uwcg {font-size:15px;}.header_title.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg,
    .ce_title.svelte-1w1uwcg {color:#fff;}#now-line.svelte-1w1uwcg {height:4px;background-color:darkred;opacity:80%;position:absolute;z-index:3;width:100%;}#now-line.svelte-1w1uwcg .timeline-time:where(.svelte-1w1uwcg) {position:relative;left:5px;top:0;background-color:darkred;color:#fff;padding:0 4px 2px 4px;border-radius:0 0 4px 4px;text-align:center;}#scroll-controls.svelte-1w1uwcg {background-color:var(--background-secondary);position:sticky;bottom:0;width:100%;z-index:4;padding:8px 15px;text-align:center;height:45px;}#scroll-controls.svelte-1w1uwcg label:where(.svelte-1w1uwcg) {display:block;float:left;margin:2px;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg) {-webkit-appearance:none;-moz-appearance:none;appearance:none;width:50px;height:20px;display:block;float:left;position:relative;margin-top:5px;border-radius:50px;overflow:hidden;outline:none;border:none;cursor:pointer;background-color:var(--background-secondary-alt);transition:background-color ease 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):before {content:"on    ";display:block;position:absolute;z-index:2;width:17px;height:17px;background:#fff;left:2px;top:1px;border-radius:50%;font:9px/18px Helvetica;text-transform:uppercase;font-weight:bold;text-indent:-24px;word-spacing:30px;color:#fff;text-shadow:-1px -1px rgba(0, 0, 0, 0.15);white-space:nowrap;box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);transition:all cubic-bezier(0.3, 1.5, 0.7, 1) 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked {background-color:var(--interactive-accent);}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked:before {left:31px;}#scroll-controls.svelte-1w1uwcg input[type="checkbox"]:where(.svelte-1w1uwcg):checked:after {background-color:transparent;}.empty-timeline.svelte-1w1uwcg {text-align:center;vertical-align:middle;margin-top:50%;}`};function ns(e,t){an(t,!1),Gi(e,ld);let[r,n]=Ki(),o=()=>Rr(Po,"$now",r),i=()=>Rr(No,"$planSummary",r),s=()=>Rr(Do,"$timelineColors",r),a=()=>Rr($o,"$timelineHoverColors",r),l=window.moment,c=/\[([^\]]+)\]\(([^)]+)\)/g,u=/\[\[([^\]|]+)(\|([^\]]+))?\]\]/g,p=Tn(t,"lineColor",8),f=Tn(t,"zoomLevel",8),d=Tn(t,"rootEl",8);V.getInstance().logDebug("TimelineView.onOpen",{zoomLevel:f(),rootEl:d()});let _=cn(0),v=cn(0),g=cn(!0);function b(k){return l.duration(l(k).format("HH:mm")).asMinutes()*f()}rs(()=>{E()}),rc(()=>{$()});function R(k){let M=[];return k.durationMins<75/f()&&M.push("short"),k.isPast&&M.push("past"),k.isBreak&&M.push("break"),M.join(" ")}function S(k){let M=k.text??"";return M=M.replace(c,(ne,Se,wt)=>`${Se}`),M=M.replace(u,(ne,Se,wt,rt)=>`${rt||Se}`),M}function E(){d().addEventListener("scroll",h)}function $(){d().removeEventListener("scroll",h)}function N(k){L(g)&&!i().current?.isEnd&&($(),d().scrollTo({left:0,top:k,behavior:"smooth"}),setTimeout(E,1e3))}function h(){z(g,!1)}ki(()=>(o(),i(),L(_),Ir(f())),()=>{let k=o(),M=i(),ne=M.items.first();z(_,M.empty?0:b(k)-b(ne.time)),z(v,M.empty?0:ne.time.getMinutes()*f()*-1-1),N(L(_)-150)}),Ti(),Qi();var y=ad(),D=De(y);{var I=k=>{var M=id(),ne=bi(M),Se=De(ne),wt=De(Se);Ce(Se),Ce(ne);var rt=$t(ne,2);Vi(rt,5,()=>i().activeItems(),Hi,(ft,Jt,is)=>{var er=od(),ss=De(er),as=De(ss),ls=$t(as,2),Lo=De(ls),ac=De(Lo,!0);Ce(Lo);var cs=$t(Lo,2),lc=De(cs,!0);Ce(cs),Ce(ls),Ce(ss),Ce(er),mn((cc,fc)=>{$r(er,1,`event_item ${cc??""}`,"svelte-1w1uwcg"),Ot(er,`height: ${L(Jt).durationMins*f()}px; --event-color: ${s()[is]??""}; --event-hover: ${a()[is]??""};`),kn(er,"data-title",L(Jt).rawTime),$r(as,1,`ei_Dot ${(L(Jt)===i().current?"dot_active":"")??""}`,"svelte-1w1uwcg"),xn(ac,L(Jt).rawTime),xn(lc,fc)},[()=>R(L(Jt)),()=>S(L(Jt))],St),Mt(ft,er)}),Ce(rt);var yt=$t(rt,2),Nn=De(yt),os=De(Nn,!0);Ce(Nn),Ce(yt);var Pn=$t(yt,2),Dn=$t(De(Pn),2);ji(Dn),Ce(Pn),mn(ft=>{$r(ne,1,`aside aside-x${f()??""} filled`,"svelte-1w1uwcg"),Ot(ne,`top: ${L(v)??""}px;`),Ot(wt,`height: ${L(_)??""}px;`),Ot(yt,`top:${L(_)??""}px; display: ${(i().current&&!i().current.isEnd?"block":"none")??""}`),xn(os,ft)},[()=>l(o()).format("HH:mm")],St),qi(Dn,()=>L(g),ft=>z(g,ft)),Mt(k,M)},F=k=>{var M=sd();Mt(k,M)};Fi(D,k=>{i().items.length>0?k(I):k(F,!1)})}Ce(y),mn(()=>Ot(y,`--aside-line: color-mix(in srgb, ${p()??""} 40%, transparent); --aside-dot: color-mix(in srgb, ${p()??""} 60%, transparent); --active-dot: ${p()??""}`)),Mt(e,y),ln(),n()}var In=class extends ic.ItemView{constructor(t,r,n){super(t),this.settings=r}getViewType(){return nr}getDisplayText(){return"Day Planner Timeline"}getIcon(){return this.settings.timelineIcon}update(t){if(!this.colors||t.items.length!==this.colors.length){let r=this.settings.timelineColorBegin||j.timelineColorBegin,n=this.settings.timelineColorEnd||j.timelineColorEnd,o=this.settings.timelineHoverColorBegin||j.timelineHoverColorBegin,i=this.settings.timelineHoverColorEnd||j.timelineHoverColorEnd;this.colors=ci.scale([r,n]).mode("lch").colors(t.items.length,"hex"),this.hoverColors=ci.scale([o,i]).mode("lch").colors(t.items.length,"hex"),Do.set(this.colors),$o.set(this.hoverColors)}No.set(t),Po.set(new Date)}async onOpen(){this.component=Dr(ns,{target:this.contentEl,props:{lineColor:this.settings.lineColor||j.lineColor,zoomLevel:this.settings.timelineZoomLevel||4,rootEl:this.contentEl}})}async onClose(){En(this.component)}};var So=class extends Ro.Plugin{constructor(){super(...arguments);this.layoutReady=async()=>{this.file=new Vr(this.vault,this.settings),this.setTicker();let r=this.syncPlugin?.instance!==void 0;this.device=r?this.syncPlugin.instance.deviceName.length>0?this.syncPlugin.instance.deviceName:this.syncPlugin.instance.getDefaultDeviceName():"Unknown",V.getInstance().logInfo("Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter());let n=new Ur;this.parser=new Gr(this.settings),this.plannerMD=new ir(this.app.workspace,this.settings,this.file,this.parser,n),this.statusBar=new zr(this.settings,this.addStatusBarItem(),this.app.workspace,n,new ir(this.app.workspace,this.settings,this.file,this.parser,n),this.file),this.statusBar.initStatusBar(),window.dayPlanner={resolvePath:this.resolvePath.bind(this)}};this.codeMirror=r=>{this.file.hasTodayNote()&&this.plannerMD.checkIsDayPlannerEditing()}}get syncPlugin(){return this.app.internalPlugins.getPluginById("sync")}async onload(){V.getInstance().logInfo(`Loading Day Planner plugin v${this.manifest.version}`),this.vault=this.app.vault,this.settings=Object.assign(new Ln,await this.loadData()),V.getInstance().updateSettings(this.settings),this.notesForDatesQuery=new xt,this.registerEvent(this.app.vault.on("modify",this.codeMirror,"")),this.addCommand({id:"app:add-to-note",name:"Add a Day Planner template for today to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!0)),hotkeys:[]}),this.addCommand({id:"app:link-to-note",name:"Link today's Day Planner to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!1)),hotkeys:[]}),this.addCommand({id:"app:unlink-from-note",name:"Unlink today's Day Planner from its note",callback:()=>this.modeGuard(async()=>await this.unlinkDayPlanner()),hotkeys:[]}),this.addCommand({id:"app:show-timeline",name:"Show the Day Planner Timeline",callback:()=>this.initLeaf(),hotkeys:[]}),this.addCommand({id:"app:show-today-note",name:"Show today's Day Planner",callback:()=>this.app.workspace.openLinkText(this.file.todayPlannerFilePath(),"",!0),hotkeys:[]}),this.addCommand({id:"app:set-as-writer",name:`Set current device '${this.device}' as writer`,callback:async()=>{this.settings.writer=this.device,this.save()},hotkeys:[]}),this.registerView(nr,r=>(this.timelineView=new In(r,this.settings,new nt([],this.isWriter())),this.timelineView)),this.addSettingTab(new Fn(this.app,this)),this.register(()=>{window.dayPlanner=void 0}),this.app.workspace.onLayoutReady(this.layoutReady)}async onunload(){this.interval&&(V.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval))}async handleConfigFileChange(){await super.handleConfigFileChange(),this.settings=Object.assign(this.settings,await this.loadData()),this.parser.updateSettings(this.settings),V.getInstance().updateSettings(this.settings);let r=await this.file.hasTodayNote();V.getInstance().logInfo("update Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter(),r)}isWriter(){return this.device==="Unknown"||!this.settings.writer||this.settings.writer===this.device}setTicker(){this.interval&&(V.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval),this.interval=void 0),V.getInstance().logDebug("set Ticker with Device/Writer:",this.device,this.settings.writer,this.isWriter()),this.interval=window.setInterval(()=>this.tick(),2e3)}async tick(){try{if(await this.file.hasTodayNote()){let r=await this.plannerMD.processDayPlanner(this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}else if(this.settings.mode==="Daily"&&(0,sc.appHasDailyNotesPluginLoaded)()){let r=new nt([],this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}}catch(r){V.getInstance().logError("error refreshing plan (tick)",r)}}initLeaf(){this.app.workspace.getLeavesOfType(nr).length>0||this.app.workspace.getRightLeaf(!0).setViewState({type:nr})}modeGuard(r){if(this.settings.mode!=="Command"){new Notification("Day Planner plugin in File mode",{silent:!0,body:"Switch to Command mode in settings to use this command"});return}r()}async insertDayPlannerIntoCurrentNote(r){try{let o=this.app.workspace.getActiveViewOfType(Ro.MarkdownView).file.path,i=this.notesForDatesQuery.exists(this.settings.notesToDates),s=this.notesForDatesQuery.active(this.settings.notesToDates)?.notePath;if(this.settings.notesToDates=this.settings.notesToDates||[],i&&s!==o){new Notification("Day Planner exists",{silent:!0,body:`A Day Planner for today already exists in ${s}`});return}i?this.settings.notesToDates||(this.settings.notesToDates=[]):this.settings.notesToDates=[new or(o,new Date().toDateString())],await this.save(),r&&this.plannerMD.insertPlanner()}catch(n){console.error(n)}}async unlinkDayPlanner(){try{let r=this.notesForDatesQuery.active(this.settings.notesToDates);if(!r){new Notification("No Day Planner found",{silent:!0,body:"No Day Planner found for today"});return}this.settings.notesToDates=this.settings.notesToDates||[],this.settings.notesToDates.remove(r),await this.save(),this.statusBar.hide(this.statusBar.statusBar),this.timelineView?.update(new nt([],this.isWriter())),new Notification("Day Planner reset",{silent:!0,body:`The Day Planner for today has been dissociated from ${r.notePath} and can be added to another note`})}catch(r){console.error(r)}}async save(){await this.saveData(this.settings)}resolvePath(r){let n=this.file.todayPlannerFilePath();return this.app.metadataCache.getFirstLinkpathDest(r,n).path}};
/*! Bundled license information:

chroma-js/src/utils/contrastAPCA.js:
  (**
   * @license
   *
   * The APCA contrast prediction algorithm is based of the formulas published
   * in the APCA-1.0.98G specification by Myndex. The specification is available at:
   * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
   *
   * Note that the APCA implementation is still beta, so please update to
   * future versions of chroma.js when they become available.
   *
   * You can read more about the APCA Readability Criterion at
   * https://readtech.org/ARC/
   *)
*/

/* nosourcemap */