/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var wc=Object.create;var An=Object.defineProperty;var yc=Object.getOwnPropertyDescriptor;var xc=Object.getOwnPropertyNames;var Ec=Object.getPrototypeOf,Cc=Object.prototype.hasOwnProperty;var ha=e=>{throw TypeError(e)};var kc=(e,t,r)=>t in e?An(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Nc=(e,t)=>{for(var r in t)An(e,r,{get:t[r],enumerable:!0})},_a=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xc(t))!Cc.call(e,o)&&o!==r&&An(e,o,{get:()=>t[o],enumerable:!(n=yc(t,o))||n.enumerable});return e};var ga=(e,t,r)=>(r=e!=null?wc(Ec(e)):{},_a(t||!e||!e.__esModule?An(r,"default",{value:e,enumerable:!0}):r,e)),Ic=e=>_a(An({},"__esModule",{value:!0}),e);var ae=(e,t,r)=>kc(e,typeof t!="symbol"?t+"":t,r),Si=(e,t,r)=>t.has(e)||ha("Cannot "+r);var M=(e,t,r)=>(Si(e,t,"read from private field"),r?r.call(e):t.get(e)),le=(e,t,r)=>t.has(e)?ha("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ge=(e,t,r,n)=>(Si(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),St=(e,t,r)=>(Si(e,t,"access private method"),r);var Wi=Tc(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var X=require("obsidian"),Ri="YYYY-MM-DD",Li="gggg-[W]ww",va="YYYY-MM",ba="YYYY-[Q]Q",Aa="YYYY";function wn(e){let t=window.app.plugins.getPlugin("periodic-notes");return t&&t.settings?.[e]?.enabled}function yn(){try{let{internalPlugins:e,plugins:t}=window.app;if(wn("daily")){let{format:i,folder:s,template:a}=t.getPlugin("periodic-notes")?.settings?.daily||{};return{format:i||Ri,folder:s?.trim()||"",template:a?.trim()||""}}let{folder:r,format:n,template:o}=e.getPluginById("daily-notes")?.instance?.options||{};return{format:n||Ri,folder:r?.trim()||"",template:o?.trim()||""}}catch(e){console.info("No custom daily note settings found!",e)}}function xn(){try{let e=window.app.plugins,t=e.getPlugin("calendar")?.options,r=e.getPlugin("periodic-notes")?.settings?.weekly;if(wn("weekly"))return{format:r.format||Li,folder:r.folder?.trim()||"",template:r.template?.trim()||""};let n=t||{};return{format:n.weeklyNoteFormat||Li,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(e){console.info("No custom weekly note settings found!",e)}}function En(){let e=window.app.plugins;try{let t=wn("monthly")&&e.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:t.format||va,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom monthly note settings found!",t)}}function Cn(){let e=window.app.plugins;try{let t=wn("quarterly")&&e.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:t.format||ba,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom quarterly note settings found!",t)}}function kn(){let e=window.app.plugins;try{let t=wn("yearly")&&e.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:t.format||Aa,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom yearly note settings found!",t)}}function wa(...e){let t=[];for(let n=0,o=e.length;n<o;n++)t=t.concat(e[n].split("/"));let r=[];for(let n=0,o=t.length;n<o;n++){let i=t[n];!i||i==="."||r.push(i)}return t[0]===""&&r.unshift(""),r.join("/")}function Dc(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function Pc(e){let t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){let r=wa(...t);window.app.vault.getAbstractFileByPath(r)||await window.app.vault.createFolder(r)}}async function Tn(e,t){t.endsWith(".md")||(t+=".md");let r=X.normalizePath(wa(e,t));return await Pc(r),r}async function Mr(e){let{metadataCache:t,vault:r}=window.app,n=X.normalizePath(e);if(n==="/")return Promise.resolve(["",null]);try{let o=t.getFirstLinkpathDest(n,""),i=await r.cachedRead(o),s=window.app.foldManager.load(o);return[i,s]}catch(o){return console.error(`Failed to read the daily note template '${n}'`,o),new X.Notice("Failed to read the daily note template"),["",null]}}function it(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}function ya(e){return e.replace(/\[[^\]]*\]/g,"")}function $c(e,t){if(t==="week"){let r=ya(e);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function Or(e,t){return xa(e.basename,t)}function Sc(e,t){return xa(Dc(e),t)}function xa(e,t){let n={day:yn,week:xn,month:En,quarter:Cn,year:kn}[t]().format.split("/").pop(),o=window.moment(e,n,!0);if(!o.isValid())return null;if($c(n,t)&&t==="week"){let i=ya(n);if(/w{1,2}/i.test(i))return window.moment(e,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}var Mi=class extends Error{};async function Ea(e){let t=window.app,{vault:r}=t,n=window.moment,{template:o,format:i,folder:s}=yn(),[a,l]=await Mr(o),f=e.format(i),p=await Tn(s,f);try{let u=await r.create(p,a.replace(/{{\s*date\s*}}/gi,f).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,f).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(c,d,m,b,_,v)=>{let E=n(),N=e.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return m&&N.add(parseInt(b,10),_),v?N.format(v.substring(1).trim()):N.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(u,l),u}catch(u){console.error(`Failed to create file: '${p}'`,u),new X.Notice("Unable to create new file.")}}function Rc(e,t){return t[it(e,"day")]??null}function Lc(){let{vault:e}=window.app,{folder:t}=yn(),r=e.getAbstractFileByPath(X.normalizePath(t));if(!r)throw new Mi("Failed to find daily notes folder");let n={};return X.Vault.recurseChildren(r,o=>{if(o instanceof X.TFile){let i=Or(o,"day");if(i){let s=it(i,"day");n[s]=o}}}),n}var Oi=class extends Error{};function Mc(){let{moment:e}=window,t=e.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)r.push(r.shift()),t--;return r}function Oc(e){return Mc().indexOf(e.toLowerCase())}async function Ca(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=xn(),[i,s]=await Mr(r),a=e.format(n),l=await Tn(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,m,b)=>{let _=window.moment(),v=e.clone().set({hour:_.get("hour"),minute:_.get("minute"),second:_.get("second")});return c&&v.add(parseInt(d,10),m),b?v.format(b.substring(1).trim()):v.format(n)}).replace(/{{\s*title\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(p,u,c)=>{let d=Oc(u);return e.weekday(d).format(c.trim())}));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new X.Notice("Unable to create new file.")}}function Bc(e,t){return t[it(e,"week")]??null}function Fc(){let e={};if(!Ta())return e;let{vault:t}=window.app,{folder:r}=xn(),n=t.getAbstractFileByPath(X.normalizePath(r));if(!n)throw new Oi("Failed to find weekly notes folder");return X.Vault.recurseChildren(n,o=>{if(o instanceof X.TFile){let i=Or(o,"week");if(i){let s=it(i,"week");e[s]=o}}}),e}var Bi=class extends Error{};async function ka(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=En(),[i,s]=await Mr(r),a=e.format(n),l=await Tn(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,m,b)=>{let _=window.moment(),v=e.clone().set({hour:_.get("hour"),minute:_.get("minute"),second:_.get("second")});return c&&v.add(parseInt(d,10),m),b?v.format(b.substring(1).trim()):v.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new X.Notice("Unable to create new file.")}}function Yc(e,t){return t[it(e,"month")]??null}function Wc(){let e={};if(!Na())return e;let{vault:t}=window.app,{folder:r}=En(),n=t.getAbstractFileByPath(X.normalizePath(r));if(!n)throw new Bi("Failed to find monthly notes folder");return X.Vault.recurseChildren(n,o=>{if(o instanceof X.TFile){let i=Or(o,"month");if(i){let s=it(i,"month");e[s]=o}}}),e}var Fi=class extends Error{};async function Vc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Cn(),[i,s]=await Mr(r),a=e.format(n),l=await Tn(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,m,b)=>{let _=window.moment(),v=e.clone().set({hour:_.get("hour"),minute:_.get("minute"),second:_.get("second")});return c&&v.add(parseInt(d,10),m),b?v.format(b.substring(1).trim()):v.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new X.Notice("Unable to create new file.")}}function Hc(e,t){return t[it(e,"quarter")]??null}function Gc(){let e={};if(!Ia())return e;let{vault:t}=window.app,{folder:r}=Cn(),n=t.getAbstractFileByPath(X.normalizePath(r));if(!n)throw new Fi("Failed to find quarterly notes folder");return X.Vault.recurseChildren(n,o=>{if(o instanceof X.TFile){let i=Or(o,"quarter");if(i){let s=it(i,"quarter");e[s]=o}}}),e}var Yi=class extends Error{};async function Uc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=kn(),[i,s]=await Mr(r),a=e.format(n),l=await Tn(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,m,b)=>{let _=window.moment(),v=e.clone().set({hour:_.get("hour"),minute:_.get("minute"),second:_.get("second")});return c&&v.add(parseInt(d,10),m),b?v.format(b.substring(1).trim()):v.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new X.Notice("Unable to create new file.")}}function jc(e,t){return t[it(e,"year")]??null}function zc(){let e={};if(!Da())return e;let{vault:t}=window.app,{folder:r}=kn(),n=t.getAbstractFileByPath(X.normalizePath(r));if(!n)throw new Yi("Failed to find yearly notes folder");return X.Vault.recurseChildren(n,o=>{if(o instanceof X.TFile){let i=Or(o,"year");if(i){let s=it(i,"year");e[s]=o}}}),e}function Zc(){let{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;let r=e.plugins.getPlugin("periodic-notes");return r&&r.settings?.daily?.enabled}function Ta(){let{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;let t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.weekly?.enabled}function Na(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.monthly?.enabled}function Ia(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.quarterly?.enabled}function Da(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.yearly?.enabled}function qc(e){let t={day:yn,week:xn,month:En,quarter:Cn,year:kn}[e];return t()}function Qc(e,t){return{day:Ea,month:ka,week:Ca}[e](t)}H.DEFAULT_DAILY_NOTE_FORMAT=Ri;H.DEFAULT_MONTHLY_NOTE_FORMAT=va;H.DEFAULT_QUARTERLY_NOTE_FORMAT=ba;H.DEFAULT_WEEKLY_NOTE_FORMAT=Li;H.DEFAULT_YEARLY_NOTE_FORMAT=Aa;H.appHasDailyNotesPluginLoaded=Zc;H.appHasMonthlyNotesPluginLoaded=Na;H.appHasQuarterlyNotesPluginLoaded=Ia;H.appHasWeeklyNotesPluginLoaded=Ta;H.appHasYearlyNotesPluginLoaded=Da;H.createDailyNote=Ea;H.createMonthlyNote=ka;H.createPeriodicNote=Qc;H.createQuarterlyNote=Vc;H.createWeeklyNote=Ca;H.createYearlyNote=Uc;H.getAllDailyNotes=Lc;H.getAllMonthlyNotes=Wc;H.getAllQuarterlyNotes=Gc;H.getAllWeeklyNotes=Fc;H.getAllYearlyNotes=zc;H.getDailyNote=Rc;H.getDailyNoteSettings=yn;H.getDateFromFile=Or;H.getDateFromPath=Sc;H.getDateUID=it;H.getMonthlyNote=Yc;H.getMonthlyNoteSettings=En;H.getPeriodicNoteSettings=qc;H.getQuarterlyNote=Hc;H.getQuarterlyNoteSettings=Cn;H.getTemplateInfo=Mr;H.getWeeklyNote=Bc;H.getWeeklyNoteSettings=xn;H.getYearlyNote=jc;H.getYearlyNoteSettings=kn});var Am={};Nc(Am,{default:()=>Ii});module.exports=Ic(Am);var Di=require("obsidian"),_c=ga(Wi());var Pa="YYYYMMDD",$a=/(?<target>{{date:?(?<date>[^}]*)}})/g,Sa="Day Planner-{{date}}.md",bo=`## Day Planner
- [ ] `,Br="timeline";var ee={lineColor:"#CAD5CA",timelineColorBegin:"#008183",timelineColorEnd:"#4d194d",timelineHoverColorBegin:"#83003f",timelineHoverColorEnd:"#5d0e2e"},Ra=["any-key","audio-file","blocks","broken-link","bullet-list","calendar-with-checkmark","checkmark","create-new","cross","cross-in-box","crossed-star","dice","document","documents","dot-network","enter","expand-vertically","filled-pin","folder","gear","go-to-file","hashtag","help","horizontal-split","image-file","info","install","languages","left-arrow","left-arrow-with-tail","lines-of-text","link","logo-crystal","magnifying-glass","microphone","microphone-filled","open-vault","pane-layout","paper-plane","pdf-file","pencil","pin","popup-open","presentation","reset","right-arrow","right-arrow-with-tail","right-triangle","search","sheets-in-box","star","star-list","switch","three-horizontal-bars","trash","two-columns","up-and-down-arrows","uppercase-lowercase-a","vault","vertical-split","vertical-three-dots"];var wo=require("obsidian"),yo=ga(Wi());var G=class e{static getInstance(){return e.instance||(e.instance=new e),e.instance}updateSettings(t){this.settings=t}logDebug(t,...r){(!this.settings||this.settings.debug)&&console.debug("(DP)",t,...r)}logInfo(t,...r){console.info("(DP)",t,...r)}logError(t,...r){console.error("(DP)",t,...r)}};var dr=class{replace(t){let r=t,n=[...r.matchAll($a)];if(n.length===0)return t;let o=new Date,i=n.map(a=>{let l=a.groups.date===""?Pa:a.groups.date;return[a.groups.target,this.getMoment(o,l)]}),s=r;for(let a of i)s=s.replace(a[0],a[1]);return s}getMoment(t,r){return window.moment(t).format(r)}};var Ao=class{constructor(){this.customFolder="Day Planners";this.debug=!1;this.mode="File";this.mermaid=!1;this.notesToDates=[];this.completePastItems=!0;this.circularProgress=!1;this.nowAndNextInStatusBar=!1;this.showTaskNotification=!1;this.timelineZoomLevel=4;this.timelineIcon="calendar-with-checkmark";this.plannerLabel="Day Planner";this.breakLabel="BREAK";this.endLabel="END";this.markCurrent=!1;this.correctLabels=!0;this.writer=void 0;this.preserveValues="-";this.hideTimelineValues="";this.autoResumeScroll=!0;this.autoResumeScrollDelay=3e3}},Fr=class{constructor(t,r){this.notePath=t,this.date=r}},Zt=class{exists(t){return t&&this.active(t)!==void 0}active(t){let r=new Date().toDateString();return t?.filter(n=>n.date===r)[0]}},Rt=(n=>(n.File="File",n.Command="Command",n.Daily="Daily",n))(Rt||{});var Nn=class{constructor(t,r){this.vault=t,this.settings=r,this.momentDateRegex=new dr,this.noteForDateQuery=new Zt}async hasTodayNote(){if(this.settings.mode==="Daily"&&(0,yo.appHasDailyNotesPluginLoaded)()){let t=new Date,{folder:r,format:n}=(0,yo.getDailyNoteSettings)(),o=`${this.momentDateRegex.getMoment(t,n)}.md`,i=(0,wo.normalizePath)(`${r}/${o}`);if(await this.vault.adapter.exists(i)){let s=new Fr(i,t.toDateString());return this.settings.notesToDates=[s],!0}return!1}return this.settings.mode==="File"||this.noteForDateQuery.exists(this.settings.notesToDates)}todayPlannerFilePath(){if(this.settings.mode==="Command"||this.settings.mode==="Daily")return this.noteForDateQuery.active(this.settings.notesToDates)?.notePath;let t=this.todayPlannerFileName();return`${this.settings.customFolder??"Day Planners"}/${t}`}todayPlannerFileName(){return this.momentDateRegex.replace(Sa)}async prepareFile(){try{this.settings.mode==="File"&&(await this.createFolderIfNotExists(this.settings.customFolder),await this.createFileIfNotExists(this.todayPlannerFilePath()))}catch(t){G.getInstance().logError("error updating file settings",t)}}async createFolderIfNotExists(t){try{let r=(0,wo.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.createFolder(r)}catch(r){G.getInstance().logError("error creating folder",t,r)}}async createFileIfNotExists(t){try{let r=(0,wo.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.create(r,bo)}catch(r){G.getInstance().logError("file does not exist",t,r)}}async processFile(t,r){try{return await this.vault.adapter.process(t,r)}catch(n){G.getInstance().logError("error processing file",t,n)}}};var _t=class{constructor(t,r){this.iAmWriter=r,this.empty=t.length<1,this.invalid=!1,this.items=t,this.past=[]}addItem(t){this.items.push(t),this.empty=!1}calculate(t){try{if(this.items.sort((r,n)=>r.time.getTime()-n.time.getTime()),this.items.length===0){this.empty=!0;return}this.items.forEach((r,n)=>{let o=this.items[n+1];if(r.time<t&&(r.isEnd||o&&t<o.time)?(this.current=r,r.isEnd&&(r.isPast=!0,this.past.push(r)),this.next=r.isEnd?null:o):r.time<t&&(r.isPast=!0,this.past.push(r)),o){let i=window.moment,s=i.duration(i(o.time).diff(i(r.time))).asMinutes();r.durationMins=s}})}catch(r){G.getInstance().logError("error updating item status",r)}}isCurrent(t){return t===this.current}activeItems(){return this.items.filter(t=>!t.hidden)}},Vi=class{constructor(t,r,n,o,i,s,a,l,f,p){this.line=t,this.charIndex=r,this.status=n,this.isBreak=o,this.isEnd=i,this.time=s,this.rawTime=a,this.text=l,this.raw=f,this.hidden=p}},xo=class{constructor(t){this.settings=t}getPlanItem(t,r,n,o,i,s,a,l,f){let p=this.getDisplayText(o,i,l),u=n&&this.settings.hideTimelineValues.includes(n);return new Vi(t,r,n,o,i,s,a,p,f,u)}getDisplayText(t,r,n){return t&&this.settings.correctLabels?this.settings.breakLabel:r&&this.settings.correctLabels?this.settings.endLabel:n}};var In=class{constructor(t){this.updateSettings(t),this.PLAN_PARSER_REGEX=/^(-?[\s]*\[?(?<completion>.)\]\s*?(?<hours>\d{1,2}):(?<minutes>\d{2})\s(?<text>.*?))$/i}updateSettings(t){this.settings=t,this.planItemFactory=new xo(t),this.PLAN_START=`# ${this.settings.plannerLabel}`;let r=this.sanitize(t.breakLabel),n=this.sanitize(t.endLabel);this.PLAN_BREAK=new RegExp(`^${r}(?=\\b|$)`,"i"),this.PLAN_END=new RegExp(`^${n}(?=\\b|$)`,"i")}sanitize(t){return t.replace(/\./g,"\\.").replace(/\*/g,"\\*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]")}parseContent(t,r,n){let o=!1,i=t.split(`
`);if(i.forEach((s,a)=>{if(s.length!==0)if(o){let l=this.parseLine(a,s);l&&(r.addItem(l),o=!l.isEnd)}else s.trim().endsWith(this.PLAN_START)&&(o=!0)}),r.calculate(n),!r.empty&&r.iAmWriter)for(let s of r.items){let a=this.updateItemCompletion(s,r);i[s.line]=a}return i.join(`
`)}parseLine(t,r){try{let n=this.PLAN_PARSER_REGEX.exec(r);if(n){let o=n,i=o.groups.text,s=this.matches(i,this.PLAN_BREAK),a=this.matches(i,this.PLAN_END),l=new Date;return l.setHours(Number.parseInt(o.groups.hours,10)),l.setMinutes(Number.parseInt(o.groups.minutes,10)),l.setSeconds(0),this.planItemFactory.getPlanItem(t,o.index,o.groups.completion,s,a,l,`${o.groups.hours.padStart(2,"0")}:${o.groups.minutes}`,i,o[0])}}catch(n){G.getInstance().logError("error parsing line",r,n)}}updateItemCompletion(t,r){let n=t.status;return this.settings.completePastItems&&(this.settings.preserveValues.includes(n)||(t.isPast?n="x":this.settings.markCurrent&&r.isCurrent(t)?n="/":n=" ")),`- [${n}] ${t.rawTime} ${t.text}`}matches(t,r){return r.test(t.trim())}};var Hi=require("obsidian");var Yr=class{constructor(t,r,n,o,i){this.workspace=t,this.settings=r,this.file=n,this.parser=o,this.progress=i,this.noteForDateQuery=new Zt}async insertPlanner(){let t=this.file.todayPlannerFilePath(),n=this.workspace.getActiveViewOfType(Hi.MarkdownView).editor.getCursor().line;await this.file.processFile(t,o=>{let i=o.split(`
`);return[...i.slice(0,n),...bo.split(`
`),...i.slice(n)].join(`
`)})}async processDayPlanner(t){try{await this.file.prepareFile();let r=this.file.todayPlannerFilePath(),n=new _t([],t),o=new Date;return await this.file.processFile(r,i=>this.parser.parseContent(i,n,o)),n}catch(r){G.getInstance().logError("error processing file",t,this.file,r)}}checkIsDayPlannerEditing(){let t=this.workspace.getActiveViewOfType(Hi.MarkdownView);if(t==null)return;let r=t.getState(),n=this.file.todayPlannerFilePath();n&&r.file===n&&(this.dayPlannerLastEdit=Date.now())}};var Wr=window.moment,Dn=class{getProgress(t,r){try{let o=Wr(new Date),i=Wr(t.time),s=Wr(r.time),a=Wr.duration(s.diff(i)),l=Wr.duration(o.diff(i)),f=Wr.duration(s.diff(o)),p=l.asMinutes()/a.asMinutes()*100,u=f.asMinutes().toFixed(0);return{percentageComplete:p,minsUntilNext:u}}catch(n){G.getInstance().logError("error updating progress",t,r,n)}}progressMarkdown(t,r){try{let{percentageComplete:n}=this.getProgress(t,r),o=Math.floor(20*(n/100));return new Array(o).join("->")+new Array(20-o).join("_ ")}catch(n){G.getInstance().logError("error updating markdown",t,r,n)}}};var re=require("obsidian");var Eo=class extends re.PluginSettingTab{constructor(r,n){super(r,n);this.momentDateRegex=new dr;this.plugin=n}async save(){await this.plugin.saveData(this.plugin.settings),G.getInstance().logDebug("Settings saved")}hide(){this.save()}display(){let{containerEl:r}=this;r.empty(),new re.Setting(r).setName("Day Planner mode").setDesc(this.modeDescriptionContent()).addDropdown(s=>s.addOption(Rt.File,"File mode").addOption(Rt.Command,"Command mode").addOption(Rt.Daily,"Daily mode").setValue(Rt[this.plugin.settings.mode]||"File".toString()).onChange(a=>{this.plugin.settings.mode=Rt[a]})),new re.Setting(r).setName("Complete past planner items").setDesc("The plugin will automatically mark checkboxes for tasks and breaks in the past as complete (x)").addToggle(s=>s.setValue(this.plugin.settings.completePastItems).onChange(a=>{this.plugin.settings.completePastItems=a})),new re.Setting(r).setName("Mark in progress planner item").setDesc("The plugin will automatically mark the textbox for the current item as in progress (/)").addToggle(s=>s.setValue(this.plugin.settings.markCurrent).onChange(a=>{this.plugin.settings.markCurrent=a})),new re.Setting(r).setName("Status bar - circular progress").setDesc("Display a circular progress bar in the status bar").addToggle(s=>s.setValue(this.plugin.settings.circularProgress).onChange(a=>{this.plugin.settings.circularProgress=a})),new re.Setting(r).setName("Status bar - now and next").setDesc("Display now and next tasks in the status bar").addToggle(s=>s.setValue(this.plugin.settings.nowAndNextInStatusBar).onChange(a=>{this.plugin.settings.nowAndNextInStatusBar=a})),new re.Setting(r).setName("Task notification").setDesc("Display a notification when a new task is started").addToggle(s=>s.setValue(this.plugin.settings.showTaskNotification).onChange(a=>{this.plugin.settings.showTaskNotification=a})),new re.Setting(r).setName("Timeline zoom level").setDesc("The zoom level to display the timeline. The higher the number, the more vertical space each task will take up.").addSlider(s=>s.setLimits(1,5,1).setValue(this.plugin.settings.timelineZoomLevel??4).setDynamicTooltip().onChange(a=>{this.plugin.settings.timelineZoomLevel=a})),new re.Setting(r).setName("Auto-resume timeline scroll").setDesc("Automatically resume timeline scrolling after manual scroll interaction stops.").addToggle(s=>s.setValue(this.plugin.settings.autoResumeScroll).onChange(a=>{this.plugin.settings.autoResumeScroll=a}));let n=new re.Setting(r).setName("Auto-resume scroll delay"),o=()=>{let s=this.plugin.settings.autoResumeScrollDelay;s<1e3||s>1e4?n.setDesc(`\u26A0\uFE0F Value must be between 1000-10000ms. Currently: ${s}ms`):n.setDesc(`Auto-resume timeline scrolling (1000-10000ms) after manual interaction stops. Currently: ${s}ms`)};o(),n.addText(s=>s.setValue(this.plugin.settings.autoResumeScrollDelay.toString()).setPlaceholder("3000").onChange(a=>{let l=Number(a);!Number.isNaN(l)&&l>=1e3&&l<=1e4&&(this.plugin.settings.autoResumeScrollDelay=l),o()})),new re.Setting(r).setName("Timeline icon").setDesc("The icon of the timeline pane. Reopen timeline pane or restart obsidian to see the change.").addDropdown(s=>{for(let a of Ra)s.addOption(a,a);return s.setValue(this.plugin.settings.timelineIcon??"calendar-with-checkmark").onChange(a=>{this.plugin.settings.timelineIcon=a})});let i={};new re.Setting(r).setName("Timeline colors").setDesc("Gradient colors for the timeline (line, begin, end, hover begin, hover end, reset).").addColorPicker(s=>{s.setValue(this.plugin.settings.lineColor??ee.lineColor).onChange(a=>{this.plugin.settings.lineColor=a}),i.lineColor=s}).addColorPicker(s=>{s.setValue(this.plugin.settings.timelineColorBegin??ee.timelineColorBegin).onChange(a=>{this.plugin.settings.timelineColorBegin=a}),i.timelineColorBegin=s}).addColorPicker(s=>{s.setValue(this.plugin.settings.timelineColorEnd??ee.timelineColorEnd).onChange(a=>{this.plugin.settings.timelineColorEnd=a}),i.timelineColorEnd=s}).addColorPicker(s=>{s.setValue(this.plugin.settings.timelineHoverColorBegin??ee.timelineHoverColorBegin).onChange(a=>{this.plugin.settings.timelineHoverColorBegin=a}),i.timelineHoverColorBegin=s}).addColorPicker(s=>{s.setValue(this.plugin.settings.timelineHoverColorEnd??ee.timelineHoverColorEnd).onChange(a=>{this.plugin.settings.timelineHoverColorEnd=a}),i.timelineHoverColorEnd=s}).addExtraButton(s=>{s.setTooltip("Reset to default colors").setIcon("reset").onClick(()=>{this.plugin.settings.lineColor=ee.lineColor,i.lineColor.setValue(ee.lineColor),this.plugin.settings.timelineColorBegin=ee.timelineColorBegin,i.timelineColorBegin.setValue(ee.timelineColorBegin),this.plugin.settings.timelineColorEnd=ee.timelineColorEnd,i.timelineColorEnd.setValue(ee.timelineColorEnd),this.plugin.settings.timelineHoverColorBegin=ee.timelineHoverColorBegin,i.timelineHoverColorBegin.setValue(ee.timelineHoverColorBegin),this.plugin.settings.timelineHoverColorEnd=ee.timelineHoverColorEnd,i.timelineHoverColorEnd.setValue(ee.timelineHoverColorEnd)})}),new re.Setting(r).setName("Day Planner heading").setDesc("Use this heading text to mark the beginning of the Day Planner.").addText(s=>s.setValue(this.plugin.settings.plannerLabel??"Day Planner").onChange(a=>{let l=a.trim();l.length>0&&(this.plugin.settings.plannerLabel=l)})),new re.Setting(r).setName("BREAK task label").setDesc("Use this label to mark break between tasks.").addText(s=>s.setValue(this.plugin.settings.breakLabel??"BREAK").onChange(a=>{this.plugin.settings.breakLabel=a})),new re.Setting(r).setName("END task label").setDesc("Use this label to mark the end of all tasks.").addText(s=>s.setValue(this.plugin.settings.endLabel??"END").onChange(a=>{this.plugin.settings.endLabel=a})),new re.Setting(r).setName("Consistent BREAK and END labels").setDesc("Replace BREAK and END task text in your planner with the configured label text (consistency)").addToggle(s=>s.setValue(this.plugin.settings.correctLabels).onChange(a=>{this.plugin.settings.correctLabels=a})),new re.Setting(r).setName("Preserve task values").setDesc("Preserve these values in the schedule, for example '-' for canceled, or '>' for rescheduled.").addText(s=>s.setValue(this.plugin.settings.preserveValues||"-").onChange(a=>{let l=a;l.length>0&&(l=[...new Set(l)].join("").replace("x","")),this.plugin.settings.preserveValues=l})),new re.Setting(r).setName("Hide tasks from the timeline").setDesc("Hide tasks with these values from the timeline view, for example '-' for canceled, or '>' for rescheduled.").addText(s=>s.setValue(this.plugin.settings.hideTimelineValues||"-").onChange(a=>{let l=a;l.length>0&&(l=[...new Set(l)].join("").replace("x","")),this.plugin.settings.hideTimelineValues=l})),new re.Setting(r).setName("Debug").setDesc("Enable debug messages").addToggle(s=>s.setValue(this.plugin.settings.debug).onChange(a=>{this.plugin.settings.debug=a}))}modeDescriptionContent(){let r=document.createDocumentFragment();return r.appendText("Choose between 3 modes to use the Day Planner plugin:"),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("File mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically generates day planner notes for each day within a Day Planners folder."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Command mode"),r.appendChild(document.createElement("br")),r.appendText("Command used to insert a Day Planner for today within the current note."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Daily mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically links to the current daily note. Daily notes plugin must be enabled."),r.appendChild(document.createElement("br")),this.addDocsLink(r),r}addDocsLink(r){let n=document.createElement("a");n.href="https://github.com/ebullient/obsidian-day-planner-og/blob/main/README.md",n.text="plugin README",n.target="_blank",r.appendChild(n),r.appendChild(document.createElement("br"))}};var Pn=class{constructor(t,r,n,o,i,s){this.settings=t,this.statusBar=r,this.workspace=n,this.progress=o,this.plannerMD=i,this.file=s}initStatusBar(){if(this.statusBarAdded)return;let t=this.statusBar.createEl("div",{cls:"day-planner",title:"View the Day Planner",prepend:!0});this.setupCard(t),this.statusBarText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupCircularProgressBar(t),this.setupHorizontalProgressBar(t),this.nextText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupStatusBarEvents(t),this.statusBarAdded=!0}setupStatusBarEvents(t){t.onClickEvent(async()=>{try{let r=this.file.todayPlannerFilePath();this.workspace.openLinkText(r,"",!1)}catch(r){G.getInstance().logError("error opening file from status bar",this.file,r)}}),t.on("mouseenter",".day-planner",()=>{this.show(this.card)}),t.on("mouseleave",".day-planner",()=>{this.hide(this.card)})}async refreshStatusBar(t){return!t.empty&&!t.invalid?(this.updateProgress(t.current,t.next),this.show(this.statusBar)):this.hide(this.statusBar),t}hide(t){t&&(t.style.display="none")}show(t){t&&(t.style.display="block")}hideProgress(){this.hide(this.statusBarProgress),this.hide(this.circle),this.hide(this.nextText)}updateProgress(t,r){if(!t||!r||t.isEnd){this.hideProgress(),this.statusBarText.innerText=this.settings.endLabel;return}let{percentageComplete:n,minsUntilNext:o}=this.progress.getProgress(t,r);this.settings.circularProgress?(this.hide(this.statusBarProgress),this.progressCircle(n,t)):(this.hide(this.circle),this.progressBar(n,t)),this.statusText(o,t,r,n)}progressBar(t,r){r.isBreak?this.statusBarCurrentProgress.addClass("green"):this.statusBarCurrentProgress.removeClass("green"),this.statusBarCurrentProgress.style.width=`${t}%`,this.show(this.statusBarProgress)}progressCircle(t,r){r.isBreak?this.circle.addClass("green"):this.circle.removeClass("green"),this.circle.setAttr("data-value",t.toFixed(0)),this.show(this.circle)}statusText(t,r,n,o){let i=t==="0"?"1":t,s=`${i} min${i==="1"?"":"s"}`;if(this.settings.nowAndNextInStatusBar)this.statusBarText.innerHTML=`<strong>Now</strong> ${r.rawTime} ${this.ellipsis(r.text,10)}`,this.nextText.innerHTML=`<strong>Next</strong> ${n.rawTime} ${this.ellipsis(n.text,10)}`,this.show(this.nextText);else{this.hide(this.nextText);let u=r.isBreak?`${this.settings.breakLabel} for ${s}`:`${s} left`;this.statusBarText.innerText=u}let a=`Current Task (${o.toFixed(0)}% complete)`,l=`${r.rawTime} ${r.text}`,f=`Next Task (in ${s})`,p=`${n.rawTime} ${n.text}`;this.cardCurrent.innerHTML=`<strong>${a}</strong><br> ${l}`,this.cardNext.innerHTML=`<strong>${f}</strong><br> ${p}`,this.taskNotification(r,l,f,p)}taskNotification(t,r,n,o){this.settings.showTaskNotification&&this.currentTime!==void 0&&this.currentTime!==t.time.toUTCString()&&new Notification(`Task started, ${r}`,{body:`${n}: ${o}`,requireInteraction:!0}),this.currentTime=t.time.toUTCString()}ellipsis(t,r){return t.length<=r?t:`${t.substring(0,r)}...`}setupHorizontalProgressBar(t){this.statusBarProgress=t.createEl("div",{cls:["status-bar-item-segment","day-planner-progress-bar"]}),this.statusBarProgress.style.display="none",this.statusBarCurrentProgress=this.statusBarProgress.createEl("div",{cls:"day-planner-progress-value"})}setupCircularProgressBar(t){this.circle=t.createEl("div",{cls:["status-bar-item-segment","progress-pie day-planner"]})}setupCard(t){this.card=t.createEl("div",{cls:"day-planner-status-card"}),this.cardCurrent=this.card.createEl("span"),this.card.createEl("br"),this.card.createEl("br"),this.cardNext=this.card.createEl("span"),this.card.createEl("div",{cls:"arrow-down"})}};var{min:Xc,max:Kc}=Math,je=(e,t=0,r=1)=>Xc(Kc(t,e),r);var mr=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=je(e[t],0,255)):t===3&&(e[t]=je(e[t],0,1));return e};var La={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])La[`[object ${e}]`]=e.toLowerCase();function C(e){return La[Object.prototype.toString.call(e)]||"object"}var y=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):C(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0].slice(0);var Oe=e=>{if(e.length<2)return null;let t=e.length-1;return C(e[t])=="string"?e[t].toLowerCase():null};var{PI:Co,min:ko,max:To}=Math,ve=e=>Math.round(e*100)/100,$n=e=>Math.round(e*100)/100,ze=Co*2,No=Co/3,Ma=Co/180,Oa=180/Co;function Io(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}var T={format:{},autodetect:[]};var Gi=class{constructor(...t){let r=this;if(C(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=Oe(t),o=!1;if(!n){o=!0,T.sorted||(T.autodetect=T.autodetect.sort((i,s)=>s.p-i.p),T.sorted=!0);for(let i of T.autodetect)if(n=i.test(...t),n)break}if(T.format[n]){let i=T.format[n].apply(null,o?t:t.slice(0,-1));r._rgb=mr(i)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return C(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}},h=Gi;var Ba="3.1.2";var Fa=(...e)=>new h(...e);Fa.version=Ba;var D=Fa;var Jc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},qt=Jc;var eu=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,tu=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ru=e=>{if(e.match(eu)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16),r=t>>16,n=t>>8&255,o=t&255;return[r,n,o,1]}if(e.match(tu)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),r=t>>24&255,n=t>>16&255,o=t>>8&255,i=Math.round((t&255)/255*100)/100;return[r,n,o,i]}throw new Error(`unknown hex color: ${e}`)},Do=ru;var{round:Po}=Math,nu=(...e)=>{let[t,r,n,o]=y(e,"rgba"),i=Oe(e)||"auto";o===void 0&&(o=1),i==="auto"&&(i=o<1?"rgba":"rgb"),t=Po(t),r=Po(r),n=Po(n);let a="000000"+(t<<16|r<<8|n).toString(16);a=a.substr(a.length-6);let l="0"+Po(o*255).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}},$o=nu;h.prototype.name=function(){let e=$o(this._rgb,"rgb");for(let t of Object.keys(qt))if(qt[t]===e)return t.toLowerCase();return e};T.format.named=e=>{if(e=e.toLowerCase(),qt[e])return Do(qt[e]);throw new Error("unknown color name: "+e)};T.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&C(e)==="string"&&qt[e.toLowerCase()])return"named"}});h.prototype.alpha=function(e,t=!1){return e!==void 0&&C(e)==="number"?t?(this._rgb[3]=e,this):new h([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};h.prototype.clipped=function(){return this._rgb._clipped||!1};var Sn={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:.008856451679035631,kKE:8,kK:903.2962962962963,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},gt=Sn,ou=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Ze(e){let t=ou.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);Sn.labWhitePoint=e,Sn.Xn=t[0],Sn.Zn=t[1]}function Qt(){return Sn.labWhitePoint}var iu=(...e)=>{e=y(e,"lab");let[t,r,n]=e,[o,i,s]=su(t,r,n),[a,l,f]=ji(o,i,s);return[a,l,f,e.length>3?e[3]:1]},su=(e,t,r)=>{let{kE:n,kK:o,kKE:i,Xn:s,Yn:a,Zn:l}=gt,f=(e+16)/116,p=.002*t+f,u=f-.005*r,c=p*p*p,d=u*u*u,m=c>n?c:(116*p-16)/o,b=e>i?Math.pow((e+16)/116,3):e/o,_=d>n?d:(116*u-16)/o,v=m*s,E=b*a,N=_*l;return[v,E,N]},Ui=e=>{let t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},ji=(e,t,r)=>{let{MtxAdaptMa:n,MtxAdaptMaI:o,MtxXYZ2RGB:i,RefWhiteRGB:s,Xn:a,Yn:l,Zn:f}=gt,p=a*n.m00+l*n.m10+f*n.m20,u=a*n.m01+l*n.m11+f*n.m21,c=a*n.m02+l*n.m12+f*n.m22,d=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,m=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,b=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,_=(e*n.m00+t*n.m10+r*n.m20)*(d/p),v=(e*n.m01+t*n.m11+r*n.m21)*(m/u),E=(e*n.m02+t*n.m12+r*n.m22)*(b/c),N=_*o.m00+v*o.m10+E*o.m20,O=_*o.m01+v*o.m11+E*o.m21,B=_*o.m02+v*o.m12+E*o.m22,w=Ui(N*i.m00+O*i.m10+B*i.m20),g=Ui(N*i.m01+O*i.m11+B*i.m21),x=Ui(N*i.m02+O*i.m12+B*i.m22);return[w*255,g*255,x*255]},Vr=iu;var au=(...e)=>{let[t,r,n,...o]=y(e,"rgb"),[i,s,a]=Zi(t,r,n),[l,f,p]=lu(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]};function lu(e,t,r){let{Xn:n,Yn:o,Zn:i,kE:s,kK:a}=gt,l=e/n,f=t/o,p=r/i,u=l>s?Math.pow(l,1/3):(a*l+16)/116,c=f>s?Math.pow(f,1/3):(a*f+16)/116,d=p>s?Math.pow(p,1/3):(a*p+16)/116;return[116*c-16,500*(u-c),200*(c-d)]}function zi(e){let t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}var Zi=(e,t,r)=>{e=zi(e/255),t=zi(t/255),r=zi(r/255);let{MtxRGB2XYZ:n,MtxAdaptMa:o,MtxAdaptMaI:i,Xn:s,Yn:a,Zn:l,As:f,Bs:p,Cs:u}=gt,c=e*n.m00+t*n.m10+r*n.m20,d=e*n.m01+t*n.m11+r*n.m21,m=e*n.m02+t*n.m12+r*n.m22,b=s*o.m00+a*o.m10+l*o.m20,_=s*o.m01+a*o.m11+l*o.m21,v=s*o.m02+a*o.m12+l*o.m22,E=c*o.m00+d*o.m10+m*o.m20,N=c*o.m01+d*o.m11+m*o.m21,O=c*o.m02+d*o.m12+m*o.m22;return E*=b/f,N*=_/p,O*=v/u,c=E*i.m00+N*i.m10+O*i.m20,d=E*i.m01+N*i.m11+O*i.m21,m=E*i.m02+N*i.m12+O*i.m22,[c,d,m]},Hr=au;h.prototype.lab=function(){return Hr(this._rgb)};var fu=(...e)=>new h(...e,"lab");Object.assign(D,{lab:fu,getLabWhitePoint:Qt,setLabWhitePoint:Ze});T.format.lab=Vr;T.autodetect.push({p:2,test:(...e)=>{if(e=y(e,"lab"),C(e)==="array"&&e.length===3)return"lab"}});h.prototype.darken=function(e=1){let t=this,r=t.lab();return r[0]-=gt.Kn*e,new h(r,"lab").alpha(t.alpha(),!0)};h.prototype.brighten=function(e=1){return this.darken(-e)};h.prototype.darker=h.prototype.darken;h.prototype.brighter=h.prototype.brighten;h.prototype.get=function(e){let[t,r]=e.split("."),n=this[t]();if(r){let o=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(o>-1)return n[o];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};var{pow:cu}=Math,uu=1e-7,pu=20;h.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&C(e)==="number"){if(e===0)return new h([0,0,0,this._rgb[3]],"rgb");if(e===1)return new h([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=pu,o=(s,a)=>{let l=s.interpolate(a,.5,t),f=l.luminance();return Math.abs(e-f)<uu||!n--?l:f>e?o(s,l):o(l,a)},i=(r>e?o(new h([0,0,0]),this):o(this,new h([255,255,255]))).rgb();return new h([...i,this._rgb[3]])}return du(...this._rgb.slice(0,3))};var du=(e,t,r)=>(e=qi(e),t=qi(t),r=qi(r),.2126*e+.7152*t+.0722*r),qi=e=>(e/=255,e<=.03928?e/12.92:cu((e+.055)/1.055,2.4));var Z={};var vt=(e,t,r=.5,...n)=>{let o=n[0]||"lrgb";if(!Z[o]&&!n.length&&(o=Object.keys(Z)[0]),!Z[o])throw new Error(`interpolation mode ${o} is not defined`);return C(e)!=="object"&&(e=new h(e)),C(t)!=="object"&&(t=new h(t)),Z[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};h.prototype.mix=h.prototype.interpolate=function(e,t=.5,...r){return vt(this,e,t,...r)};h.prototype.premultiply=function(e=!1){let t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new h([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var{sin:mu,cos:hu}=Math,_u=(...e)=>{let[t,r,n]=y(e,"lch");return isNaN(n)&&(n=0),n=n*Ma,[t,hu(n)*r,mu(n)*r]},So=_u;var gu=(...e)=>{e=y(e,"lch");let[t,r,n]=e,[o,i,s]=So(t,r,n),[a,l,f]=Vr(o,i,s);return[a,l,f,e.length>3?e[3]:1]},Gr=gu;var vu=(...e)=>{let t=Io(y(e,"hcl"));return Gr(...t)},Ya=vu;var{sqrt:bu,atan2:Au,round:wu}=Math,yu=(...e)=>{let[t,r,n]=y(e,"lab"),o=bu(r*r+n*n),i=(Au(n,r)*Oa+360)%360;return wu(o*1e4)===0&&(i=Number.NaN),[t,o,i]},Ro=yu;var xu=(...e)=>{let[t,r,n,...o]=y(e,"rgb"),[i,s,a]=Hr(t,r,n),[l,f,p]=Ro(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Rn=xu;h.prototype.lch=function(){return Rn(this._rgb)};h.prototype.hcl=function(){return Io(Rn(this._rgb))};var Eu=(...e)=>new h(...e,"lch"),Cu=(...e)=>new h(...e,"hcl");Object.assign(D,{lch:Eu,hcl:Cu});T.format.lch=Gr;T.format.hcl=Ya;["lch","hcl"].forEach(e=>T.autodetect.push({p:2,test:(...t)=>{if(t=y(t,e),C(t)==="array"&&t.length===3)return e}}));h.prototype.saturate=function(e=1){let t=this,r=t.lch();return r[1]+=gt.Kn*e,r[1]<0&&(r[1]=0),new h(r,"lch").alpha(t.alpha(),!0)};h.prototype.desaturate=function(e=1){return this.saturate(-e)};h.prototype.set=function(e,t,r=!1){let[n,o]=e.split("."),i=this[n]();if(o){let s=n.indexOf(o)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(C(t)=="string")switch(t.charAt(0)){case"+":i[s]+=+t;break;case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else if(C(t)==="number")i[s]=t;else throw new Error("unsupported value for Color.set");let a=new h(i,n);return r?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${o} in mode ${n}`)}else return i};h.prototype.tint=function(e=.5,...t){return vt(this,"white",e,...t)};h.prototype.shade=function(e=.5,...t){return vt(this,"black",e,...t)};var ku=(e,t,r)=>{let n=e._rgb,o=t._rgb;return new h(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"rgb")};Z.rgb=ku;var{sqrt:Qi,pow:Ur}=Math,Tu=(e,t,r)=>{let[n,o,i]=e._rgb,[s,a,l]=t._rgb;return new h(Qi(Ur(n,2)*(1-r)+Ur(s,2)*r),Qi(Ur(o,2)*(1-r)+Ur(a,2)*r),Qi(Ur(i,2)*(1-r)+Ur(l,2)*r),"rgb")};Z.lrgb=Tu;var Nu=(e,t,r)=>{let n=e.lab(),o=t.lab();return new h(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"lab")};Z.lab=Nu;var qe=(e,t,r,n)=>{let o,i;n==="hsl"?(o=e.hsl(),i=t.hsl()):n==="hsv"?(o=e.hsv(),i=t.hsv()):n==="hcg"?(o=e.hcg(),i=t.hcg()):n==="hsi"?(o=e.hsi(),i=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",o=e.hcl(),i=t.hcl()):n==="oklch"&&(o=e.oklch().reverse(),i=t.oklch().reverse());let s,a,l,f,p,u;(n.substr(0,1)==="h"||n==="oklch")&&([s,l,p]=o,[a,f,u]=i);let c,d,m,b;return!isNaN(s)&&!isNaN(a)?(a>s&&a-s>180?b=a-(s+360):a<s&&s-a>180?b=a+360-s:b=a-s,d=s+r*b):isNaN(s)?isNaN(a)?d=Number.NaN:(d=a,(p==1||p==0)&&n!="hsv"&&(c=f)):(d=s,(u==1||u==0)&&n!="hsv"&&(c=l)),c===void 0&&(c=l+r*(f-l)),m=p+r*(u-p),n==="oklch"?new h([m,c,d],n):new h([d,c,m],n)};var Wa=(e,t,r)=>qe(e,t,r,"lch");Z.lch=Wa;Z.hcl=Wa;var Iu=e=>{if(C(e)=="number"&&e>=0&&e<=16777215){let t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},Va=Iu;var Du=(...e)=>{let[t,r,n]=y(e,"rgb");return(t<<16)+(r<<8)+n},Ha=Du;h.prototype.num=function(){return Ha(this._rgb)};var Pu=(...e)=>new h(...e,"num");Object.assign(D,{num:Pu});T.format.num=Va;T.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&C(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var $u=(e,t,r)=>{let n=e.num(),o=t.num();return new h(n+r*(o-n),"num")};Z.num=$u;var{floor:Su}=Math,Ru=(...e)=>{e=y(e,"hcg");let[t,r,n]=e,o,i,s;n=n*255;let a=r*255;if(r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let l=Su(t),f=t-l,p=n*(1-r),u=p+a*(1-f),c=p+a*f,d=p+a;switch(l){case 0:[o,i,s]=[d,c,p];break;case 1:[o,i,s]=[u,d,p];break;case 2:[o,i,s]=[p,d,c];break;case 3:[o,i,s]=[p,u,d];break;case 4:[o,i,s]=[c,p,d];break;case 5:[o,i,s]=[d,p,u];break}}return[o,i,s,e.length>3?e[3]:1]},Ga=Ru;var Lu=(...e)=>{let[t,r,n]=y(e,"rgb"),o=ko(t,r,n),i=To(t,r,n),s=i-o,a=s*100/255,l=o/(255-s)*100,f;return s===0?f=Number.NaN:(t===i&&(f=(r-n)/s),r===i&&(f=2+(n-t)/s),n===i&&(f=4+(t-r)/s),f*=60,f<0&&(f+=360)),[f,a,l]},Ua=Lu;h.prototype.hcg=function(){return Ua(this._rgb)};var Mu=(...e)=>new h(...e,"hcg");D.hcg=Mu;T.format.hcg=Ga;T.autodetect.push({p:1,test:(...e)=>{if(e=y(e,"hcg"),C(e)==="array"&&e.length===3)return"hcg"}});var Ou=(e,t,r)=>qe(e,t,r,"hcg");Z.hcg=Ou;var{cos:jr}=Math,Bu=(...e)=>{e=y(e,"hsi");let[t,r,n]=e,o,i,s;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-r)/3,o=(1+r*jr(ze*t)/jr(No-ze*t))/3,i=1-(s+o)):t<2/3?(t-=1/3,o=(1-r)/3,i=(1+r*jr(ze*t)/jr(No-ze*t))/3,s=1-(o+i)):(t-=2/3,i=(1-r)/3,s=(1+r*jr(ze*t)/jr(No-ze*t))/3,o=1-(i+s)),o=je(n*o*3),i=je(n*i*3),s=je(n*s*3),[o*255,i*255,s*255,e.length>3?e[3]:1]},ja=Bu;var{min:Fu,sqrt:Yu,acos:Wu}=Math,Vu=(...e)=>{let[t,r,n]=y(e,"rgb");t/=255,r/=255,n/=255;let o,i=Fu(t,r,n),s=(t+r+n)/3,a=s>0?1-i/s:0;return a===0?o=NaN:(o=(t-r+(t-n))/2,o/=Yu((t-r)*(t-r)+(t-n)*(r-n)),o=Wu(o),n>r&&(o=ze-o),o/=ze),[o*360,a,s]},za=Vu;h.prototype.hsi=function(){return za(this._rgb)};var Hu=(...e)=>new h(...e,"hsi");D.hsi=Hu;T.format.hsi=ja;T.autodetect.push({p:2,test:(...e)=>{if(e=y(e,"hsi"),C(e)==="array"&&e.length===3)return"hsi"}});var Gu=(e,t,r)=>qe(e,t,r,"hsi");Z.hsi=Gu;var Uu=(...e)=>{e=y(e,"hsl");let[t,r,n]=e,o,i,s;if(r===0)o=i=s=n*255;else{let a=[0,0,0],l=[0,0,0],f=n<.5?n*(1+r):n+r-n*r,p=2*n-f,u=t/360;a[0]=u+1/3,a[1]=u,a[2]=u-1/3;for(let c=0;c<3;c++)a[c]<0&&(a[c]+=1),a[c]>1&&(a[c]-=1),6*a[c]<1?l[c]=p+(f-p)*6*a[c]:2*a[c]<1?l[c]=f:3*a[c]<2?l[c]=p+(f-p)*(2/3-a[c])*6:l[c]=p;[o,i,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[o,i,s,e[3]]:[o,i,s,1]},Ln=Uu;var ju=(...e)=>{e=y(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;let o=ko(t,r,n),i=To(t,r,n),s=(i+o)/2,a,l;return i===o?(a=0,l=Number.NaN):a=s<.5?(i-o)/(i+o):(i-o)/(2-i-o),t==i?l=(r-n)/(i-o):r==i?l=2+(n-t)/(i-o):n==i&&(l=4+(t-r)/(i-o)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,a,s,e[3]]:[l,a,s]},Lo=ju;h.prototype.hsl=function(){return Lo(this._rgb)};var zu=(...e)=>new h(...e,"hsl");D.hsl=zu;T.format.hsl=Ln;T.autodetect.push({p:2,test:(...e)=>{if(e=y(e,"hsl"),C(e)==="array"&&e.length===3)return"hsl"}});var Zu=(e,t,r)=>qe(e,t,r,"hsl");Z.hsl=Zu;var{floor:qu}=Math,Qu=(...e)=>{e=y(e,"hsv");let[t,r,n]=e,o,i,s;if(n*=255,r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let a=qu(t),l=t-a,f=n*(1-r),p=n*(1-r*l),u=n*(1-r*(1-l));switch(a){case 0:[o,i,s]=[n,u,f];break;case 1:[o,i,s]=[p,n,f];break;case 2:[o,i,s]=[f,n,u];break;case 3:[o,i,s]=[f,p,n];break;case 4:[o,i,s]=[u,f,n];break;case 5:[o,i,s]=[n,f,p];break}}return[o,i,s,e.length>3?e[3]:1]},Za=Qu;var{min:Xu,max:Ku}=Math,Ju=(...e)=>{e=y(e,"rgb");let[t,r,n]=e,o=Xu(t,r,n),i=Ku(t,r,n),s=i-o,a,l,f;return f=i/255,i===0?(a=Number.NaN,l=0):(l=s/i,t===i&&(a=(r-n)/s),r===i&&(a=2+(n-t)/s),n===i&&(a=4+(t-r)/s),a*=60,a<0&&(a+=360)),[a,l,f]},qa=Ju;h.prototype.hsv=function(){return qa(this._rgb)};var ep=(...e)=>new h(...e,"hsv");D.hsv=ep;T.format.hsv=Za;T.autodetect.push({p:2,test:(...e)=>{if(e=y(e,"hsv"),C(e)==="array"&&e.length===3)return"hsv"}});var tp=(e,t,r)=>qe(e,t,r,"hsv");Z.hsv=tp;function hr(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let n=t[0].length,o=t[0].map((s,a)=>t.map(l=>l[a])),i=e.map(s=>o.map(a=>Array.isArray(s)?s.reduce((l,f,p)=>l+f*(a[p]||0),0):a.reduce((l,f)=>l+f*s,0)));return r===1&&(i=i[0]),n===1?i.map(s=>s[0]):i}var rp=(...e)=>{e=y(e,"lab");let[t,r,n,...o]=e,[i,s,a]=np([t,r,n]),[l,f,p]=ji(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]};function np(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=hr(r,e);return hr(t,n.map(o=>o**3))}var zr=rp;var op=(...e)=>{let[t,r,n,...o]=y(e,"rgb"),i=Zi(t,r,n);return[...ip(i),...o.length>0&&o[0]<1?[o[0]]:[]]};function ip(e){let t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=hr(t,e);return hr(r,n.map(o=>Math.cbrt(o)))}var Zr=op;h.prototype.oklab=function(){return Zr(this._rgb)};var sp=(...e)=>new h(...e,"oklab");Object.assign(D,{oklab:sp});T.format.oklab=zr;T.autodetect.push({p:2,test:(...e)=>{if(e=y(e,"oklab"),C(e)==="array"&&e.length===3)return"oklab"}});var ap=(e,t,r)=>{let n=e.oklab(),o=t.oklab();return new h(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"oklab")};Z.oklab=ap;var lp=(e,t,r)=>qe(e,t,r,"oklch");Z.oklch=lp;var{pow:Xi,sqrt:Ki,PI:Ji,cos:Qa,sin:Xa,atan2:fp}=Math,Ka=(e,t="lrgb",r=null)=>{let n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));let o=n/r.reduce(function(u,c){return u+c});if(r.forEach((u,c)=>{r[c]*=o}),e=e.map(u=>new h(u)),t==="lrgb")return cp(e,r);let i=e.shift(),s=i.get(t),a=[],l=0,f=0;for(let u=0;u<s.length;u++)if(s[u]=(s[u]||0)*r[0],a.push(isNaN(s[u])?0:r[0]),t.charAt(u)==="h"&&!isNaN(s[u])){let c=s[u]/180*Ji;l+=Qa(c)*r[0],f+=Xa(c)*r[0]}let p=i.alpha()*r[0];e.forEach((u,c)=>{let d=u.get(t);p+=u.alpha()*r[c+1];for(let m=0;m<s.length;m++)if(!isNaN(d[m]))if(a[m]+=r[c+1],t.charAt(m)==="h"){let b=d[m]/180*Ji;l+=Qa(b)*r[c+1],f+=Xa(b)*r[c+1]}else s[m]+=d[m]*r[c+1]});for(let u=0;u<s.length;u++)if(t.charAt(u)==="h"){let c=fp(f/a[u],l/a[u])/Ji*180;for(;c<0;)c+=360;for(;c>=360;)c-=360;s[u]=c}else s[u]=s[u]/a[u];return p/=n,new h(s,t).alpha(p>.99999?1:p,!0)},cp=(e,t)=>{let r=e.length,n=[0,0,0,0];for(let o=0;o<e.length;o++){let i=e[o],s=t[o]/r,a=i._rgb;n[0]+=Xi(a[0],2)*s,n[1]+=Xi(a[1],2)*s,n[2]+=Xi(a[2],2)*s,n[3]+=a[3]*s}return n[0]=Ki(n[0]),n[1]=Ki(n[1]),n[2]=Ki(n[2]),n[3]>.9999999&&(n[3]=1),new h(mr(n))};var{pow:up}=Math;function _r(e){let t="rgb",r=D("#ccc"),n=0,o=[0,1],i=[],s=[0,0],a=!1,l=[],f=!1,p=0,u=1,c=!1,d={},m=!0,b=1,_=function(g){if(g=g||["#fff","#000"],g&&C(g)==="string"&&D.brewer&&D.brewer[g.toLowerCase()]&&(g=D.brewer[g.toLowerCase()]),C(g)==="array"){g.length===1&&(g=[g[0],g[0]]),g=g.slice(0);for(let x=0;x<g.length;x++)g[x]=D(g[x]);i.length=0;for(let x=0;x<g.length;x++)i.push(x/(g.length-1))}return B(),l=g},v=function(g){if(a!=null){let x=a.length-1,S=0;for(;S<x&&g>=a[S];)S++;return S-1}return 0},E=g=>g,N=g=>g,O=function(g,x){let S,I;if(x==null&&(x=!1),isNaN(g)||g===null)return r;x?I=g:a&&a.length>2?I=v(g)/(a.length-2):u!==p?I=(g-p)/(u-p):I=1,I=N(I),x||(I=E(I)),b!==1&&(I=up(I,b)),I=s[0]+I*(1-s[0]-s[1]),I=je(I,0,1);let F=Math.floor(I*1e4);if(m&&d[F])S=d[F];else{if(C(l)==="array")for(let L=0;L<i.length;L++){let j=i[L];if(I<=j){S=l[L];break}if(I>=j&&L===i.length-1){S=l[L];break}if(I>j&&I<i[L+1]){I=(I-j)/(i[L+1]-j),S=D.interpolate(l[L],l[L+1],I,t);break}}else C(l)==="function"&&(S=l(I));m&&(d[F]=S)}return S};var B=()=>d={};_(e);let w=function(g){let x=D(O(g));return f&&x[f]?x[f]():x};return w.classes=function(g){if(g!=null){if(C(g)==="array")a=g,o=[g[0],g[g.length-1]];else{let x=D.analyze(o);g===0?a=[x.min,x.max]:a=D.limits(x,"e",g)}return w}return a},w.domain=function(g){if(!arguments.length)return o;p=g[0],u=g[g.length-1],i=[];let x=l.length;if(g.length===x&&p!==u)for(let S of Array.from(g))i.push((S-p)/(u-p));else{for(let S=0;S<x;S++)i.push(S/(x-1));if(g.length>2){let S=g.map((F,L)=>L/(g.length-1)),I=g.map(F=>(F-p)/(u-p));I.every((F,L)=>S[L]===F)||(N=F=>{if(F<=0||F>=1)return F;let L=0;for(;F>=I[L+1];)L++;let j=(F-I[L])/(I[L+1]-I[L]);return S[L]+j*(S[L+1]-S[L])})}}return o=[p,u],w},w.mode=function(g){return arguments.length?(t=g,B(),w):t},w.range=function(g,x){return _(g,x),w},w.out=function(g){return f=g,w},w.spread=function(g){return arguments.length?(n=g,w):n},w.correctLightness=function(g){return g==null&&(g=!0),c=g,B(),c?E=function(x){let S=O(0,!0).lab()[0],I=O(1,!0).lab()[0],F=S>I,L=O(x,!0).lab()[0],j=S+(I-S)*x,z=L-j,U=0,se=1,Me=20;for(;Math.abs(z)>.01&&Me-- >0;)(function(){return F&&(z*=-1),z<0?(U=x,x+=(se-x)*.5):(se=x,x+=(U-x)*.5),L=O(x,!0).lab()[0],z=L-j})();return x}:E=x=>x,w},w.padding=function(g){return g!=null?(C(g)==="number"&&(g=[g,g]),s=g,w):s},w.colors=function(g,x){arguments.length<2&&(x="hex");let S=[];if(arguments.length===0)S=l.slice(0);else if(g===1)S=[w(.5)];else if(g>1){let I=o[0],F=o[1]-I;S=pp(0,g,!1).map(L=>w(I+L/(g-1)*F))}else{e=[];let I=[];if(a&&a.length>2)for(let F=1,L=a.length,j=1<=L;j?F<L:F>L;j?F++:F--)I.push((a[F-1]+a[F])*.5);else I=o;S=I.map(F=>w(F))}return D[x]&&(S=S.map(I=>I[x]())),S},w.cache=function(g){return g!=null?(m=g,w):m},w.gamma=function(g){return g!=null?(b=g,w):b},w.nodata=function(g){return g!=null?(r=D(g),w):r},w}function pp(e,t,r){let n=[],o=e<t,i=r?o?t+1:t-1:t;for(let s=e;o?s<i:s>i;o?s++:s--)n.push(s);return n}var dp=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let o=1;o<=t.length;o++)n[o]=(t[o]||0)+t[o-1];t=n}return t},mp=function(e){let t,r,n,o;if(e=e.map(i=>new h(i)),e.length===2)[r,n]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>r[a]+i*(n[a]-r[a]));return new h(s,"lab")};else if(e.length===3)[r,n,o]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>(1-i)*(1-i)*r[a]+2*(1-i)*i*n[a]+i*i*o[a]);return new h(s,"lab")};else if(e.length===4){let i;[r,n,o,i]=e.map(s=>s.lab()),t=function(s){let a=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*r[l]+3*(1-s)*(1-s)*s*n[l]+3*(1-s)*s*s*o[l]+s*s*s*i[l]);return new h(a,"lab")}}else if(e.length>=5){let i,s,a;i=e.map(l=>l.lab()),a=e.length-1,s=dp(a),t=function(l){let f=1-l,p=[0,1,2].map(u=>i.reduce((c,d,m)=>c+s[m]*f**(a-m)*l**m*d[u],0));return new h(p,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},Ja=e=>{let t=mp(e);return t.scale=()=>_r(t),t};var{round:el}=Math;h.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(el)};h.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:el(t):t)};var hp=(...e)=>new h(...e,"rgb");Object.assign(D,{rgb:hp});T.format.rgb=(...e)=>{let t=y(e,"rgba");return t[3]===void 0&&(t[3]=1),t};T.autodetect.push({p:3,test:(...e)=>{if(e=y(e,"rgba"),C(e)==="array"&&(e.length===3||e.length===4&&C(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var st=(e,t,r)=>{if(!st[r])throw new Error("unknown blend mode "+r);return st[r](e,t)},Xt=e=>(t,r)=>{let n=D(r).rgb(),o=D(t).rgb();return D.rgb(e(n,o))},Kt=e=>(t,r)=>{let n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},_p=e=>e,gp=(e,t)=>e*t/255,vp=(e,t)=>e>t?t:e,bp=(e,t)=>e>t?e:t,Ap=(e,t)=>255*(1-(1-e/255)*(1-t/255)),wp=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),yp=(e,t)=>255*(1-(1-t/255)/(e/255)),xp=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);st.normal=Xt(Kt(_p));st.multiply=Xt(Kt(gp));st.screen=Xt(Kt(Ap));st.overlay=Xt(Kt(wp));st.darken=Xt(Kt(vp));st.lighten=Xt(Kt(bp));st.dodge=Xt(Kt(xp));st.burn=Xt(Kt(yp));var tl=st;var{pow:Ep,sin:Cp,cos:kp}=Math;function rl(e=300,t=-1.5,r=1,n=1,o=[0,1]){let i=0,s;C(o)==="array"?s=o[1]-o[0]:(s=0,o=[o,o]);let a=function(l){let f=ze*((e+120)/360+t*l),p=Ep(o[0]+s*l,n),c=(i!==0?r[0]+l*i:r)*p*(1-p)/2,d=kp(f),m=Cp(f),b=p+c*(-.14861*d+1.78277*m),_=p+c*(-.29227*d-.90649*m),v=p+c*(1.97294*d);return D(mr([b*255,_*255,v*255,1]))};return a.start=function(l){return l==null?e:(e=l,a)},a.rotations=function(l){return l==null?t:(t=l,a)},a.gamma=function(l){return l==null?n:(n=l,a)},a.hue=function(l){return l==null?r:(r=l,C(r)==="array"?(i=r[1]-r[0],i===0&&(r=r[1])):i=0,a)},a.lightness=function(l){return l==null?o:(C(l)==="array"?(o=l,s=l[1]-l[0]):(o=[l,l],s=0),a)},a.scale=()=>D.scale(a),a.hue(r),a}var Tp="0123456789abcdef",{floor:Np,random:Ip}=Math,nl=()=>{let e="#";for(let t=0;t<6;t++)e+=Tp.charAt(Np(Ip()*16));return new h(e,"hex")};var{log:ol,pow:Dp,floor:Pp,abs:$p}=Math;function es(e,t=null){let r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return C(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&C(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,o)=>ts(r,n,o),r}function ts(e,t="equal",r=7){C(e)=="array"&&(e=es(e));let{min:n,max:o}=e,i=e.values.sort((a,l)=>a-l);if(r===1)return[n,o];let s=[];if(t.substr(0,1)==="c"&&(s.push(n),s.push(o)),t.substr(0,1)==="e"){s.push(n);for(let a=1;a<r;a++)s.push(n+a/r*(o-n));s.push(o)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");let a=Math.LOG10E*ol(n),l=Math.LOG10E*ol(o);s.push(n);for(let f=1;f<r;f++)s.push(Dp(10,a+f/r*(l-a)));s.push(o)}else if(t.substr(0,1)==="q"){s.push(n);for(let a=1;a<r;a++){let l=(i.length-1)*a/r,f=Pp(l);if(f===l)s.push(i[f]);else{let p=l-f;s.push(i[f]*(1-p)+i[f+1]*p)}}s.push(o)}else if(t.substr(0,1)==="k"){let a,l=i.length,f=new Array(l),p=new Array(r),u=!0,c=0,d=null;d=[],d.push(n);for(let _=1;_<r;_++)d.push(n+_/r*(o-n));for(d.push(o);u;){for(let v=0;v<r;v++)p[v]=0;for(let v=0;v<l;v++){let E=i[v],N=Number.MAX_VALUE,O;for(let B=0;B<r;B++){let w=$p(d[B]-E);w<N&&(N=w,O=B),p[O]++,f[v]=O}}let _=new Array(r);for(let v=0;v<r;v++)_[v]=null;for(let v=0;v<l;v++)a=f[v],_[a]===null?_[a]=i[v]:_[a]+=i[v];for(let v=0;v<r;v++)_[v]*=1/p[v];u=!1;for(let v=0;v<r;v++)if(_[v]!==d[v]){u=!0;break}d=_,c++,c>200&&(u=!1)}let m={};for(let _=0;_<r;_++)m[_]=[];for(let _=0;_<l;_++)a=f[_],m[a].push(i[_]);let b=[];for(let _=0;_<r;_++)b.push(m[_][0]),b.push(m[_][m[_].length-1]);b=b.sort((_,v)=>_-v),s.push(b[0]);for(let _=1;_<b.length;_+=2){let v=b[_];!isNaN(v)&&s.indexOf(v)===-1&&s.push(v)}}return s}var il=(e,t)=>{e=new h(e),t=new h(t);let r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};var sl=.027,Sp=5e-4,Rp=.1,al=1.14,Mo=.022,ll=1.414,cl=(e,t)=>{e=new h(e),t=new h(t),e.alpha()<1&&(e=vt(t,e,e.alpha(),"rgb"));let r=fl(...e.rgb()),n=fl(...t.rgb()),o=r>=Mo?r:r+Math.pow(Mo-r,ll),i=n>=Mo?n:n+Math.pow(Mo-n,ll),s=Math.pow(i,.56)-Math.pow(o,.57),a=Math.pow(i,.65)-Math.pow(o,.62),l=Math.abs(i-o)<Sp?0:o<i?s*al:a*al;return(Math.abs(l)<Rp?0:l>0?l-sl:l+sl)*100};function fl(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}var{sqrt:Lt,pow:oe,min:Lp,max:Mp,atan2:ul,abs:pl,cos:Oo,sin:dl,exp:Op,PI:ml}=Math;function hl(e,t,r=1,n=1,o=1){var i=function(Rr){return 360*Rr/(2*ml)},s=function(Rr){return 2*ml*Rr/360};e=new h(e),t=new h(t);let[a,l,f]=Array.from(e.lab()),[p,u,c]=Array.from(t.lab()),d=(a+p)/2,m=Lt(oe(l,2)+oe(f,2)),b=Lt(oe(u,2)+oe(c,2)),_=(m+b)/2,v=.5*(1-Lt(oe(_,7)/(oe(_,7)+oe(25,7)))),E=l*(1+v),N=u*(1+v),O=Lt(oe(E,2)+oe(f,2)),B=Lt(oe(N,2)+oe(c,2)),w=(O+B)/2,g=i(ul(f,E)),x=i(ul(c,N)),S=g>=0?g:g+360,I=x>=0?x:x+360,F=pl(S-I)>180?(S+I+360)/2:(S+I)/2,L=1-.17*Oo(s(F-30))+.24*Oo(s(2*F))+.32*Oo(s(3*F+6))-.2*Oo(s(4*F-63)),j=I-S;j=pl(j)<=180?j:I<=S?j+360:j-360,j=2*Lt(O*B)*dl(s(j)/2);let z=p-a,U=B-O,se=1+.015*oe(d-50,2)/Lt(20+oe(d-50,2)),Me=1+.045*w,zt=1+.015*w*L,pr=30*Op(-oe((F-275)/25,2)),go=-(2*Lt(oe(w,7)/(oe(w,7)+oe(25,7))))*dl(2*s(pr)),Pi=Lt(oe(z/(r*se),2)+oe(U/(n*Me),2)+oe(j/(o*zt),2)+go*(U/(n*Me))*(j/(o*zt)));return Mp(0,Lp(100,Pi))}function _l(e,t,r="lab"){e=new h(e),t=new h(t);let n=e.get(r),o=t.get(r),i=0;for(let s in n){let a=(n[s]||0)-(o[s]||0);i+=a*a}return Math.sqrt(i)}var gl=(...e)=>{try{return new h(...e),!0}catch{return!1}};var vl={cool(){return _r([D.hsl(180,1,.9),D.hsl(250,.7,.4)])},hot(){return _r(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}};var rs={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Al=Object.keys(rs),bl=new Map(Al.map(e=>[e.toLowerCase(),e])),Bp=typeof Proxy=="function"?new Proxy(rs,{get(e,t){let r=t.toLowerCase();if(bl.has(r))return e[bl.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Al)}}):rs,wl=Bp;var Fp=(...e)=>{e=y(e,"cmyk");let[t,r,n,o]=e,i=e.length>4?e[4]:1;return o===1?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-o),r>=1?0:255*(1-r)*(1-o),n>=1?0:255*(1-n)*(1-o),i]},yl=Fp;var{max:xl}=Math,Yp=(...e)=>{let[t,r,n]=y(e,"rgb");t=t/255,r=r/255,n=n/255;let o=1-xl(t,xl(r,n)),i=o<1?1/(1-o):0,s=(1-t-o)*i,a=(1-r-o)*i,l=(1-n-o)*i;return[s,a,l,o]},El=Yp;h.prototype.cmyk=function(){return El(this._rgb)};var Wp=(...e)=>new h(...e,"cmyk");Object.assign(D,{cmyk:Wp});T.format.cmyk=yl;T.autodetect.push({p:2,test:(...e)=>{if(e=y(e,"cmyk"),C(e)==="array"&&e.length===4)return"cmyk"}});var Vp=(...e)=>{let t=y(e,"hsla"),r=Oe(e)||"lsa";return t[0]=ve(t[0]||0)+"deg",t[1]=ve(t[1]*100)+"%",t[2]=ve(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`},Cl=Vp;var Hp=(...e)=>{let t=y(e,"lab"),r=Oe(e)||"lab";return t[0]=ve(t[0])+"%",t[1]=ve(t[1]),t[2]=ve(t[2]),r==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},kl=Hp;var Gp=(...e)=>{let t=y(e,"lch"),r=Oe(e)||"lab";return t[0]=ve(t[0])+"%",t[1]=ve(t[1]),t[2]=isNaN(t[2])?"none":ve(t[2])+"deg",r==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},Tl=Gp;var Up=(...e)=>{let t=y(e,"lab");return t[0]=ve(t[0]*100)+"%",t[1]=$n(t[1]),t[2]=$n(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},Nl=Up;var jp=(...e)=>{let[t,r,n,...o]=y(e,"rgb"),[i,s,a]=Zr(t,r,n),[l,f,p]=Ro(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Bo=jp;var zp=(...e)=>{let t=y(e,"lch");return t[0]=ve(t[0]*100)+"%",t[1]=$n(t[1]),t[2]=isNaN(t[2])?"none":ve(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},Il=zp;var{round:ns}=Math,Zp=(...e)=>{let t=y(e,"rgba"),r=Oe(e)||"rgb";if(r.substr(0,3)==="hsl")return Cl(Lo(t),r);if(r.substr(0,3)==="lab"){let n=Qt();Ze("d50");let o=kl(Hr(t),r);return Ze(n),o}if(r.substr(0,3)==="lch"){let n=Qt();Ze("d50");let o=Tl(Rn(t),r);return Ze(n),o}return r.substr(0,5)==="oklab"?Nl(Zr(t)):r.substr(0,5)==="oklch"?Il(Bo(t)):(t[0]=ns(t[0]),t[1]=ns(t[1]),t[2]=ns(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,r==="rgb"?3:4).join(" ")})`)},Dl=Zp;var qp=(...e)=>{e=y(e,"lch");let[t,r,n,...o]=e,[i,s,a]=So(t,r,n),[l,f,p]=zr(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Fo=qp;var Mt=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,at=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Yo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Qe=/\s*/.source,Qr=/\s+/.source,os=/\s*,\s*/.source,Wo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Xr=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Pl=new RegExp("^rgba?\\("+Qe+[Mt,Mt,Mt].join(Qr)+Xr+"\\)$"),$l=new RegExp("^rgb\\("+Qe+[Mt,Mt,Mt].join(os)+Qe+"\\)$"),Sl=new RegExp("^rgba\\("+Qe+[Mt,Mt,Mt,at].join(os)+Qe+"\\)$"),Rl=new RegExp("^hsla?\\("+Qe+[Wo,Yo,Yo].join(Qr)+Xr+"\\)$"),Ll=new RegExp("^hsl?\\("+Qe+[Wo,Yo,Yo].join(os)+Qe+"\\)$"),Ml=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ol=new RegExp("^lab\\("+Qe+[at,at,at].join(Qr)+Xr+"\\)$"),Bl=new RegExp("^lch\\("+Qe+[at,at,Wo].join(Qr)+Xr+"\\)$"),Fl=new RegExp("^oklab\\("+Qe+[at,at,at].join(Qr)+Xr+"\\)$"),Yl=new RegExp("^oklch\\("+Qe+[at,at,Wo].join(Qr)+Xr+"\\)$"),{round:Wl}=Math,qr=e=>e.map((t,r)=>r<=2?je(Wl(t),0,255):t),ie=(e,t=0,r=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=t+(e+1)*.5*(r-t):e=t+e*(r-t)),+e),Te=(e,t)=>e==="none"?t:e,Vl=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(T.format.named)try{return T.format.named(e)}catch{}if((t=e.match(Pl))||(t=e.match($l))){let r=t.slice(1,4);for(let o=0;o<3;o++)r[o]=+ie(Te(r[o],0),0,255);r=qr(r);let n=t[4]!==void 0?+ie(t[4],0,1):1;return r[3]=n,r}if(t=e.match(Sl)){let r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+ie(r[n],0,255);return r}if((t=e.match(Rl))||(t=e.match(Ll))){let r=t.slice(1,4);r[0]=+Te(r[0].replace("deg",""),0),r[1]=+ie(Te(r[1],0),0,100)*.01,r[2]=+ie(Te(r[2],0),0,100)*.01;let n=qr(Ln(r)),o=t[4]!==void 0?+ie(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Ml)){let r=t.slice(1,4);r[1]*=.01,r[2]*=.01;let n=Ln(r);for(let o=0;o<3;o++)n[o]=Wl(n[o]);return n[3]=+t[4],n}if(t=e.match(Ol)){let r=t.slice(1,4);r[0]=ie(Te(r[0],0),0,100),r[1]=ie(Te(r[1],0),-125,125,!0),r[2]=ie(Te(r[2],0),-125,125,!0);let n=Qt();Ze("d50");let o=qr(Vr(r));Ze(n);let i=t[4]!==void 0?+ie(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Bl)){let r=t.slice(1,4);r[0]=ie(r[0],0,100),r[1]=ie(Te(r[1],0),0,150,!1),r[2]=+Te(r[2].replace("deg",""),0);let n=Qt();Ze("d50");let o=qr(Gr(r));Ze(n);let i=t[4]!==void 0?+ie(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Fl)){let r=t.slice(1,4);r[0]=ie(Te(r[0],0),0,1),r[1]=ie(Te(r[1],0),-.4,.4,!0),r[2]=ie(Te(r[2],0),-.4,.4,!0);let n=qr(zr(r)),o=t[4]!==void 0?+ie(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Yl)){let r=t.slice(1,4);r[0]=ie(Te(r[0],0),0,1),r[1]=ie(Te(r[1],0),0,.4,!1),r[2]=+Te(r[2].replace("deg",""),0);let n=qr(Fo(r)),o=t[4]!==void 0?+ie(t[4],0,1):1;return n[3]=o,n}};Vl.test=e=>Pl.test(e)||Rl.test(e)||Ol.test(e)||Bl.test(e)||Fl.test(e)||Yl.test(e)||$l.test(e)||Sl.test(e)||Ll.test(e)||Ml.test(e)||e==="transparent";var is=Vl;h.prototype.css=function(e){return Dl(this._rgb,e)};var Qp=(...e)=>new h(...e,"css");D.css=Qp;T.format.css=is;T.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&C(e)==="string"&&is.test(e))return"css"}});T.format.gl=(...e)=>{let t=y(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};var Xp=(...e)=>new h(...e,"gl");D.gl=Xp;h.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};h.prototype.hex=function(e){return $o(this._rgb,e)};var Kp=(...e)=>new h(...e,"hex");D.hex=Kp;T.format.hex=Do;T.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&C(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var{log:Vo}=Math,Jp=e=>{let t=e/100,r,n,o;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*Vo(n),o=t<20?0:-254.76935184120902+.8274096064007395*(o=t-10)+115.67994401066147*Vo(o)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*Vo(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*Vo(n),o=255),[r,n,o,1]},Ho=Jp;var{round:ed}=Math,td=(...e)=>{let t=y(e,"rgb"),r=t[0],n=t[2],o=1e3,i=4e4,s=.4,a;for(;i-o>s;){a=(i+o)*.5;let l=Ho(a);l[2]/l[0]>=n/r?i=a:o=a}return ed(a)},Hl=td;h.prototype.temp=h.prototype.kelvin=h.prototype.temperature=function(){return Hl(this._rgb)};var ss=(...e)=>new h(...e,"temp");Object.assign(D,{temp:ss,kelvin:ss,temperature:ss});T.format.temp=T.format.kelvin=T.format.temperature=Ho;h.prototype.oklch=function(){return Bo(this._rgb)};var rd=(...e)=>new h(...e,"oklch");Object.assign(D,{oklch:rd});T.format.oklch=Fo;T.autodetect.push({p:2,test:(...e)=>{if(e=y(e,"oklch"),C(e)==="array"&&e.length===3)return"oklch"}});Object.assign(D,{analyze:es,average:Ka,bezier:Ja,blend:tl,brewer:wl,Color:h,colors:qt,contrast:il,contrastAPCA:cl,cubehelix:rl,deltaE:hl,distance:_l,input:T,interpolate:vt,limits:ts,mix:vt,random:nl,scale:_r,scales:vl,valid:gl});var as=D;var hc=require("obsidian");var Gl=globalThis.process?.env?.NODE_ENV,A=Gl&&!Gl.toLowerCase().startsWith("prod");var Xe=Array.isArray,Ul=Array.prototype.indexOf,Mn=Array.from,ls=Object.keys,ce=Object.defineProperty,$e=Object.getOwnPropertyDescriptor,Go=Object.getOwnPropertyDescriptors,fs=Object.prototype,jl=Array.prototype,gr=Object.getPrototypeOf,cs=Object.isExtensible;var Ne=()=>{};function zl(e){return e()}function vr(e){for(var t=0;t<e.length;t++)e[t]()}function Zl(){var e,t,r=new Promise((n,o)=>{e=n,t=o});return{promise:r,resolve:e,reject:t}}var Ie=Symbol("$state"),On=Symbol("legacy props"),ql=Symbol(""),Uo=Symbol("proxy path"),Kr=new class extends Error{constructor(){super(...arguments);ae(this,"name","StaleReactionError");ae(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Bn=3,Ke=8;function Ql(){if(A){let e=new Error("await_outside_boundary\nCannot await outside a `<svelte:boundary>` with a `pending` snippet\nhttps://svelte.dev/e/await_outside_boundary");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/await_outside_boundary")}function Fn(e){if(A){let t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Xl(){if(A){let e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Kl(){if(A){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Jl(e){if(A){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function ef(){if(A){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function tf(e){if(A){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function rf(){if(A){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function nf(){if(A){let e=new Error("flush_sync_in_effect\nCannot use `flushSync` inside an effect\nhttps://svelte.dev/e/flush_sync_in_effect");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/flush_sync_in_effect")}function of(){if(A){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function sf(e){if(A){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function af(e){if(A){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function lf(){if(A){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ff(){if(A){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function cf(){if(A){let e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var Ot={};var q=Symbol(),Je=Symbol("filename"),uf=Symbol("hmr"),pf="http://www.w3.org/1999/xhtml";var Jr="font-weight: bold",en="font-weight: normal";function df(e){A?console.warn(`%c[svelte] await_reactivity_loss
%cDetected reactivity loss when reading \`${e}\`. This happens when state is read in an async function after an earlier \`await\`
https://svelte.dev/e/await_reactivity_loss`,Jr,en):console.warn("https://svelte.dev/e/await_reactivity_loss")}function mf(e,t){A?console.warn(`%c[svelte] await_waterfall
%cAn async derived, \`${e}\` (${t}) was not read immediately after it resolved. This often indicates an unnecessary waterfall, which can slow down your app
https://svelte.dev/e/await_waterfall`,Jr,en):console.warn("https://svelte.dev/e/await_waterfall")}function hf(e,t,r){A?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,Jr,en):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function br(e){A?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,Jr,en):console.warn("https://svelte.dev/e/hydration_mismatch")}function _f(){A?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,Jr,en):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function jo(e){A?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Jr,en):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var $=!1;function we(e){$=e}var W;function K(e){if(e===null)throw br(),Ot;return W=e}function ye(){return K(xe(W))}function Se(e){if($){if(xe(W)!==null)throw br(),Ot;W=e}}function wr(){for(var e=0,t=W;;){if(t.nodeType===Ke){var r=t.data;if(r==="]"){if(e===0)return t;e-=1}else(r==="["||r==="[!")&&(e+=1)}var n=xe(t);t.remove(),t=n}}function zo(e){if(!e||e.nodeType!==Ke)throw br(),Ot;return e.data}function Zo(e){return e===this.v}function Wn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function qo(e){return!Wn(e,this.v)}var et=!1,bt=!1,At=!1;function gf(){bt=!0}var Vn=null;function wt(e){let t=Error(),r=t.stack;if(!r)return null;let n=r.split(`
`),o=[`
`];for(let i=0;i<n.length;i++){let s=n[i];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||o.push(s)}}return o.length===1?null:(ce(t,"stack",{value:o.join(`
`)}),ce(t,"name",{value:`${e}Error`}),t)}function tt(e,t){return e.label=t,Qo(e.v,t),e}function Qo(e,t){return e?.[Uo]?.(t),e}var V=null;function tr(e){V=e}var Bt=null;function Xo(e){Bt=e}var lt=null;function Hn(e){lt=e}function Gn(e,t=!1,r){V={p:V,c:null,e:null,s:e,x:null,l:bt&&!t?{s:null,u:null,$:[]}:null},A&&(V.function=r,lt=r)}function Un(e){var t=V,r=t.e;if(r!==null){t.e=null;for(var n of r)ds(n)}return e!==void 0&&(t.x=e),V=t.p,A&&(lt=V?.function??null),e??{}}function yt(){return!bt||V!==null&&V.l===null}var ms=new WeakMap;function hs(e){var t=k;if(t===null)return P.f|=8388608,e;if(A&&e instanceof Error&&!ms.has(e)&&ms.set(e,id(e,t)),(t.f&32768)===0){if((t.f&128)===0)throw!t.parent&&e instanceof Error&&bf(e),e;t.b.error(e)}else yr(e,t)}function yr(e,t){for(;t!==null;){if((t.f&128)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&bf(e),e}function id(e,t){let r=$e(e,"message");if(!(r&&!r.configurable)){for(var n=jn?"  ":"	",o=`
${n}in ${t.fn?.name||"<unknown>"}`,i=t.ctx;i!==null;)o+=`
${n}in ${i.function?.[Je].split("/").pop()}`,i=i.p;return{message:e.message+`
${o}
`,stack:e.stack?.split(`
`).filter(s=>!s.includes("svelte/src/internal")).join(`
`)}}}function bf(e){let t=ms.get(e);t&&(ce(e,"message",{value:t.message}),ce(e,"stack",{value:t.stack}))}var sd=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback,zn=[],Zn=[];function Af(){var e=zn;zn=[],vr(e)}function wf(){var e=Zn;Zn=[],vr(e)}function xt(e){zn.length===0&&queueMicrotask(Af),zn.push(e)}function yf(e){Zn.length===0&&sd(wf),Zn.push(e)}function xf(){zn.length>0&&Af(),Zn.length>0&&wf()}var Fy=589952;function Jo(){for(var e=k.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Ql(),e}var Wt=null;function bs(e){Wt=e}var Qn=new Set;function xr(e){var t=2050,r=P!==null&&(P.f&2)!==0?P:null;k===null||r!==null&&(r.f&256)!==0?t|=256:k.f|=524288;let n={ctx:V,deps:null,effects:null,equals:Zo,f:t,fn:e,reactions:null,rv:0,v:q,wv:0,parent:r??k,ac:null};return A&&At&&(n.created=wt("CreatedAt")),n}function As(e,t){let r=k;r===null&&Xl();var n=r.b,o=void 0,i=Fe(q),s=null,a=!P;return Ef(()=>{A&&(Wt=k);try{var l=e();s&&Promise.resolve(l).catch(()=>{})}catch(d){l=Promise.reject(d)}A&&(Wt=null);var f=()=>l;o=s?.then(f,f)??Promise.resolve(l),s=o;var p=Q,u=n.pending;a&&(n.update_pending_count(1),u||p.increment());let c=(d,m=void 0)=>{s=null,Wt=null,u||p.activate(),m?m!==Kr&&(i.f|=8388608,Ct(i,m)):((i.f&8388608)!==0&&(i.f^=8388608),Ct(i,d),A&&t!==void 0&&(Qn.add(i),setTimeout(()=>{Qn.has(i)&&(mf(i.label,t),Qn.delete(i))}))),a&&(n.update_pending_count(-1),u||p.decrement()),ri()};if(o.then(c,d=>c(null,d||"unknown")),p)return()=>{queueMicrotask(()=>p.neuter())}}),A&&(i.f|=4194304),new Promise(l=>{function f(p){function u(){p===o?l(i):f(o)}p.then(u,u)}f(o)})}function Er(e){let t=xr(e);return t.equals=qo,t}function ei(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)me(t[r])}}var gs=[];function fd(e){for(var t=e.parent;t!==null;){if((t.f&2)===0)return t;t=t.parent}return null}function Xn(e){var t,r=k;if(he(fd(e)),A){let n=Cr;vs(new Set);try{gs.includes(e)&&Kl(),gs.push(e),ei(e),t=ti(e)}finally{he(r),vs(n),gs.pop()}}else try{ei(e),t=ti(e)}finally{he(r)}return t}function ws(e){var t=Xn(e);if(e.equals(t)||(e.v=t,e.wv=Kn()),!ct)if(rr!==null)rr.set(e,e.v);else{var r=(Vt||(e.f&256)!==0)&&e.deps!==null?4096:1024;ne(e,r)}}function ni(e,t,r){let n=yt()?xr:Er;if(t.length===0){r(e.map(n));return}var o=Q,i=k,s=cd(),a=Jo();Promise.all(t.map(l=>As(l))).then(l=>{o?.activate(),s();try{r([...e.map(n),...l])}catch(f){(i.f&16384)===0&&yr(f,i)}o?.deactivate(),ri()}).catch(l=>{a.error(l)})}function cd(){var e=k,t=P,r=V,n=Q;return function(){he(e),fe(t),tr(r),n?.activate(),A&&bs(null)}}function ri(){he(null),fe(null),tr(null),A&&bs(null)}var Jn=new Set,Q=null,oi=null,rr=null,_s=new Set,ai=[];function kf(){let e=ai.shift();ai.length>0&&queueMicrotask(kf),e()}var Tr=[],ci=null,xs=!1,ii=!1,rn,nn,nr,eo,to,kr,on,or,ir,sn,ro,no,pt,Tf,si,Es,li=class li{constructor(){le(this,pt);ae(this,"current",new Map);le(this,rn,new Map);le(this,nn,new Set);le(this,nr,0);le(this,eo,null);le(this,to,!1);le(this,kr,[]);le(this,on,[]);le(this,or,[]);le(this,ir,[]);le(this,sn,[]);le(this,ro,[]);le(this,no,[]);ae(this,"skipped_effects",new Set)}process(t){Tr=[],oi=null;var r=null;if(et&&Jn.size>1){r=new Map,rr=new Map;for(let[i,s]of this.current)r.set(i,{v:i.v,wv:i.wv}),i.v=s;for(let i of Jn)if(i!==this)for(let[s,a]of M(i,rn))r.has(s)||(r.set(s,{v:s.v,wv:s.wv}),s.v=a)}for(let i of t)St(this,pt,Tf).call(this,i);if(M(this,kr).length===0&&M(this,nr)===0){St(this,pt,Es).call(this);var n=M(this,or),o=M(this,ir);ge(this,or,[]),ge(this,ir,[]),ge(this,sn,[]),oi=Q,Q=null,Cf(n),Cf(o),Q===null?Q=this:Jn.delete(this),M(this,eo)?.resolve()}else St(this,pt,si).call(this,M(this,or)),St(this,pt,si).call(this,M(this,ir)),St(this,pt,si).call(this,M(this,sn));if(r){for(let[i,{v:s,wv:a}]of r)i.wv<=a&&(i.v=s);rr=null}for(let i of M(this,kr))dt(i);for(let i of M(this,on))dt(i);ge(this,kr,[]),ge(this,on,[])}capture(t,r){M(this,rn).has(t)||M(this,rn).set(t,r),this.current.set(t,t.v)}activate(){Q=this}deactivate(){Q=null,oi=null;for(let t of _s)if(_s.delete(t),t(),Q!==null)break}neuter(){ge(this,to,!0)}flush(){Tr.length>0?Cs():St(this,pt,Es).call(this),Q===this&&(M(this,nr)===0&&Jn.delete(this),this.deactivate())}increment(){ge(this,nr,M(this,nr)+1)}decrement(){if(ge(this,nr,M(this,nr)-1),M(this,nr)===0){for(let t of M(this,ro))ne(t,2048),Ht(t);for(let t of M(this,no))ne(t,4096),Ht(t);ge(this,or,[]),ge(this,ir,[]),this.flush()}else this.deactivate()}add_callback(t){M(this,nn).add(t)}settled(){return(M(this,eo)??ge(this,eo,Zl())).promise}static ensure(){if(Q===null){let t=Q=new li;Jn.add(Q),ii||li.enqueue(()=>{Q===t&&t.flush()})}return Q}static enqueue(t){ai.length===0&&queueMicrotask(kf),ai.unshift(t)}};rn=new WeakMap,nn=new WeakMap,nr=new WeakMap,eo=new WeakMap,to=new WeakMap,kr=new WeakMap,on=new WeakMap,or=new WeakMap,ir=new WeakMap,sn=new WeakMap,ro=new WeakMap,no=new WeakMap,pt=new WeakSet,Tf=function(t){t.f^=1024;for(var r=t.first;r!==null;){var n=r.f,o=(n&96)!==0,i=o&&(n&1024)!==0,s=i||(n&8192)!==0||this.skipped_effects.has(r);if(!s&&r.fn!==null){if(o)r.f^=1024;else if((n&4)!==0)M(this,ir).push(r);else if(et&&(n&8)!==0)M(this,or).push(r);else if((n&1024)===0)if((n&4194304)!==0){var a=r.b?.pending?M(this,on):M(this,kr);a.push(r)}else Gt(r)&&((r.f&16)!==0&&M(this,sn).push(r),dt(r));var l=r.first;if(l!==null){r=l;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)r=f.next,f=f.parent}},si=function(t){for(let r of t)((r.f&2048)!==0?M(this,ro):M(this,no)).push(r),ne(r,1024);t.length=0},Es=function(){if(!M(this,to))for(let t of M(this,nn))t();M(this,nn).clear()};var Et=li;function ln(e){et&&k!==null&&nf();var t=ii;ii=!0;try{var r;for(e&&(Cs(),r=e());;){if(xf(),Tr.length===0&&(Q?.flush(),Tr.length===0))return ci=null,r;Cs()}}finally{ii=t}}function Cs(){var e=Nr;xs=!0;try{var t=0;for(ks(!0);Tr.length>0;){var r=Et.ensure();if(t++>1e3){if(A){var n=new Map;for(let i of r.current.keys())for(let[s,a]of i.updated??[]){var o=n.get(s);o||(o={error:a.error,count:0},n.set(s,o)),o.count+=a.count}for(let i of n.values())console.error(i.error)}dd()}r.process(Tr),It.clear()}}finally{xs=!1,ks(e),ci=null}}function dd(){try{rf()}catch(e){A&&ce(e,"stack",{value:""}),yr(e,ci)}}var Tt=null;function Cf(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&24576)===0&&Gt(n)&&(Tt=[],dt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?Ts(n):n.fn=null),Tt?.length>0)){It.clear();for(let o of Tt)dt(o);Tt=[]}}Tt=null}}function Ht(e){for(var t=ci=e;t.parent!==null;){t=t.parent;var r=t.f;if(xs&&t===k&&(r&16)!==0)return;if((r&96)!==0){if((r&1024)===0)return;t.f^=1024}}Tr.push(t)}var Cr=new Set,It=new Map;function vs(e){Cr=e}var Ns=!1;function Nf(){Ns=!0}function Fe(e,t){var r={f:0,v:e,reactions:null,equals:Zo,rv:0,wv:0};return A&&At&&(r.created=t??wt("CreatedAt"),r.updated=null,r.set_during_effect=!1,r.trace=null),r}function Dt(e,t){let r=Fe(e,t);return ys(r),r}function rt(e,t=!1,r=!0){var o;let n=Fe(e);return t||(n.equals=qo),bt&&r&&V!==null&&V.l!==null&&((o=V.l).s??(o.s=[])).push(n),n}function te(e,t,r=!1){P!==null&&(!Le||(P.f&131072)!==0)&&yt()&&(P.f&4325394)!==0&&!Pt?.includes(e)&&cf();let n=r?Ut(t):t;return A&&Qo(n,e.label),Ct(e,n)}function Ct(e,t){if(!e.equals(t)){var r=e.v;ct?It.set(e,t):It.set(e,r),e.v=t;var n=Et.ensure();if(n.capture(e,r),A){if(At||k!==null){let o=wt("UpdatedAt");if(o!==null){e.updated??(e.updated=new Map);let i=e.updated.get(o.stack);i||(i={error:o,count:0},e.updated.set(o.stack,i)),i.count++}}k!==null&&(e.set_during_effect=!0)}(e.f&2)!==0&&((e.f&2048)!==0&&Xn(e),ne(e,(e.f&256)===0?1024:4096)),e.wv=Kn(),If(e,2048),yt()&&k!==null&&(k.f&1024)!==0&&(k.f&96)===0&&(We===null?Df([e]):We.push(e)),A&&Cr.size>0&&!Ns&&Is()}return t}function Is(){Ns=!1;let e=Array.from(Cr);for(let t of e)(t.f&1024)!==0&&ne(t,4096),Gt(t)&&dt(t);Cr.clear()}function qn(e){te(e,e.v+1)}function If(e,t){var r=e.reactions;if(r!==null)for(var n=yt(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if(!(!n&&s===k)){if(A&&(a&131072)!==0){Cr.add(s);continue}var l=(a&2048)===0;l&&ne(s,t),(a&2)!==0?If(s,4096):l&&((a&16)!==0&&Tt!==null&&Tt.push(s),Ht(s))}}}var md=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Ut(e){if(typeof e!="object"||e===null||Ie in e)return e;let t=gr(e);if(t!==fs&&t!==jl)return e;var r=new Map,n=Xe(e),o=Dt(0),i=A&&At?wt("CreatedAt"):null,s=sr,a=u=>{if(sr===s)return u();var c=P,d=sr;fe(null),Ds(s);var m=u();return fe(c),Ds(d),m};n&&(r.set("length",Dt(e.length,i)),A&&(e=_d(e)));var l="";let f=!1;function p(u){if(!f){f=!0,l=u,tt(o,`${l} version`);for(let[c,d]of r)tt(d,Ir(l,c));f=!1}}return new Proxy(e,{defineProperty(u,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&lf();var m=r.get(c);return m===void 0?m=a(()=>{var b=Dt(d.value,i);return r.set(c,b),A&&typeof c=="string"&&tt(b,Ir(l,c)),b}):te(m,d.value,!0),!0},deleteProperty(u,c){var d=r.get(c);if(d===void 0){if(c in u){let m=a(()=>Dt(q,i));r.set(c,m),qn(o),A&&tt(m,Ir(l,c))}}else te(d,q),qn(o);return!0},get(u,c,d){if(c===Ie)return e;if(A&&c===Uo)return p;var m=r.get(c),b=c in u;if(m===void 0&&(!b||$e(u,c)?.writable)&&(m=a(()=>{var v=Ut(b?u[c]:q),E=Dt(v,i);return A&&tt(E,Ir(l,c)),E}),r.set(c,m)),m!==void 0){var _=R(m);return _===q?void 0:_}return Reflect.get(u,c,d)},getOwnPropertyDescriptor(u,c){var d=Reflect.getOwnPropertyDescriptor(u,c);if(d&&"value"in d){var m=r.get(c);m&&(d.value=R(m))}else if(d===void 0){var b=r.get(c),_=b?.v;if(b!==void 0&&_!==q)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return d},has(u,c){if(c===Ie)return!0;var d=r.get(c),m=d!==void 0&&d.v!==q||Reflect.has(u,c);if(d!==void 0||k!==null&&(!m||$e(u,c)?.writable)){d===void 0&&(d=a(()=>{var _=m?Ut(u[c]):q,v=Dt(_,i);return A&&tt(v,Ir(l,c)),v}),r.set(c,d));var b=R(d);if(b===q)return!1}return m},set(u,c,d,m){var b=r.get(c),_=c in u;if(n&&c==="length")for(var v=d;v<b.v;v+=1){var E=r.get(v+"");E!==void 0?te(E,q):v in u&&(E=a(()=>Dt(q,i)),r.set(v+"",E),A&&tt(E,Ir(l,v)))}if(b===void 0)(!_||$e(u,c)?.writable)&&(b=a(()=>Dt(void 0,i)),A&&tt(b,Ir(l,c)),te(b,Ut(d)),r.set(c,b));else{_=b.v!==q;var N=a(()=>Ut(d));te(b,N)}var O=Reflect.getOwnPropertyDescriptor(u,c);if(O?.set&&O.set.call(m,d),!_){if(n&&typeof c=="string"){var B=r.get("length"),w=Number(c);Number.isInteger(w)&&w>=B.v&&te(B,w+1)}qn(o)}return!0},ownKeys(u){R(o);var c=Reflect.ownKeys(u).filter(b=>{var _=r.get(b);return _===void 0||_.v!==q});for(var[d,m]of r)m.v!==q&&!(d in u)&&c.push(d);return c},setPrototypeOf(){ff()}})}function Ir(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:md.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function ui(e){try{if(e!==null&&typeof e=="object"&&Ie in e)return e[Ie]}catch{}return e}var hd=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function _d(e){return new Proxy(e,{get(t,r,n){var o=Reflect.get(t,r,n);return hd.has(r)?function(...i){Nf();var s=o.apply(this,i);return Is(),s}:o}})}function Pf(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);if(a===-1){for(let l=s??0;l<this.length;l+=1)if(ui(this[l])===i){jo("array.indexOf(...)");break}}return a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s??this.length-1);if(a===-1){for(let l=0;l<=(s??this.length-1);l+=1)if(ui(this[l])===i){jo("array.lastIndexOf(...)");break}}return a},e.includes=function(i,s){let a=o.call(this,i,s);if(!a){for(let l=0;l<this.length;l+=1)if(ui(this[l])===i){jo("array.includes(...)");break}}return a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var Ps,$f,jn,Sf,Rf;function pi(){if(Ps===void 0){Ps=window,$f=document,jn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Sf=$e(t,"firstChild").get,Rf=$e(t,"nextSibling").get,cs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),cs(r)&&(r.__t=void 0),A&&(e.__svelte_meta=null,Pf())}}function Ce(e=""){return document.createTextNode(e)}function ke(e){return Sf.call(e)}function xe(e){return Rf.call(e)}function Ve(e,t){if(!$)return ke(e);var r=ke(W);if(r===null)r=W.appendChild(Ce());else if(t&&r.nodeType!==Bn){var n=Ce();return r?.before(n),K(n),n}return K(r),r}function $s(e,t){if(!$){var r=ke(e);return r instanceof Comment&&r.data===""?xe(r):r}if(t&&W?.nodeType!==Bn){var n=Ce();return W?.before(n),K(n),n}return W}function ar(e,t=1,r=!1){let n=$?W:e;for(var o;t--;)o=n,n=xe(n);if(!$)return n;if(r&&n?.nodeType!==Bn){var i=Ce();return n===null?o?.after(i):n.before(i),K(i),i}return K(n),n}function io(e){e.textContent=""}function fn(){if(!et||Tt!==null)return!1;var e=k.f;return(e&32768)!==0}var Lf=!1;function di(){Lf||(Lf=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function lr(e){var t=P,r=k;fe(null),he(null);try{return e()}finally{fe(t),he(r)}}function Ss(e,t,r,n=r){e.addEventListener(t,()=>lr(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),di()}function Ls(e){k===null&&P===null&&tf(e),P!==null&&(P.f&256)!==0&&k===null&&ef(),ct&&Jl(e)}function gd(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ht(e,t,r,n=!0){var o=k;if(A)for(;o!==null&&(o.f&131072)!==0;)o=o.parent;o!==null&&(o.f&8192)!==0&&(e|=8192);var i={ctx:V,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(A&&(i.component_function=lt),r)try{dt(i),i.f|=32768}catch(l){throw me(i),l}else t!==null&&Ht(i);if(n){var s=i;if(r&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&524288)===0&&(s=s.first),s!==null&&(s.parent=o,o!==null&&gd(s,o),P!==null&&(P.f&2)!==0&&(e&64)===0)){var a=P;(a.effects??(a.effects=[])).push(s)}}return i}function He(e){let t=ht(8,null,!1);return ne(t,1024),t.teardown=e,t}function cn(e){Ls("$effect"),A&&ce(e,"name",{value:"$effect"});var t=k.f,r=!P&&(t&32)!==0&&(t&32768)===0;if(r){var n=V;(n.e??(n.e=[])).push(e)}else return ds(e)}function ds(e){return ht(1048580,e,!1)}function so(e){return Ls("$effect.pre"),A&&ce(e,"name",{value:"$effect.pre"}),ht(1048584,e,!0)}function mi(e){Et.ensure();let t=ht(524352,e,!0);return()=>{me(t)}}function Bf(e){Et.ensure();let t=ht(524352,e,!0);return(r={})=>new Promise(n=>{r.outro?kt(t,()=>{me(t),n(void 0)}):(me(t),n(void 0))})}function nt(e){return ht(4,e,!1)}function Ms(e,t){var r=V,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=pe(()=>{e(),!n.ran&&(n.ran=!0,Y(t))})}function Os(){var e=V;pe(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&1024)!==0&&ne(r,4096),Gt(r)&&dt(r),t.ran=!1}})}function Ef(e){return ht(4718592,e,!0)}function pe(e,t=0){return ht(8|t,e,!0)}function un(e,t=[],r=[]){ni(t,r,n=>{ht(8,()=>e(...n.map(R)),!0)})}function Re(e,t=0){var r=ht(16|t,e,!0);return A&&(r.dev_stack=Bt),r}function de(e,t=!0){return ht(524320,e,!0,t)}function Bs(e){var t=e.teardown;if(t!==null){let r=ct,n=P;Rs(!0),fe(null);try{t.call(null)}finally{Rs(r),fe(n)}}}function Fs(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){let o=r.ac;o!==null&&lr(()=>{o.abort(Kr)});var n=r.next;(r.f&64)!==0?r.parent=null:me(r,t),r=n}}function Ff(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&32)===0&&me(t),t=r}}function me(e,t=!0){var r=!1;(t||(e.f&262144)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Yf(e.nodes_start,e.nodes_end),r=!0),Fs(e,t&&!r),ao(e,0),ne(e,16384);var n=e.transitions;if(n!==null)for(let i of n)i.stop();Bs(e);var o=e.parent;o!==null&&o.first!==null&&Ts(e),A&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Yf(e,t){for(;e!==null;){var r=e===t?null:xe(e);e.remove(),e=r}}function Ts(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function kt(e,t){var r=[];hi(e,r,!0),Ys(r,()=>{me(e),t&&t()})}function Ys(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function hi(e,t,r){if((e.f&8192)===0){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&65536)!==0||(n.f&32)!==0;hi(n,t,i?r:!1),n=o}}}function Dr(e){Wf(e,!0)}function Wf(e,t){if((e.f&8192)!==0){e.f^=8192,(e.f&1024)===0&&(ne(e,2048),Ht(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;Wf(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var Vf=null;var Nr=!1;function ks(e){Nr=e}var ct=!1;function Rs(e){ct=e}var P=null,Le=!1;function fe(e){P=e}var k=null;function he(e){k=e}var Pt=null;function ys(e){P!==null&&(!et||(P.f&2)!==0)&&(Pt===null?Pt=[e]:Pt.push(e))}var Pe=null,Ge=0,We=null;function Df(e){We=e}var Hf=1,lo=0,sr=lo;function Ds(e){sr=e}var Vt=!1;function Kn(){return++Hf}function Gt(e){var t=e.f;if((t&2048)!==0)return!0;if((t&4096)!==0){var r=e.deps,n=(t&256)!==0;if(r!==null){var o,i,s=(t&512)!==0,a=n&&k!==null&&!Vt,l=r.length;if((s||a)&&(k===null||(k.f&16384)===0)){var f=e,p=f.parent;for(o=0;o<l;o++)i=r[o],(s||!i?.reactions?.includes(f))&&(i.reactions??(i.reactions=[])).push(f);s&&(f.f^=512),a&&p!==null&&(p.f&256)===0&&(f.f^=256)}for(o=0;o<l;o++)if(i=r[o],Gt(i)&&ws(i),i.wv>e.wv)return!0}(!n||k!==null&&!Vt)&&ne(e,1024)}return!1}function Gf(e,t,r=!0){var n=e.reactions;if(n!==null&&!(!et&&Pt?.includes(e)))for(var o=0;o<n.length;o++){var i=n[o];(i.f&2)!==0?Gf(i,t,!1):t===i&&(r?ne(i,2048):(i.f&1024)!==0&&ne(i,4096),Ht(i))}}function ti(e){var b;var t=Pe,r=Ge,n=We,o=P,i=Vt,s=Pt,a=V,l=Le,f=sr,p=e.f;Pe=null,Ge=0,We=null,Vt=(p&256)!==0&&(Le||!Nr||P===null),P=(p&96)===0?e:null,Pt=null,tr(e.ctx),Le=!1,sr=++lo,e.ac!==null&&(lr(()=>{e.ac.abort(Kr)}),e.ac=null);try{e.f|=2097152;var u=e.fn,c=u(),d=e.deps;if(Pe!==null){var m;if(ao(e,Ge),d!==null&&Ge>0)for(d.length=Ge+Pe.length,m=0;m<Pe.length;m++)d[Ge+m]=Pe[m];else e.deps=d=Pe;if(!Vt||(p&2)!==0&&e.reactions!==null)for(m=Ge;m<d.length;m++)((b=d[m]).reactions??(b.reactions=[])).push(e)}else d!==null&&Ge<d.length&&(ao(e,Ge),d.length=Ge);if(yt()&&We!==null&&!Le&&d!==null&&(e.f&6146)===0)for(m=0;m<We.length;m++)Gf(We[m],e);return o!==null&&o!==e&&(lo++,We!==null&&(n===null?n=We:n.push(...We))),(e.f&8388608)!==0&&(e.f^=8388608),c}catch(_){return hs(_)}finally{e.f^=2097152,Pe=t,Ge=r,We=n,P=o,Vt=i,Pt=s,tr(a),Le=l,sr=f}}function vd(e,t){let r=t.reactions;if(r!==null){var n=Ul.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&(t.f&2)!==0&&(Pe===null||!Pe.includes(t))&&(ne(t,4096),(t.f&768)===0&&(t.f^=512),ei(t),ao(t,0))}function ao(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)vd(e,r[n])}function dt(e){var t=e.f;if((t&16384)===0){ne(e,1024);var r=k,n=Nr;if(k=e,Nr=!0,A){var o=lt;Hn(e.component_function);var i=Bt;Xo(e.dev_stack??Bt)}try{(t&16)!==0?Ff(e):Fs(e),Bs(e);var s=ti(e);if(e.teardown=typeof s=="function"?s:null,e.wv=Hf,A&&At&&(e.f&2048)!==0&&e.deps!==null)for(var a of e.deps)a.set_during_effect&&(a.wv=Kn(),a.set_during_effect=!1)}finally{Nr=n,k=r,A&&(Hn(o),Xo(i))}}}function R(e){var t=e.f,r=(t&2)!==0;if(Vf?.add(e),P!==null&&!Le){var n=k!==null&&(k.f&16384)!==0;if(!n&&!Pt?.includes(e)){var o=P.deps;if((P.f&2097152)!==0)e.rv<lo&&(e.rv=lo,Pe===null&&o!==null&&o[Ge]===e?Ge++:Pe===null?Pe=[e]:(!Vt||!Pe.includes(e))&&Pe.push(e));else{(P.deps??(P.deps=[])).push(e);var i=e.reactions;i===null?e.reactions=[P]:i.includes(P)||i.push(P)}}}else if(r&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&256)===0&&(s.f^=256)}if(A){if(Wt){var l=(Wt.f&2097152)!==0,f=Wt.deps?.includes(e);if(!l&&!Le&&!f){df(e.label);var p=wt("TracedAt");p&&console.warn(p)}}if(Qn.delete(e),At&&!Le&&Vn!==null&&P!==null&&Vn.reaction===P){if(e.trace)e.trace();else if(p=wt("TracedAt"),p){var u=Vn.entries.get(e);u===void 0&&(u={traces:[]},Vn.entries.set(e,u));var c=u.traces[u.traces.length-1];p.stack!==c?.stack&&u.traces.push(p)}}}if(ct){if(It.has(e))return It.get(e);if(r){s=e;var d=s.v;return((s.f&1024)===0&&s.reactions!==null||Uf(s))&&(d=Xn(s)),It.set(s,d),d}}else if(r){if(s=e,rr?.has(s))return rr.get(s);Gt(s)&&ws(s)}if((e.f&8388608)!==0)throw e.v;return e.v}function Uf(e){if(e.v===q)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(It.has(t)||(t.f&2)!==0&&Uf(t))return!0;return!1}function Y(e){var t=Le;try{return Le=!0,e()}finally{Le=t}}var bd=-7169;function ne(e,t){e.f=e.f&bd|t}function Pr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ie in e)vi(e);else if(!Array.isArray(e))for(let t in e){let r=e[t];typeof r=="object"&&r&&Ie in r&&vi(r)}}}function vi(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{vi(e[n],t)}catch{}let r=gr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Go(r);for(let o in n){let i=n[o].get;if(i)try{i.call(e)}catch{}}}}}var wd=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var U1=[...wd,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var yd=["touchstart","touchmove"];function jf(e){return yd.includes(e)}var xd=["$state","$state.raw","$derived","$derived.by"],j1=[...xd,"$state.snapshot","$props","$props.id","$bindable","$effect","$effect.pre","$effect.tracking","$effect.root","$effect.pending","$inspect","$inspect().with","$inspect.trace","$host"];var Zf=new Map;function qf(e,t){var r=Zf.get(e);r||(r=new Set,Zf.set(e,r)),r.add(t)}var Kf=new Set,Ws=new Set;var Xf=null;function fo(e){var t=this,r=t.ownerDocument,n=e.type,o=e.composedPath?.()||[],i=o[0]||e.target;Xf=e;var s=0,a=Xf===e&&e.__root;if(a){var l=o.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=o.indexOf(t);if(f===-1)return;l<=f&&(s=l)}if(i=o[s]||e.target,i!==t){ce(e,"currentTarget",{configurable:!0,get(){return i||r}});var p=P,u=k;fe(null),he(null);try{for(var c,d=[];i!==null;){var m=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+n];if(b!=null&&(!i.disabled||e.target===i))if(Xe(b)){var[_,...v]=b;_.apply(i,[e,...v])}else b.call(i,e)}catch(E){c?d.push(E):c=E}if(e.cancelBubble||m===t||m===null)break;i=m}if(c){for(let E of d)queueMicrotask(()=>{throw E});throw c}}finally{e.__root=t,delete e.currentTarget,fe(p),he(u)}}}var Cd;function Jf(){Cd=void 0}function bi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function fr(e,t){var r=k;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function pn(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if($)return fr(W,null),W;o===void 0&&(o=bi(i?e:"<!>"+e),r||(o=ke(o)));var s=n||jn?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=ke(s),l=s.lastChild;fr(a,l)}else fr(s,s);return s}}function cr(e,t){if($){k.nodes_end=W,ye();return}e!==null&&e.before(t)}var Vs=!0;function co(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function mn(e,t){return tc(e,t)}function Gs(e,t){pi(),t.intro=t.intro??!1;let r=t.target,n=$,o=W;try{for(var i=ke(r);i&&(i.nodeType!==Ke||i.data!=="[");)i=xe(i);if(!i)throw Ot;we(!0),K(i),ye();let s=tc(e,{...t,anchor:i});if(W===null||W.nodeType!==Ke||W.data!=="]")throw br(),Ot;return we(!1),s}catch(s){if(s instanceof Error&&s.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw s;return s!==Ot&&console.warn("Failed to hydrate: ",s),t.recover===!1&&of(),pi(),io(r),we(!1),mn(e,t)}finally{we(n),K(o),Jf()}}var dn=new Map;function tc(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){pi();var a=new Set,l=u=>{for(var c=0;c<u.length;c++){var d=u[c];if(!a.has(d)){a.add(d);var m=jf(d);t.addEventListener(d,fo,{passive:m});var b=dn.get(d);b===void 0?(document.addEventListener(d,fo,{passive:m}),dn.set(d,1)):dn.set(d,b+1)}}};l(Mn(Kf)),Ws.add(l);var f=void 0,p=Bf(()=>{var u=r??t.appendChild(Ce());return de(()=>{if(i){Gn({});var c=V;c.c=i}o&&(n.$$events=o),$&&fr(u,null),Vs=s,f=e(u,n)||{},Vs=!0,$&&(k.nodes_end=W),i&&Un()}),()=>{for(var c of a){t.removeEventListener(c,fo);var d=dn.get(c);--d===0?(document.removeEventListener(c,fo),dn.delete(c)):dn.set(c,d)}Ws.delete(l),u!==r&&u.parentNode?.removeChild(u)}});return Hs.set(f,p),f}var Hs=new WeakMap;function uo(e,t){let r=Hs.get(e);return r?(Hs.delete(e),r(t)):(A&&_f(),Promise.resolve())}function Us(e,t,r=!1){$&&ye();var n=e,o=null,i=null,s=q,a=r?65536:0,l=!1;let f=(d,m=!0)=>{l=!0,c(m,d)};var p=null;function u(){p!==null&&(p.lastChild.remove(),n.before(p),p=null);var d=s?o:i,m=s?i:o;d&&Dr(d),m&&kt(m,()=>{s?i=null:o=null})}let c=(d,m)=>{if(s===(s=d))return;let b=!1;if($){let B=zo(n)==="[!";!!s===B&&(n=wr(),K(n),we(!1),b=!0)}var _=fn(),v=n;if(_&&(p=document.createDocumentFragment(),p.append(v=Ce())),s?o??(o=m&&de(()=>m(v))):i??(i=m&&de(()=>m(v))),_){var E=Q,N=s?o:i,O=s?i:o;N&&E.skipped_effects.delete(N),O&&E.skipped_effects.add(O),E.add_callback(u)}else u();b&&we(!0)};Re(()=>{l=!1,t(f),l||c(null,null)},a),$&&(n=W)}var po=null;function Zs(e,t){return t}function Pd(e,t,r){for(var n=e.items,o=[],i=t.length,s=0;s<i;s++)hi(t[s].e,o,!0);var a=i>0&&o.length===0&&r!==null;if(a){var l=r.parentNode;io(l),l.append(r),n.clear(),$t(e,t[0].prev,t[i-1].next)}Ys(o,()=>{for(var f=0;f<i;f++){var p=t[f];a||(n.delete(p.k),$t(e,p.prev,p.next)),me(p.e,!a)}})}function qs(e,t,r,n,o,i=null){var s=e,a={flags:t,items:new Map,first:null},l=(t&4)!==0;if(l){var f=e;s=$?K(ke(f)):f.appendChild(Ce())}$&&ye();var p=null,u=!1,c=new Map,d=Er(()=>{var v=r();return Xe(v)?v:v==null?[]:Mn(v)}),m,b;function _(){$d(b,m,a,c,s,o,t,n,r),i!==null&&(m.length===0?p?Dr(p):p=de(()=>i(s)):p!==null&&kt(p,()=>{p=null}))}Re(()=>{b??(b=k),m=R(d);var v=m.length;if(u&&v===0)return;u=v===0;let E=!1;if($){var N=zo(s)==="[!";N!==(v===0)&&(s=wr(),K(s),we(!1),E=!0)}if($){for(var O=null,B,w=0;w<v;w++){if(W.nodeType===Ke&&W.data==="]"){s=W,E=!0,we(!1);break}var g=m[w],x=n(g,w);B=zs(W,a,O,null,g,x,w,o,t,r),a.items.set(x,B),O=B}v>0&&K(wr())}if($)v===0&&i&&(p=de(()=>i(s)));else if(fn()){var S=new Set,I=Q;for(w=0;w<v;w+=1){g=m[w],x=n(g,w);var F=a.items.get(x)??c.get(x);F?(t&3)!==0&&nc(F,g,w,t):(B=zs(null,a,null,null,g,x,w,o,t,r,!0),c.set(x,B)),S.add(x)}for(let[L,j]of a.items)S.has(L)||I.skipped_effects.add(j.e);I.add_callback(_)}else _();E&&we(!0),R(d)}),$&&(s=W)}function $d(e,t,r,n,o,i,s,a,l){var f=(s&8)!==0,p=(s&3)!==0,u=t.length,c=r.items,d=r.first,m=d,b,_=null,v,E=[],N=[],O,B,w,g;if(f)for(g=0;g<u;g+=1)O=t[g],B=a(O,g),w=c.get(B),w!==void 0&&(w.a?.measure(),(v??(v=new Set)).add(w));for(g=0;g<u;g+=1){if(O=t[g],B=a(O,g),w=c.get(B),w===void 0){var x=n.get(B);if(x!==void 0){n.delete(B),c.set(B,x);var S=_?_.next:m;$t(r,_,x),$t(r,x,S),js(x,S,o),_=x}else{var I=m?m.e.nodes_start:o;_=zs(I,r,_,_===null?r.first:_.next,O,B,g,i,s,l)}c.set(B,_),E=[],N=[],m=_.next;continue}if(p&&nc(w,O,g,s),(w.e.f&8192)!==0&&(Dr(w.e),f&&(w.a?.unfix(),(v??(v=new Set)).delete(w))),w!==m){if(b!==void 0&&b.has(w)){if(E.length<N.length){var F=N[0],L;_=F.prev;var j=E[0],z=E[E.length-1];for(L=0;L<E.length;L+=1)js(E[L],F,o);for(L=0;L<N.length;L+=1)b.delete(N[L]);$t(r,j.prev,z.next),$t(r,_,j),$t(r,z,F),m=F,_=z,g-=1,E=[],N=[]}else b.delete(w),js(w,m,o),$t(r,w.prev,w.next),$t(r,w,_===null?r.first:_.next),$t(r,_,w),_=w;continue}for(E=[],N=[];m!==null&&m.k!==B;)(m.e.f&8192)===0&&(b??(b=new Set)).add(m),N.push(m),m=m.next;if(m===null)continue;w=m}E.push(w),_=w,m=w.next}if(m!==null||b!==void 0){for(var U=b===void 0?[]:Mn(b);m!==null;)(m.e.f&8192)===0&&U.push(m),m=m.next;var se=U.length;if(se>0){var Me=(s&4)!==0&&u===0?o:null;if(f){for(g=0;g<se;g+=1)U[g].a?.measure();for(g=0;g<se;g+=1)U[g].a?.fix()}Pd(r,U,Me)}}f&&xt(()=>{if(v!==void 0)for(w of v)w.a?.apply()}),e.first=r.first&&r.first.e,e.last=_&&_.e;for(var zt of n.values())me(zt.e);n.clear()}function nc(e,t,r,n){(n&1)!==0&&Ct(e.v,t),(n&2)!==0?Ct(e.i,r):e.i=r}function zs(e,t,r,n,o,i,s,a,l,f,p){var u=po,c=(l&1)!==0,d=(l&16)===0,m=c?d?rt(o,!1,!1):Fe(o):o,b=(l&2)===0?s:Fe(s);A&&c&&(m.trace=()=>{var E=typeof b=="number"?s:b.v;f()[E]});var _={i:b,v:m,k:i,a:null,e:null,prev:r,next:n};po=_;try{if(e===null){var v=document.createDocumentFragment();v.append(e=Ce())}return _.e=de(()=>a(e,m,b,f),$),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?p||(t.first=_):(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{po=u}}function js(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==null&&i!==n;){var s=xe(i);o.before(i),i=s}}function $t(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Qs(e,t){nt(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let o=document.createElement("style");o.id=t.hash,o.textContent=t.code,n.appendChild(o),A&&qf(t.hash,o)}})}var oc=[...` 	
\r\f\xA0\v\uFEFF`];function sc(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var o in r)if(r[o])n=n?n+" "+o:o;else if(n.length)for(var i=o.length,s=0;(s=n.indexOf(o,s))>=0;){var a=s+i;(s===0||oc.includes(n[s-1]))&&(a===n.length||oc.includes(n[a]))?n=(s===0?"":n.substring(0,s))+n.substring(a+1):s=a}}return n===""?null:n}function ic(e,t=!1){var r=t?" !important;":";",n="";for(var o in e){var i=e[o];i!=null&&i!==""&&(n+=" "+o+": "+i+r)}return n}function Xs(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function ac(e,t){if(t){var r="",n,o;if(Array.isArray(t)?(n=t[0],o=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,a=!1,l=[];n&&l.push(...Object.keys(n).map(Xs)),o&&l.push(...Object.keys(o).map(Xs));var f=0,p=-1;let b=e.length;for(var u=0;u<b;u++){var c=e[u];if(a?c==="/"&&e[u-1]==="*"&&(a=!1):i?i===c&&(i=!1):c==="/"&&e[u+1]==="*"?a=!0:c==='"'||c==="'"?i=c:c==="("?s++:c===")"&&s--,!a&&i===!1&&s===0){if(c===":"&&p===-1)p=u;else if(c===";"||u===b-1){if(p!==-1){var d=Xs(e.substring(f,p).trim());if(!l.includes(d)){c!==";"&&u++;var m=e.substring(f,u).trim();r+=" "+m+";"}}f=u+1,p=-1}}}}return n&&(r+=ic(n)),o&&(r+=ic(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function hn(e,t,r,n,o,i){var s=e.__className;if($||s!==r||s===void 0){var a=sc(r,n,i);(!$||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a)),e.__className=r}else if(i&&o!==i)for(var l in i){var f=!!i[l];(o==null||f!==!!o[l])&&e.classList.toggle(l,f)}return i}function Ks(e,t={},r,n){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,n))}}function ur(e,t,r,n){var o=e.__style;if($||o!==t){var i=ac(t,n);(!$||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(Ks(e,r?.[0],n[0]),Ks(e,r?.[1],n[1],"important")):Ks(e,r,n));return n}var Vd=Symbol("class"),Hd=Symbol("style"),Gd=Symbol("is custom element"),Ud=Symbol("is html");function ea(e){if($){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;mo(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;mo(e,"checked",null),e.checked=o}}};e.__on_r=r,yf(r),di()}}function mo(e,t,r,n){var o=jd(e);if($&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||Zd(e,t,r??"");return}o[t]!==(o[t]=r)&&(t==="loading"&&(e[ql]=r),r==null?e.removeAttribute(t):typeof r!="string"&&zd(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function jd(e){return e.__attributes??(e.__attributes={[Gd]:e.nodeName.includes("-"),[Ud]:e.namespaceURI===pf})}var lc=new Map;function zd(e){var t=e.getAttribute("is")||e.nodeName,r=lc.get(t);if(r)return r;lc.set(t,r=[]);for(var n,o=e,i=Element.prototype;i!==o;){n=Go(o);for(var s in n)n[s].set&&r.push(s);o=gr(o)}return r}function Zd(e,t,r){A&&(t==="srcset"&&qd(e,r)||Js(e.getAttribute(t)??"",r)||hf(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Js(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function fc(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function qd(e,t){var r=fc(e.srcset),n=fc(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Js(r[s][0],o)||Js(o,r[s][0])))}function ta(e,t,r=t){Ss(e,"change",n=>{var o=n?e.defaultChecked:e.checked;r(o)}),($&&e.defaultChecked!==e.checked||Y(t)==null)&&r(e.checked),pe(()=>{var n=t();e.checked=!!n})}function ra(e=!1){let t=V,r=t.l.u;if(!r)return;let n=()=>Pr(t.s);if(e){let o=0,i={},s=xr(()=>{let a=!1,l=t.s;for(let f in l)l[f]!==i[f]&&(i[f]=l[f],a=!0);return a&&o++,o});n=()=>R(s)}r.b.length&&so(()=>{uc(t,n),vr(r.b)}),cn(()=>{let o=Y(()=>r.m.map(zl));return()=>{for(let i of o)typeof i=="function"&&i()}}),r.a.length&&cn(()=>{uc(t,n),vr(r.a)})}function uc(e,t){if(e.l.s)for(let r of e.l.s)R(r);t()}function xi(e,t,r){if(e==null)return t(void 0),r&&r(void 0),Ne;let n=Y(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var _n=[];function $r(e,t=Ne){let r=null,n=new Set;function o(a){if(Wn(e,a)&&(e=a,r)){let l=!_n.length;for(let f of n)f[1](),_n.push(f,e);if(l){for(let f=0;f<_n.length;f+=2)_n[f][0](_n[f+1]);_n.length=0}}}function i(a){o(a(e))}function s(a,l=Ne){let f=[a,l];return n.add(f),n.size===1&&(r=t(o,i)||Ne),a(e),()=>{n.delete(f),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}function Ei(e){let t;return xi(e,r=>t=r)(),t}var Ci=!1,na=Symbol();function gn(e,t,r){let n=r[t]??(r[t]={store:null,source:rt(void 0),unsubscribe:Ne});if(A&&(n.source.label=t),n.store!==e&&!(na in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Ne;else{var o=!0;n.unsubscribe=xi(e,i=>{o?n.source.v=i:te(n.source,i)}),o=!1}return e&&na in r?Ei(e):R(n.source)}function oa(){let e={};function t(){He(()=>{for(var r in e)e[r].unsubscribe();ce(e,na,{enumerable:!1,value:!0})})}return[e,t]}function ia(e){var t=Ci;try{return Ci=!1,[e(),Ci]}finally{Ci=t}}function vn(e,t,r,n){var o=!bt||(r&2)!==0,i=(r&8)!==0,s=(r&16)!==0,a=n,l=!0,f=()=>(l&&(l=!1,a=s?Y(n):n),a),p;if(i){var u=Ie in e||On in e;p=$e(e,t)?.set??(u&&t in e?N=>e[t]=N:void 0)}var c,d=!1;i?[c,d]=ia(()=>e[t]):c=e[t],c===void 0&&n!==void 0&&(c=f(),p&&(o&&sf(t),p(c)));var m;if(o?m=()=>{var N=e[t];return N===void 0?f():(l=!0,N)}:m=()=>{var N=e[t];return N!==void 0&&(a=void 0),N===void 0?a:N},o&&(r&4)===0)return m;if(p){var b=e.$$legacy;return(function(N,O){return arguments.length>0?((!o||!O||b||d)&&p(O?m():N),N):m()})}var _=!1,v=((r&1)!==0?xr:Er)(()=>(_=!1,m()));A&&(v.label=t),i&&R(v);var E=k;return(function(N,O){if(arguments.length>0){let B=O?R(v):o&&i?Ut(N):N;return te(v,B),_=!0,a!==void 0&&(a=B),N}return ct&&_||(E.f&16384)!==0?v.v:R(v)})}function pc(e){return new sa(e)}var jt,ot,sa=class{constructor(t){le(this,jt);le(this,ot);var r=new Map,n=(i,s)=>{var a=rt(s,!1,!1);return r.set(i,a),a};let o=new Proxy({...t.props||{},$$events:{}},{get(i,s){return R(r.get(s)??n(s,Reflect.get(i,s)))},has(i,s){return s===On?!0:(R(r.get(s)??n(s,Reflect.get(i,s))),Reflect.has(i,s))},set(i,s,a){return te(r.get(s)??n(s,a),a),Reflect.set(i,s,a)}});ge(this,ot,(t.hydrate?Gs:mn)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),!et&&(!t?.props?.$$host||t.sync===!1)&&ln(),ge(this,jt,o.$$events);for(let i of Object.keys(M(this,ot)))i==="$set"||i==="$destroy"||i==="$on"||ce(this,i,{get(){return M(this,ot)[i]},set(s){M(this,ot)[i]=s},enumerable:!0});M(this,ot).$set=i=>{Object.assign(o,i)},M(this,ot).$destroy=()=>{uo(M(this,ot))}}$set(t){M(this,ot).$set(t)}$on(t,r){M(this,jt)[t]=M(this,jt)[t]||[];let n=(...o)=>r.call(this,...o);return M(this,jt)[t].push(n),()=>{M(this,jt)[t]=M(this,jt)[t].filter(o=>o!==n)}}$destroy(){M(this,ot).$destroy()}};jt=new WeakMap,ot=new WeakMap;var cm;typeof HTMLElement=="function"&&(cm=class extends HTMLElement{constructor(t,r,n){super();ae(this,"$$ctor");ae(this,"$$s");ae(this,"$$c");ae(this,"$$cn",!1);ae(this,"$$d",{});ae(this,"$$r",!1);ae(this,"$$p_d",{});ae(this,"$$l",{});ae(this,"$$l_u",new Map);ae(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),cr(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=um(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=aa(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=pc({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=mi(()=>{pe(()=>{this.$$r=!0;for(let o of ls(this.$$c)){if(!this.$$p_d[o]?.reflect)continue;this.$$d[o]=this.$$c[o];let i=aa(o,this.$$d[o],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,i)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){this.$$r||(t=this.$$g_p(t),this.$$d[t]=aa(t,n,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return ls(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function aa(e,t,r,n){let o=r[e]?.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function um(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(A){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;af(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function la(e){V===null&&Fn("onMount"),bt&&V.l!==null?dm(V).m.push(e):cn(()=>{let t=Y(e);if(typeof t=="function")return t})}function dc(e){V===null&&Fn("onDestroy"),la(()=>()=>Y(e))}function dm(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var mc;typeof window<"u"&&((mc=window.__svelte??(window.__svelte={})).v??(mc.v=new Set)).add("5");gf();var ho=$r(new _t([],!1)),ki=$r(new Date),Ti=$r([]),Ni=$r([]);var hm=pn('<div><div class="event_item_contents svelte-1w1uwcg"><div></div> <div class="ei_Item svelte-1w1uwcg"><span class="ei_Title svelte-1w1uwcg"> </span> <span class="ei_Copy svelte-1w1uwcg"> </span></div></div></div>'),_m=pn('<div><div class="aside__line filled__line svelte-1w1uwcg"><div class="filled__line__completed svelte-1w1uwcg"></div></div></div> <div class="events svelte-1w1uwcg"></div> <div id="now-line" class="svelte-1w1uwcg"><span class="timeline-time svelte-1w1uwcg"> </span></div> <div id="scroll-controls" class="svelte-1w1uwcg"><label for="auto-scroll" class="svelte-1w1uwcg">Track time</label> <input id="auto-scroll" type="checkbox" class="toggle svelte-1w1uwcg"/></div>',1),gm=pn('<div class="empty-timeline svelte-1w1uwcg">No Planner Data</div>'),vm=pn('<div id="day-planner-timeline-container" class="svelte-1w1uwcg"><!></div>'),bm={hash:"svelte-1w1uwcg",code:`#day-planner-timeline-container.svelte-1w1uwcg {position:relative;}.aside.svelte-1w1uwcg {position:absolute;top:-1px;left:0;width:65px;height:100%;background-repeat:repeat-y;opacity:80%;}.aside-x5.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAEsCAYAAADHIkNEAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAABLAAAAAAuMW7GAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAsElEQVR4Ae3ZMQoAIAgFUL3/ocsO0GBLFE9wESJ8jj8jYlQrAgQIECBAgAABAgQIECBAgAABAgQIECBAgACBbwWyNutGQuuNIkCAAAECBAgQIECAAAECBAgQIECAAAECBAgQeEbgJBLaLScq2smYEyBAgAABAgQIECBAgAABAgQIECBAgAABAgSuCpxEQqKfqyfzOQECBAgQIECAAAECBAgQIECAAAECBAgQIECgKzABwWUEBHBCyqYAAAAASUVORK5CYII=);}.aside-x4.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAADwCAYAAAAEqZSkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAA8AAAAABUK6+SAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA2klEQVR4Ae3bMQqEMBBA0QT2Bh7G+5d2e5G9wRZruliM6CCBsE8QQghxeOUHaynlvb/zPHUf9TXPuCYlQIAAAQIECBAgQIAAAQIECBAg8N8CLegtNwk+V863i7crB7sza7cev8y0ze/4MX2RAAECBAgQIECAAAECBAgQIECAAIEmkGmbkdyheWbaZnTxmOaZaZvRxJpnJGOfAAECBAgQIECAAAECBAgQIECAwEMCmbZ5aJjRHJm2OaZhnk189590DTPStE+AAAECBAgQIECAAAECBAgQIEBgVoEfgLcJ4JWKwMAAAAAASUVORK5CYII=);}.aside-x3.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAC0CAYAAACQYNzeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAtAAAAAD5WFEbAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA6UlEQVRoBe3XQQrCQAwF0Bb0Hr2heB4v14MIOtmli8GmlFHhBQbimA7h7f48TdOjnf+pua16/Z91bUqAAAECBAgQIECAAAECHwQi58Wp1KsyfPpsbLsUX133zF/a0G3PYJq5p358GxSxdaWelWGzBAgQIECAAAECBAgQIDBUIHJenDNqTHiPbZcz1m1vrPmdIyE9f5/7MeE9KKohPW+Ze+E9a+gJECBAgAABAgQIECDwHYHIeXEqNSaM9zaKbZfen537tXO/uT4S0seE8c2a6UdQVEO6MJ4AtQQIECBAgAABAgQIECDwqwJv9lMMWDcoNMAAAAAASUVORK5CYII=);}.aside-x2.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAB4CAYAAAD2SgIRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAeAAAAADVvVTBAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAAt0lEQVRoBe3YMQqAMAyF4VYUD+Ii7p7JK7t4EkVsnOoSEtql+AuC2GdIPxxCYwhhS3c7V0ytju20S6cIIIAAAggg8EcBGVh658YvZ75uXDqenSV3S14YFkswy5gKZ3keEUAAAQQQQACBnwnI7NZV2vNdqY5eRjqe9Ih59ciTMm2u+YuC50/hgjr6p0Ix6BHz6mlOEkQAAQQQQAABBBwCMrBwtvmCcbbp+G+IIoAAAggggAACCDgFHqn/Cpqy3VM1AAAAAElFTkSuQmCC);}.aside-x1.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAA8CAYAAABig0prAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAPAAAAAB4zqpIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAArElEQVRYCe2VSwqAMAxEW3WjK3eCHsT7H0bBQ/jp7LqokIQirUyhUMIkJA8y9c65Ndx6jg+tdvW0y05J4CcEsHmtcpZTqc8rR8eLsuQm0cOAeomwGA1Q4GrOrRFTSwIkkCCArWsScUvosiSpc9DxrM5KJ+xxGLY5xIHi3xbbfBuKdvpGhnESqJ8AvGJSjnFI9LDNUSKMNKLCkT7v0/LnffO35Z2T1UiABAol8ACZ6QleECm8BQAAAABJRU5ErkJggg==);}.aside__line.svelte-1w1uwcg {position:absolute;left:65px;transform:translateX(-50%);width:4px;height:100%;background:var(--aside-line);}.filled.svelte-1w1uwcg {transform-origin:top center;z-index:1;
        animation: scaleDown 1s ease-in-out;animation-fill-mode:forwards;}.filled__line__completed.svelte-1w1uwcg {position:absolute;top:0;left:0;width:100%;}.events.svelte-1w1uwcg {position:relative;padding-bottom:50px;}.event_item.svelte-1w1uwcg {background-color:var(--event-color);border-bottom:2px solid var(--background-primary);margin:0;cursor:pointer;padding:5px 10px 10px 0;width:100%;overflow:hidden;}.event_item.short.svelte-1w1uwcg {padding:0;}.event_item.svelte-1w1uwcg:hover {background-color:var(--event-hover);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);}.event_item_contents.svelte-1w1uwcg {padding-left:58px;}.ei_Copy.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg {color:var(--text-on-accent);}.ei_Dot.svelte-1w1uwcg {display:inline-block;position:absolute;border-radius:50%;width:14px;height:14px;margin-top:5px;background-color:var(--aside-dot);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);z-index:2;}.dot_active.svelte-1w1uwcg {background-color:var(--active-dot);}.ei_Item.svelte-1w1uwcg {padding-left:40px;text-indent:-20px;}.ei_Title.svelte-1w1uwcg {padding-right:10px;}.ei_Copy.svelte-1w1uwcg {font-size:15px;}.header_title.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg,
    .ce_title.svelte-1w1uwcg {color:#fff;}#now-line.svelte-1w1uwcg {height:4px;background-color:darkred;opacity:80%;position:absolute;z-index:3;width:100%;}#now-line.svelte-1w1uwcg .timeline-time:where(.svelte-1w1uwcg) {position:relative;left:5px;top:0;background-color:darkred;color:#fff;padding:0 4px 2px 4px;border-radius:0 0 4px 4px;text-align:center;}#scroll-controls.svelte-1w1uwcg {background-color:var(--background-secondary);position:sticky;bottom:0;width:100%;z-index:4;padding:8px 15px;text-align:center;height:45px;}#scroll-controls.svelte-1w1uwcg label:where(.svelte-1w1uwcg) {display:block;float:left;margin:2px;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg) {-webkit-appearance:none;-moz-appearance:none;appearance:none;width:50px;height:20px;display:block;float:left;position:relative;margin-top:5px;border-radius:50px;overflow:hidden;outline:none;border:none;cursor:pointer;background-color:var(--background-secondary-alt);transition:background-color ease 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):before {content:"on    ";display:block;position:absolute;z-index:2;width:17px;height:17px;background:#fff;left:2px;top:1px;border-radius:50%;font:9px/18px Helvetica;text-transform:uppercase;font-weight:bold;text-indent:-24px;word-spacing:30px;color:#fff;text-shadow:-1px -1px rgba(0, 0, 0, 0.15);white-space:nowrap;box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);transition:all cubic-bezier(0.3, 1.5, 0.7, 1) 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked {background-color:var(--interactive-accent);}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked:before {left:31px;}#scroll-controls.svelte-1w1uwcg input[type="checkbox"]:where(.svelte-1w1uwcg):checked:after {background-color:transparent;}.empty-timeline.svelte-1w1uwcg {text-align:center;vertical-align:middle;margin-top:50%;}`};function fa(e,t){Gn(t,!1),Qs(e,bm);let r=()=>gn(ki,"$now",s),n=()=>gn(ho,"$planSummary",s),o=()=>gn(Ti,"$timelineColors",s),i=()=>gn(Ni,"$timelineHoverColors",s),[s,a]=oa(),l=window.moment,f=/\[([^\]]+)\]\(([^)]+)\)/g,p=/\[\[([^\]|]+)(\|([^\]]+))?\]\]/g,u=vn(t,"lineColor",8),c=vn(t,"zoomLevel",8),d=vn(t,"rootEl",8),m=vn(t,"settings",8);G.getInstance().logDebug("TimelineView.onOpen",{zoomLevel:c(),rootEl:d()});let b=rt(0),_=rt(0),v=rt(!0),E=null;function N(z){return l.duration(l(z).format("HH:mm")).asMinutes()*c()}la(()=>{w()}),dc(()=>{g(),E&&clearTimeout(E)});function O(z){let U=[];return z.durationMins<75/c()&&U.push("short"),z.isPast&&U.push("past"),z.isBreak&&U.push("break"),U.join(" ")}function B(z){let U=z.text??"";return U=U.replace(f,(se,Me,zt)=>`${Me}`),U=U.replace(p,(se,Me,zt,pr)=>`${pr||Me}`),U}function w(){d().addEventListener("scroll",S)}function g(){d().removeEventListener("scroll",S)}function x(z){R(v)&&!n().current?.isEnd&&(g(),d().scrollTo({left:0,top:z,behavior:"smooth"}),setTimeout(w,1e3))}function S(){te(v,!1),m().autoResumeScroll&&(E&&clearTimeout(E),E=setTimeout(()=>{te(v,!0),E=null},m().autoResumeScrollDelay))}Ms(()=>(r(),n(),R(b),Pr(c())),()=>{let z=r(),U=n(),se=U.items.first();te(b,U.empty?0:N(z)-N(se.time)),te(_,U.empty?0:se.time.getMinutes()*c()*-1-1),x(R(b)-150)}),Os(),ra();var I=vm(),F=Ve(I);{var L=z=>{var U=_m(),se=$s(U),Me=Ve(se),zt=Ve(Me);Se(Me),Se(se);var pr=ar(se,2);qs(pr,5,()=>(n(),Y(()=>n().activeItems())),Zs,(bn,Ue,vo)=>{var Lr=hm(),ua=Ve(Lr),pa=Ve(ua),da=ar(pa,2),$i=Ve(da),gc=Ve($i,!0);Se($i);var ma=ar($i,2),vc=Ve(ma,!0);Se(ma),Se(da),Se(ua),Se(Lr),un((bc,Ac)=>{hn(Lr,1,`event_item ${bc??""}`,"svelte-1w1uwcg"),ur(Lr,`height: ${R(Ue),Pr(c()),Y(()=>R(Ue).durationMins*c())??""}px; --event-color: ${o(),Y(()=>o()[vo])??""}; --event-hover: ${i(),Y(()=>i()[vo])??""};`),mo(Lr,"data-title",(R(Ue),Y(()=>R(Ue).rawTime))),hn(pa,1,`ei_Dot ${R(Ue),n(),Y(()=>R(Ue)===n().current?"dot_active":"")??""}`,"svelte-1w1uwcg"),co(gc,(R(Ue),Y(()=>R(Ue).rawTime))),co(vc,Ac)},[()=>(R(Ue),Y(()=>O(R(Ue)))),()=>(R(Ue),Y(()=>B(R(Ue))))]),cr(bn,Lr)}),Se(pr);var Sr=ar(pr,2),go=Ve(Sr),Pi=Ve(go,!0);Se(go),Se(Sr);var Rr=ar(Sr,2),ca=ar(Ve(Rr),2);ea(ca),Se(Rr),un(bn=>{hn(se,1,`aside aside-x${c()??""} filled`,"svelte-1w1uwcg"),ur(se,`top: ${R(_)??""}px;`),ur(zt,`height: ${R(b)??""}px;`),ur(Sr,`top:${R(b)??""}px; display: ${n(),Y(()=>n().current&&!n().current.isEnd?"block":"none")??""}`),co(Pi,bn)},[()=>(r(),Y(()=>l(r()).format("HH:mm")))]),ta(ca,()=>R(v),bn=>te(v,bn)),cr(z,U)},j=z=>{var U=gm();cr(z,U)};Us(F,z=>{n(),Y(()=>n().items.length>0)?z(L):z(j,!1)})}Se(I),un(()=>ur(I,`--aside-line: color-mix(in srgb, ${u()??""} 40%, transparent); --aside-dot: color-mix(in srgb, ${u()??""} 60%, transparent); --active-dot: ${u()??""}`)),cr(e,I),Un(),a()}var _o=class extends hc.ItemView{constructor(t,r,n){super(t),this.settings=r,ho.set(n)}getViewType(){return Br}getDisplayText(){return"Day Planner Timeline"}getIcon(){return this.settings.timelineIcon}update(t){if(!this.colors||t.items.length!==this.colors.length){let r=this.settings.timelineColorBegin||ee.timelineColorBegin,n=this.settings.timelineColorEnd||ee.timelineColorEnd,o=this.settings.timelineHoverColorBegin||ee.timelineHoverColorBegin,i=this.settings.timelineHoverColorEnd||ee.timelineHoverColorEnd;this.colors=as.scale([r,n]).mode("lch").colors(t.items.length,"hex"),this.hoverColors=as.scale([o,i]).mode("lch").colors(t.items.length,"hex"),Ti.set(this.colors),Ni.set(this.hoverColors)}ho.set(t),ki.set(new Date)}async onOpen(){this.component=mn(fa,{target:this.contentEl,props:{lineColor:this.settings.lineColor||ee.lineColor,zoomLevel:this.settings.timelineZoomLevel||4,rootEl:this.contentEl,settings:this.settings}})}async onClose(){uo(this.component)}};var Ii=class extends Di.Plugin{constructor(){super(...arguments);this.layoutReady=async()=>{this.file=new Nn(this.vault,this.settings),this.setTicker();let r=this.syncPlugin?.instance!==void 0;this.device=r?this.syncPlugin.instance.deviceName.length>0?this.syncPlugin.instance.deviceName:this.syncPlugin.instance.getDefaultDeviceName():"Unknown",await this.writerInfo();let n=new Dn;this.parser=new In(this.settings),this.plannerMD=new Yr(this.app.workspace,this.settings,this.file,this.parser,n),this.statusBar=new Pn(this.settings,this.addStatusBarItem(),this.app.workspace,n,new Yr(this.app.workspace,this.settings,this.file,this.parser,n),this.file),this.statusBar.initStatusBar(),window.dayPlanner={resolvePath:this.resolvePath.bind(this)}};this.codeMirror=r=>{this.file.hasTodayNote()&&this.plannerMD.checkIsDayPlannerEditing()}}get syncPlugin(){return this.app.internalPlugins.getPluginById("sync")}async onload(){G.getInstance().logInfo(`Loading Day Planner plugin v${this.manifest.version}`),this.vault=this.app.vault,this.settings=Object.assign(new Ao,await this.loadData()),G.getInstance().updateSettings(this.settings),this.notesForDatesQuery=new Zt,this.registerEvent(this.app.vault.on("modify",this.codeMirror,"")),this.addCommand({id:"app:add-to-note",name:"Add a Day Planner template for today to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!0)),hotkeys:[]}),this.addCommand({id:"app:link-to-note",name:"Link today's Day Planner to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!1)),hotkeys:[]}),this.addCommand({id:"app:unlink-from-note",name:"Unlink today's Day Planner from its note",callback:()=>this.modeGuard(async()=>await this.unlinkDayPlanner()),hotkeys:[]}),this.addCommand({id:"app:show-timeline",name:"Show the Day Planner Timeline",callback:()=>this.initLeaf(),hotkeys:[]}),this.addCommand({id:"app:show-today-note",name:"Show today's Day Planner",callback:()=>this.app.workspace.openLinkText(this.file.todayPlannerFilePath(),"",!0),hotkeys:[]}),this.addCommand({id:"app:set-as-writer",name:"Set current device as writer",callback:async()=>{this.settings.writer=this.device,this.save(),await this.writerInfo()},hotkeys:[]}),this.registerView(Br,r=>(this.timelineView=new _o(r,this.settings,new _t([],this.isWriter())),this.timelineView)),this.addSettingTab(new Eo(this.app,this)),this.register(()=>{window.dayPlanner=void 0}),this.app.workspace.onLayoutReady(this.layoutReady)}async onunload(){this.interval&&(G.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval))}async handleConfigFileChange(){await super.handleConfigFileChange(),this.settings=Object.assign(this.settings,await this.loadData()),this.parser.updateSettings(this.settings),G.getInstance().updateSettings(this.settings),await this.writerInfo()}async writerInfo(){let r=this.file?await this.file.hasTodayNote():!1;G.getInstance().logInfo("update Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter(),r)}isWriter(){return this.device==="Unknown"||!this.settings.writer||this.settings.writer===this.device}setTicker(){this.interval&&(G.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval),this.interval=void 0),G.getInstance().logDebug("set Ticker with Device/Writer:",this.device,this.settings.writer,this.isWriter()),this.interval=window.setInterval(()=>this.tick(),2e3)}async tick(){try{if(await this.file.hasTodayNote()){let r=await this.plannerMD.processDayPlanner(this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}else if(this.settings.mode==="Daily"&&(0,_c.appHasDailyNotesPluginLoaded)()){let r=new _t([],this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}}catch(r){G.getInstance().logError("error refreshing plan (tick)",r)}}initLeaf(){this.app.workspace.getLeavesOfType(Br).length>0||this.app.workspace.getRightLeaf(!0).setViewState({type:Br})}modeGuard(r){if(this.settings.mode!=="Command"){new Notification("Day Planner plugin in File mode",{silent:!0,body:"Switch to Command mode in settings to use this command"});return}r()}async insertDayPlannerIntoCurrentNote(r){try{let o=this.app.workspace.getActiveViewOfType(Di.MarkdownView).file.path,i=this.notesForDatesQuery.exists(this.settings.notesToDates),s=this.notesForDatesQuery.active(this.settings.notesToDates)?.notePath;if(this.settings.notesToDates=this.settings.notesToDates||[],i&&s!==o){new Notification("Day Planner exists",{silent:!0,body:`A Day Planner for today already exists in ${s}`});return}i?this.settings.notesToDates||(this.settings.notesToDates=[]):this.settings.notesToDates=[new Fr(o,new Date().toDateString())],await this.save(),r&&this.plannerMD.insertPlanner()}catch(n){console.error(n)}}async unlinkDayPlanner(){try{let r=this.notesForDatesQuery.active(this.settings.notesToDates);if(!r){new Notification("No Day Planner found",{silent:!0,body:"No Day Planner found for today"});return}this.settings.notesToDates=this.settings.notesToDates||[],this.settings.notesToDates.remove(r),await this.save(),this.statusBar.hide(this.statusBar.statusBar),this.timelineView?.update(new _t([],this.isWriter())),new Notification("Day Planner reset",{silent:!0,body:`The Day Planner for today has been dissociated from ${r.notePath} and can be added to another note`})}catch(r){console.error(r)}}async save(){await this.saveData(this.settings)}resolvePath(r){let n=this.file.todayPlannerFilePath();return this.app.metadataCache.getFirstLinkpathDest(r,n).path}};
/*! Bundled license information:

chroma-js/src/utils/contrastAPCA.js:
  (**
   * @license
   *
   * The APCA contrast prediction algorithm is based of the formulas published
   * in the APCA-1.0.98G specification by Myndex. The specification is available at:
   * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
   *
   * Note that the APCA implementation is still beta, so please update to
   * future versions of chroma.js when they become available.
   *
   * You can read more about the APCA Readability Criterion at
   * https://readtech.org/ARC/
   *)
*/

/* nosourcemap */